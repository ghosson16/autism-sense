function KP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x0={exports:{}},Jc={},O0={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),YP=Symbol.for("react.portal"),XP=Symbol.for("react.fragment"),JP=Symbol.for("react.strict_mode"),ZP=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),rC=Symbol.for("react.forward_ref"),nC=Symbol.for("react.suspense"),iC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),Fm=Symbol.iterator;function oC(e){return e===null||typeof e!="object"?null:(e=Fm&&e[Fm]||e["@@iterator"],typeof e=="function"?e:null)}var R0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L0=Object.assign,A0={};function no(e,t,r){this.props=e,this.context=t,this.refs=A0,this.updater=r||R0}no.prototype.isReactComponent={};no.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};no.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M0(){}M0.prototype=no.prototype;function ap(e,t,r){this.props=e,this.context=t,this.refs=A0,this.updater=r||R0}var op=ap.prototype=new M0;op.constructor=ap;L0(op,no.prototype);op.isPureReactComponent=!0;var $m=Array.isArray,I0=Object.prototype.hasOwnProperty,sp={current:null},j0={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)I0.call(t,n)&&!j0.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:js,type:e,key:a,ref:o,props:i,_owner:sp.current}}function sC(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function lC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vm=/\/+/g;function af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lC(""+e.key):t.toString(36)}function Gl(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case js:case YP:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+af(o,0):n,$m(i)?(r="",e!=null&&(r=e.replace(Vm,"$&/")+"/"),Gl(i,t,r,"",function(f){return f})):i!=null&&(lp(i)&&(i=sC(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",$m(e))for(var l=0;l<e.length;l++){a=e[l];var u=n+af(a,l);o+=Gl(a,t,r,u,i)}else if(u=oC(e),typeof u=="function")for(e=u.call(e),l=0;!(a=e.next()).done;)a=a.value,u=n+af(a,l++),o+=Gl(a,t,r,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pl(e,t,r){if(e==null)return e;var n=[],i=0;return Gl(e,n,"","",function(a){return t.call(r,a,i++)}),n}function cC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},Ql={transition:null},uC={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:sp};function D0(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:pl,forEach:function(e,t,r){pl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=no;Qe.Fragment=XP;Qe.Profiler=ZP;Qe.PureComponent=ap;Qe.StrictMode=JP;Qe.Suspense=nC;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uC;Qe.act=D0;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=L0({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=sp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)I0.call(t,u)&&!j0.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];n.children=l}return{$$typeof:js,type:e.type,key:i,ref:a,props:n,_owner:o}};Qe.createContext=function(e){return e={$$typeof:tC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eC,_context:e},e.Consumer=e};Qe.createElement=N0;Qe.createFactory=function(e){var t=N0.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:rC,render:e}};Qe.isValidElement=lp;Qe.lazy=function(e){return{$$typeof:aC,_payload:{_status:-1,_result:e},_init:cC}};Qe.memo=function(e,t){return{$$typeof:iC,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Ql.transition;Ql.transition={};try{e()}finally{Ql.transition=t}};Qe.unstable_act=D0;Qe.useCallback=function(e,t){return Gt.current.useCallback(e,t)};Qe.useContext=function(e){return Gt.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Gt.current.useEffect(e,t)};Qe.useId=function(){return Gt.current.useId()};Qe.useImperativeHandle=function(e,t,r){return Gt.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Gt.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return Gt.current.useReducer(e,t,r)};Qe.useRef=function(e){return Gt.current.useRef(e)};Qe.useState=function(e){return Gt.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return Gt.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return Gt.current.useTransition()};Qe.version="18.3.1";O0.exports=Qe;var ee=O0.exports;const Er=C0(ee),fC=KP({__proto__:null,default:Er},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC=ee,hC=Symbol.for("react.element"),pC=Symbol.for("react.fragment"),vC=Object.prototype.hasOwnProperty,mC=dC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gC={key:!0,ref:!0,__self:!0,__source:!0};function F0(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)vC.call(t,n)&&!gC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:hC,type:e,key:a,ref:o,props:i,_owner:mC.current}}Jc.Fragment=pC;Jc.jsx=F0;Jc.jsxs=F0;x0.exports=Jc;var T=x0.exports,wd={},$0={exports:{}},mr={},V0={exports:{}},B0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,ke){var Te=oe.length;oe.push(ke);e:for(;0<Te;){var je=Te-1>>>1,qe=oe[je];if(0<i(qe,ke))oe[je]=ke,oe[Te]=qe,Te=je;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var ke=oe[0],Te=oe.pop();if(Te!==ke){oe[0]=Te;e:for(var je=0,qe=oe.length,Ke=qe>>>1;je<Ke;){var Ue=2*(je+1)-1,He=oe[Ue],nt=Ue+1,gt=oe[nt];if(0>i(He,Te))nt<qe&&0>i(gt,He)?(oe[je]=gt,oe[nt]=Te,je=nt):(oe[je]=He,oe[Ue]=Te,je=Ue);else if(nt<qe&&0>i(gt,Te))oe[je]=gt,oe[nt]=Te,je=nt;else break e}}return ke}function i(oe,ke){var Te=oe.sortIndex-ke.sortIndex;return Te!==0?Te:oe.id-ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],p=1,m=null,y=3,x=!1,P=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(oe){for(var ke=r(f);ke!==null;){if(ke.callback===null)n(f);else if(ke.startTime<=oe)n(f),ke.sortIndex=ke.expirationTime,t(u,ke);else break;ke=r(f)}}function N(oe){if(L=!1,b(oe),!P)if(r(u)!==null)P=!0,fe(W);else{var ke=r(f);ke!==null&&we(N,ke.startTime-oe)}}function W(oe,ke){P=!1,L&&(L=!1,R(ie),ie=-1),x=!0;var Te=y;try{for(b(ke),m=r(u);m!==null&&(!(m.expirationTime>ke)||oe&&!_e());){var je=m.callback;if(typeof je=="function"){m.callback=null,y=m.priorityLevel;var qe=je(m.expirationTime<=ke);ke=e.unstable_now(),typeof qe=="function"?m.callback=qe:m===r(u)&&n(u),b(ke)}else n(u);m=r(u)}if(m!==null)var Ke=!0;else{var Ue=r(f);Ue!==null&&we(N,Ue.startTime-ke),Ke=!1}return Ke}finally{m=null,y=Te,x=!1}}var H=!1,Y=null,ie=-1,ae=5,ce=-1;function _e(){return!(e.unstable_now()-ce<ae)}function ue(){if(Y!==null){var oe=e.unstable_now();ce=oe;var ke=!0;try{ke=Y(!0,oe)}finally{ke?pe():(H=!1,Y=null)}}else H=!1}var pe;if(typeof _=="function")pe=function(){_(ue)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ge=le.port2;le.port1.onmessage=ue,pe=function(){ge.postMessage(null)}}else pe=function(){M(ue,0)};function fe(oe){Y=oe,H||(H=!0,pe())}function we(oe,ke){ie=M(function(){oe(e.unstable_now())},ke)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){P||x||(P=!0,fe(W))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var ke=3;break;default:ke=y}var Te=y;y=ke;try{return oe()}finally{y=Te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,ke){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Te=y;y=oe;try{return ke()}finally{y=Te}},e.unstable_scheduleCallback=function(oe,ke,Te){var je=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?je+Te:je):Te=je,oe){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=Te+qe,oe={id:p++,callback:ke,priorityLevel:oe,startTime:Te,expirationTime:qe,sortIndex:-1},Te>je?(oe.sortIndex=Te,t(f,oe),r(u)===null&&oe===r(f)&&(L?(R(ie),ie=-1):L=!0,we(N,Te-je))):(oe.sortIndex=qe,t(u,oe),P||x||(P=!0,fe(W))),oe},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(oe){var ke=y;return function(){var Te=y;y=ke;try{return oe.apply(this,arguments)}finally{y=Te}}}})(B0);V0.exports=B0;var yC=V0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=ee,vr=yC;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U0=new Set,ls={};function ea(e,t){Ha(e,t),Ha(e+"Capture",t)}function Ha(e,t){for(ls[e]=t,e=0;e<t.length;e++)U0.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,wC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},Um={};function SC(e){return Sd.call(Um,e)?!0:Sd.call(Bm,e)?!1:wC.test(e)?Um[e]=!0:(Bm[e]=!0,!1)}function kC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bC(e,t,r,n){if(t===null||typeof t>"u"||kC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function up(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cp,up);jt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cp,up);jt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cp,up);jt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});jt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function fp(e,t,r,n){var i=jt.hasOwnProperty(t)?jt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bC(t,r,i,n)&&(r=null),n||i===null?SC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var On=_C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),ka=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),bd=Symbol.for("react.suspense"),Td=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),zm=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=zm&&e[zm]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,of;function Uo(e){if(of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);of=t&&t[1]||""}return`
`+of+e}var sf=!1;function lf(e,t){if(!e||sf)return"";sf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{sf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uo(e):""}function TC(e){switch(e.tag){case 5:return Uo(e.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return e=lf(e.type,!1),e;case 11:return e=lf(e.type.render,!1),e;case 1:return e=lf(e.type,!0),e;default:return""}}function Ed(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ka:return"Fragment";case Sa:return"Portal";case kd:return"Profiler";case dp:return"StrictMode";case bd:return"Suspense";case Td:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W0:return(e.displayName||"Context")+".Consumer";case z0:return(e._context.displayName||"Context")+".Provider";case hp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pp:return t=e.displayName||null,t!==null?t:Ed(e.type)||"Memo";case Yn:t=e._payload,e=e._init;try{return Ed(e(t))}catch{}}return null}function EC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(t);case 8:return t===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PC(e){var t=q0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=PC(e))}function G0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pd(e,t){var r=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=di(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q0(e,t){t=t.checked,t!=null&&fp(e,"checked",t,!1)}function Cd(e,t){Q0(e,t);var r=di(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xd(e,t.type,r):t.hasOwnProperty("defaultValue")&&xd(e,t.type,di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xd(e,t,r){(t!=="number"||hc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zo=Array.isArray;function Na(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+di(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Od(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(zo(r)){if(1<r.length)throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:di(r)}}function K0(e,t){var r=di(t.value),n=di(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gl,X0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CC=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(e){CC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yo[t]=Yo[e]})});function J0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yo.hasOwnProperty(e)&&Yo[e]?(""+t).trim():t+"px"}function Z0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=J0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var xC=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ld(e,t){if(t){if(xC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function vp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Id=null,Da=null,Fa=null;function Qm(e){if(e=Fs(e)){if(typeof Id!="function")throw Error(me(280));var t=e.stateNode;t&&(t=nu(t),Id(e.stateNode,e.type,t))}}function e1(e){Da?Fa?Fa.push(e):Fa=[e]:Da=e}function t1(){if(Da){var e=Da,t=Fa;if(Fa=Da=null,Qm(e),t)for(e=0;e<t.length;e++)Qm(t[e])}}function r1(e,t){return e(t)}function n1(){}var cf=!1;function i1(e,t,r){if(cf)return e(t,r);cf=!0;try{return r1(e,t,r)}finally{cf=!1,(Da!==null||Fa!==null)&&(n1(),t1())}}function us(e,t){var r=e.stateNode;if(r===null)return null;var n=nu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var jd=!1;if(bn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){jd=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{jd=!1}function OC(e,t,r,n,i,a,o,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(p){this.onError(p)}}var Xo=!1,pc=null,vc=!1,Nd=null,RC={onError:function(e){Xo=!0,pc=e}};function LC(e,t,r,n,i,a,o,l,u){Xo=!1,pc=null,OC.apply(RC,arguments)}function AC(e,t,r,n,i,a,o,l,u){if(LC.apply(this,arguments),Xo){if(Xo){var f=pc;Xo=!1,pc=null}else throw Error(me(198));vc||(vc=!0,Nd=f)}}function ta(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function a1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Km(e){if(ta(e)!==e)throw Error(me(188))}function MC(e){var t=e.alternate;if(!t){if(t=ta(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Km(i),e;if(a===n)return Km(i),t;a=a.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function o1(e){return e=MC(e),e!==null?s1(e):null}function s1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s1(e);if(t!==null)return t;e=e.sibling}return null}var l1=vr.unstable_scheduleCallback,Ym=vr.unstable_cancelCallback,IC=vr.unstable_shouldYield,jC=vr.unstable_requestPaint,_t=vr.unstable_now,NC=vr.unstable_getCurrentPriorityLevel,mp=vr.unstable_ImmediatePriority,c1=vr.unstable_UserBlockingPriority,mc=vr.unstable_NormalPriority,DC=vr.unstable_LowPriority,u1=vr.unstable_IdlePriority,Zc=null,nn=null;function FC(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Zc,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:BC,$C=Math.log,VC=Math.LN2;function BC(e){return e>>>=0,e===0?32:31-($C(e)/VC|0)|0}var yl=64,_l=4194304;function Wo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Wo(l):(a&=o,a!==0&&(n=Wo(a)))}else o=r&~i,o!==0?n=Wo(o):a!==0&&(n=Wo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vr(t),i=1<<r,n|=e[r],t&=~i;return n}function UC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vr(a),l=1<<o,u=i[o];u===-1?(!(l&r)||l&n)&&(i[o]=UC(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}function Dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f1(){var e=yl;return yl<<=1,!(yl&4194240)&&(yl=64),e}function uf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=r}function WC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Vr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function gp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var tt=0;function d1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h1,yp,p1,v1,m1,Fd=!1,wl=[],ii=null,ai=null,oi=null,fs=new Map,ds=new Map,Jn=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function Ao(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Fs(t),t!==null&&yp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qC(e,t,r,n,i){switch(t){case"focusin":return ii=Ao(ii,e,t,r,n,i),!0;case"dragenter":return ai=Ao(ai,e,t,r,n,i),!0;case"mouseover":return oi=Ao(oi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return fs.set(a,Ao(fs.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ds.set(a,Ao(ds.get(a)||null,e,t,r,n,i)),!0}return!1}function g1(e){var t=Ni(e.target);if(t!==null){var r=ta(t);if(r!==null){if(t=r.tag,t===13){if(t=a1(r),t!==null){e.blockedOn=t,m1(e.priority,function(){p1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$d(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Md=n,r.target.dispatchEvent(n),Md=null}else return t=Fs(r),t!==null&&yp(t),e.blockedOn=r,!1;t.shift()}return!0}function Jm(e,t,r){Kl(e)&&r.delete(t)}function GC(){Fd=!1,ii!==null&&Kl(ii)&&(ii=null),ai!==null&&Kl(ai)&&(ai=null),oi!==null&&Kl(oi)&&(oi=null),fs.forEach(Jm),ds.forEach(Jm)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,Fd||(Fd=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,GC)))}function hs(e){function t(i){return Mo(i,e)}if(0<wl.length){Mo(wl[0],e);for(var r=1;r<wl.length;r++){var n=wl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ii!==null&&Mo(ii,e),ai!==null&&Mo(ai,e),oi!==null&&Mo(oi,e),fs.forEach(t),ds.forEach(t),r=0;r<Jn.length;r++)n=Jn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jn.length&&(r=Jn[0],r.blockedOn===null);)g1(r),r.blockedOn===null&&Jn.shift()}var $a=On.ReactCurrentBatchConfig,yc=!0;function QC(e,t,r,n){var i=tt,a=$a.transition;$a.transition=null;try{tt=1,_p(e,t,r,n)}finally{tt=i,$a.transition=a}}function KC(e,t,r,n){var i=tt,a=$a.transition;$a.transition=null;try{tt=4,_p(e,t,r,n)}finally{tt=i,$a.transition=a}}function _p(e,t,r,n){if(yc){var i=$d(e,t,r,n);if(i===null)wf(e,t,n,_c,r),Xm(e,n);else if(qC(i,e,t,r,n))n.stopPropagation();else if(Xm(e,n),t&4&&-1<HC.indexOf(e)){for(;i!==null;){var a=Fs(i);if(a!==null&&h1(a),a=$d(e,t,r,n),a===null&&wf(e,t,n,_c,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else wf(e,t,n,null,r)}}var _c=null;function $d(e,t,r,n){if(_c=null,e=vp(n),e=Ni(e),e!==null)if(t=ta(e),t===null)e=null;else if(r=t.tag,r===13){if(e=a1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _c=e,null}function y1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NC()){case mp:return 1;case c1:return 4;case mc:case DC:return 16;case u1:return 536870912;default:return 16}default:return 16}}var ei=null,wp=null,Yl=null;function _1(){if(Yl)return Yl;var e,t=wp,r=t.length,n,i="value"in ei?ei.value:ei.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Yl=i.slice(e,1<n?1-n:void 0)}function Xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function Zm(){return!1}function gr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sl:Zm,this.isPropagationStopped=Zm,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=gr(io),Ds=vt({},io,{view:0,detail:0}),YC=gr(Ds),ff,df,Io,eu=vt({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Io&&(Io&&e.type==="mousemove"?(ff=e.screenX-Io.screenX,df=e.screenY-Io.screenY):df=ff=0,Io=e),ff)},movementY:function(e){return"movementY"in e?e.movementY:df}}),eg=gr(eu),XC=vt({},eu,{dataTransfer:0}),JC=gr(XC),ZC=vt({},Ds,{relatedTarget:0}),hf=gr(ZC),ex=vt({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),tx=gr(ex),rx=vt({},io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=gr(rx),ix=vt({},io,{data:0}),tg=gr(ix),ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sx[e])?!!t[e]:!1}function kp(){return lx}var cx=vt({},Ds,{key:function(e){if(e.key){var t=ax[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(e){return e.type==="keypress"?Xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ux=gr(cx),fx=vt({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=gr(fx),dx=vt({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),hx=gr(dx),px=vt({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),vx=gr(px),mx=vt({},eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gx=gr(mx),yx=[9,13,27,32],bp=bn&&"CompositionEvent"in window,Jo=null;bn&&"documentMode"in document&&(Jo=document.documentMode);var _x=bn&&"TextEvent"in window&&!Jo,w1=bn&&(!bp||Jo&&8<Jo&&11>=Jo),ng=" ",ig=!1;function S1(e,t){switch(e){case"keyup":return yx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function wx(e,t){switch(e){case"compositionend":return k1(t);case"keypress":return t.which!==32?null:(ig=!0,ng);case"textInput":return e=t.data,e===ng&&ig?null:e;default:return null}}function Sx(e,t){if(ba)return e==="compositionend"||!bp&&S1(e,t)?(e=_1(),Yl=wp=ei=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w1&&t.locale!=="ko"?null:t.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kx[e.type]:t==="textarea"}function b1(e,t,r,n){e1(n),t=wc(t,"onChange"),0<t.length&&(r=new Sp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zo=null,ps=null;function bx(e){I1(e,0)}function tu(e){var t=Pa(e);if(G0(t))return e}function Tx(e,t){if(e==="change")return t}var T1=!1;if(bn){var pf;if(bn){var vf="oninput"in document;if(!vf){var og=document.createElement("div");og.setAttribute("oninput","return;"),vf=typeof og.oninput=="function"}pf=vf}else pf=!1;T1=pf&&(!document.documentMode||9<document.documentMode)}function sg(){Zo&&(Zo.detachEvent("onpropertychange",E1),ps=Zo=null)}function E1(e){if(e.propertyName==="value"&&tu(ps)){var t=[];b1(t,ps,e,vp(e)),i1(bx,t)}}function Ex(e,t,r){e==="focusin"?(sg(),Zo=t,ps=r,Zo.attachEvent("onpropertychange",E1)):e==="focusout"&&sg()}function Px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tu(ps)}function Cx(e,t){if(e==="click")return tu(t)}function xx(e,t){if(e==="input"||e==="change")return tu(t)}function Ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ur=typeof Object.is=="function"?Object.is:Ox;function vs(e,t){if(Ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Sd.call(t,i)||!Ur(e[i],t[i]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,t){var r=lg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lg(r)}}function P1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C1(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hc(e.document)}return t}function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rx(e){var t=C1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P1(r.ownerDocument.documentElement,r)){if(n!==null&&Tp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=cg(r,a);var o=cg(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lx=bn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Vd=null,es=null,Bd=!1;function ug(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bd||Ta==null||Ta!==hc(n)||(n=Ta,"selectionStart"in n&&Tp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),es&&vs(es,n)||(es=n,n=wc(Vd,"onSelect"),0<n.length&&(t=new Sp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ta)))}function kl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ea={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},mf={},x1={};bn&&(x1=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function ru(e){if(mf[e])return mf[e];if(!Ea[e])return e;var t=Ea[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in x1)return mf[e]=t[r];return e}var O1=ru("animationend"),R1=ru("animationiteration"),L1=ru("animationstart"),A1=ru("transitionend"),M1=new Map,fg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){M1.set(e,t),ea(t,[e])}for(var gf=0;gf<fg.length;gf++){var yf=fg[gf],Ax=yf.toLowerCase(),Mx=yf[0].toUpperCase()+yf.slice(1);gi(Ax,"on"+Mx)}gi(O1,"onAnimationEnd");gi(R1,"onAnimationIteration");gi(L1,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(A1,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function dg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AC(n,t,void 0,e),e.currentTarget=null}function I1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;dg(i,l,f),a=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,f=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;dg(i,l,f),a=u}}}if(vc)throw e=Nd,vc=!1,Nd=null,e}function lt(e,t){var r=t[qd];r===void 0&&(r=t[qd]=new Set);var n=e+"__bubble";r.has(n)||(j1(t,e,2,!1),r.add(n))}function _f(e,t,r){var n=0;t&&(n|=4),j1(r,e,n,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[bl]){e[bl]=!0,U0.forEach(function(r){r!=="selectionchange"&&(Ix.has(r)||_f(r,!1,e),_f(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,_f("selectionchange",!1,t))}}function j1(e,t,r,n){switch(y1(t)){case 1:var i=QC;break;case 4:i=KC;break;default:i=_p}r=i.bind(null,t,r,e),i=void 0,!jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function wf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ni(l),o===null)return;if(u=o.tag,u===5||u===6){n=a=o;continue e}l=l.parentNode}}n=n.return}i1(function(){var f=a,p=vp(r),m=[];e:{var y=M1.get(e);if(y!==void 0){var x=Sp,P=e;switch(e){case"keypress":if(Xl(r)===0)break e;case"keydown":case"keyup":x=ux;break;case"focusin":P="focus",x=hf;break;case"focusout":P="blur",x=hf;break;case"beforeblur":case"afterblur":x=hf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=JC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=hx;break;case O1:case R1:case L1:x=tx;break;case A1:x=vx;break;case"scroll":x=YC;break;case"wheel":x=gx;break;case"copy":case"cut":case"paste":x=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=rg}var L=(t&4)!==0,M=!L&&e==="scroll",R=L?y!==null?y+"Capture":null:y;L=[];for(var _=f,b;_!==null;){b=_;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,R!==null&&(N=us(_,R),N!=null&&L.push(gs(_,N,b)))),M)break;_=_.return}0<L.length&&(y=new x(y,P,null,r,p),m.push({event:y,listeners:L}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",y&&r!==Md&&(P=r.relatedTarget||r.fromElement)&&(Ni(P)||P[Tn]))break e;if((x||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,x?(P=r.relatedTarget||r.toElement,x=f,P=P?Ni(P):null,P!==null&&(M=ta(P),P!==M||P.tag!==5&&P.tag!==6)&&(P=null)):(x=null,P=f),x!==P)){if(L=eg,N="onMouseLeave",R="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(L=rg,N="onPointerLeave",R="onPointerEnter",_="pointer"),M=x==null?y:Pa(x),b=P==null?y:Pa(P),y=new L(N,_+"leave",x,r,p),y.target=M,y.relatedTarget=b,N=null,Ni(p)===f&&(L=new L(R,_+"enter",P,r,p),L.target=b,L.relatedTarget=M,N=L),M=N,x&&P)t:{for(L=x,R=P,_=0,b=L;b;b=pa(b))_++;for(b=0,N=R;N;N=pa(N))b++;for(;0<_-b;)L=pa(L),_--;for(;0<b-_;)R=pa(R),b--;for(;_--;){if(L===R||R!==null&&L===R.alternate)break t;L=pa(L),R=pa(R)}L=null}else L=null;x!==null&&hg(m,y,x,L,!1),P!==null&&M!==null&&hg(m,M,P,L,!0)}}e:{if(y=f?Pa(f):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var W=Tx;else if(ag(y))if(T1)W=xx;else{W=Px;var H=Ex}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(W=Cx);if(W&&(W=W(e,f))){b1(m,W,r,p);break e}H&&H(e,y,f),e==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&xd(y,"number",y.value)}switch(H=f?Pa(f):window,e){case"focusin":(ag(H)||H.contentEditable==="true")&&(Ta=H,Vd=f,es=null);break;case"focusout":es=Vd=Ta=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,ug(m,r,p);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":ug(m,r,p)}var Y;if(bp)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else ba?S1(e,r)&&(ie="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ie="onCompositionStart");ie&&(w1&&r.locale!=="ko"&&(ba||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ba&&(Y=_1()):(ei=p,wp="value"in ei?ei.value:ei.textContent,ba=!0)),H=wc(f,ie),0<H.length&&(ie=new tg(ie,e,null,r,p),m.push({event:ie,listeners:H}),Y?ie.data=Y:(Y=k1(r),Y!==null&&(ie.data=Y)))),(Y=_x?wx(e,r):Sx(e,r))&&(f=wc(f,"onBeforeInput"),0<f.length&&(p=new tg("onBeforeInput","beforeinput",null,r,p),m.push({event:p,listeners:f}),p.data=Y))}I1(m,t)})}function gs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=us(e,r),a!=null&&n.unshift(gs(e,a,i)),a=us(e,t),a!=null&&n.push(gs(e,a,i))),e=e.return}return n}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,f=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&f!==null&&(l=f,i?(u=us(r,a),u!=null&&o.unshift(gs(r,u,l))):i||(u=us(r,a),u!=null&&o.push(gs(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var jx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Nx,"")}function Tl(e,t,r){if(t=pg(t),pg(e)!==t&&r)throw Error(me(425))}function Sc(){}var Ud=null,zd=null;function Wd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hd=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,vg=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof vg<"u"?function(e){return vg.resolve(null).then(e).catch($x)}:Hd;function $x(e){setTimeout(function(){throw e})}function Sf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),hs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);hs(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Zr="__reactFiber$"+ao,ys="__reactProps$"+ao,Tn="__reactContainer$"+ao,qd="__reactEvents$"+ao,Vx="__reactListeners$"+ao,Bx="__reactHandles$"+ao;function Ni(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tn]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mg(e);e!==null;){if(r=e[Zr])return r;e=mg(e)}return t}e=r,r=e.parentNode}return null}function Fs(e){return e=e[Zr]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function nu(e){return e[ys]||null}var Gd=[],Ca=-1;function yi(e){return{current:e}}function ct(e){0>Ca||(e.current=Gd[Ca],Gd[Ca]=null,Ca--)}function st(e,t){Ca++,Gd[Ca]=e.current,e.current=t}var hi={},Ut=yi(hi),nr=yi(!1),Hi=hi;function qa(e,t){var r=e.type.contextTypes;if(!r)return hi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ir(e){return e=e.childContextTypes,e!=null}function kc(){ct(nr),ct(Ut)}function gg(e,t,r){if(Ut.current!==hi)throw Error(me(168));st(Ut,t),st(nr,r)}function N1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(me(108,EC(e)||"Unknown",i));return vt({},r,n)}function bc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,Hi=Ut.current,st(Ut,e),st(nr,nr.current),!0}function yg(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=N1(e,t,Hi),n.__reactInternalMemoizedMergedChildContext=e,ct(nr),ct(Ut),st(Ut,e)):ct(nr),st(nr,r)}var yn=null,iu=!1,kf=!1;function D1(e){yn===null?yn=[e]:yn.push(e)}function Ux(e){iu=!0,D1(e)}function _i(){if(!kf&&yn!==null){kf=!0;var e=0,t=tt;try{var r=yn;for(tt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yn=null,iu=!1}catch(i){throw yn!==null&&(yn=yn.slice(e+1)),l1(mp,_i),i}finally{tt=t,kf=!1}}return null}var xa=[],Oa=0,Tc=null,Ec=0,Sr=[],kr=0,qi=null,_n=1,wn="";function Ai(e,t){xa[Oa++]=Ec,xa[Oa++]=Tc,Tc=e,Ec=t}function F1(e,t,r){Sr[kr++]=_n,Sr[kr++]=wn,Sr[kr++]=qi,qi=e;var n=_n;e=wn;var i=32-Vr(n)-1;n&=~(1<<i),r+=1;var a=32-Vr(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,_n=1<<32-Vr(t)+i|r<<i|n,wn=a+e}else _n=1<<a|r<<i|n,wn=e}function Ep(e){e.return!==null&&(Ai(e,1),F1(e,1,0))}function Pp(e){for(;e===Tc;)Tc=xa[--Oa],xa[Oa]=null,Ec=xa[--Oa],xa[Oa]=null;for(;e===qi;)qi=Sr[--kr],Sr[kr]=null,wn=Sr[--kr],Sr[kr]=null,_n=Sr[--kr],Sr[kr]=null}var hr=null,dr=null,ft=!1,$r=null;function $1(e,t){var r=br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _g(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hr=e,dr=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hr=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qi!==null?{id:_n,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hr=e,dr=null,!0):!1;default:return!1}}function Qd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kd(e){if(ft){var t=dr;if(t){var r=t;if(!_g(e,t)){if(Qd(e))throw Error(me(418));t=si(r.nextSibling);var n=hr;t&&_g(e,t)?$1(n,r):(e.flags=e.flags&-4097|2,ft=!1,hr=e)}}else{if(Qd(e))throw Error(me(418));e.flags=e.flags&-4097|2,ft=!1,hr=e}}}function wg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function El(e){if(e!==hr)return!1;if(!ft)return wg(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wd(e.type,e.memoizedProps)),t&&(t=dr)){if(Qd(e))throw V1(),Error(me(418));for(;t;)$1(e,t),t=si(t.nextSibling)}if(wg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=si(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=hr?si(e.stateNode.nextSibling):null;return!0}function V1(){for(var e=dr;e;)e=si(e.nextSibling)}function Ga(){dr=hr=null,ft=!1}function Cp(e){$r===null?$r=[e]:$r.push(e)}var zx=On.ReactCurrentBatchConfig;function jo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function Pl(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sg(e){var t=e._init;return t(e._payload)}function B1(e){function t(R,_){if(e){var b=R.deletions;b===null?(R.deletions=[_],R.flags|=16):b.push(_)}}function r(R,_){if(!e)return null;for(;_!==null;)t(R,_),_=_.sibling;return null}function n(R,_){for(R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function i(R,_){return R=fi(R,_),R.index=0,R.sibling=null,R}function a(R,_,b){return R.index=b,e?(b=R.alternate,b!==null?(b=b.index,b<_?(R.flags|=2,_):b):(R.flags|=2,_)):(R.flags|=1048576,_)}function o(R){return e&&R.alternate===null&&(R.flags|=2),R}function l(R,_,b,N){return _===null||_.tag!==6?(_=Of(b,R.mode,N),_.return=R,_):(_=i(_,b),_.return=R,_)}function u(R,_,b,N){var W=b.type;return W===ka?p(R,_,b.props.children,N,b.key):_!==null&&(_.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Yn&&Sg(W)===_.type)?(N=i(_,b.props),N.ref=jo(R,_,b),N.return=R,N):(N=ic(b.type,b.key,b.props,null,R.mode,N),N.ref=jo(R,_,b),N.return=R,N)}function f(R,_,b,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Rf(b,R.mode,N),_.return=R,_):(_=i(_,b.children||[]),_.return=R,_)}function p(R,_,b,N,W){return _===null||_.tag!==7?(_=Ui(b,R.mode,N,W),_.return=R,_):(_=i(_,b),_.return=R,_)}function m(R,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Of(""+_,R.mode,b),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vl:return b=ic(_.type,_.key,_.props,null,R.mode,b),b.ref=jo(R,null,_),b.return=R,b;case Sa:return _=Rf(_,R.mode,b),_.return=R,_;case Yn:var N=_._init;return m(R,N(_._payload),b)}if(zo(_)||Ro(_))return _=Ui(_,R.mode,b,null),_.return=R,_;Pl(R,_)}return null}function y(R,_,b,N){var W=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return W!==null?null:l(R,_,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vl:return b.key===W?u(R,_,b,N):null;case Sa:return b.key===W?f(R,_,b,N):null;case Yn:return W=b._init,y(R,_,W(b._payload),N)}if(zo(b)||Ro(b))return W!==null?null:p(R,_,b,N,null);Pl(R,b)}return null}function x(R,_,b,N,W){if(typeof N=="string"&&N!==""||typeof N=="number")return R=R.get(b)||null,l(_,R,""+N,W);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vl:return R=R.get(N.key===null?b:N.key)||null,u(_,R,N,W);case Sa:return R=R.get(N.key===null?b:N.key)||null,f(_,R,N,W);case Yn:var H=N._init;return x(R,_,b,H(N._payload),W)}if(zo(N)||Ro(N))return R=R.get(b)||null,p(_,R,N,W,null);Pl(_,N)}return null}function P(R,_,b,N){for(var W=null,H=null,Y=_,ie=_=0,ae=null;Y!==null&&ie<b.length;ie++){Y.index>ie?(ae=Y,Y=null):ae=Y.sibling;var ce=y(R,Y,b[ie],N);if(ce===null){Y===null&&(Y=ae);break}e&&Y&&ce.alternate===null&&t(R,Y),_=a(ce,_,ie),H===null?W=ce:H.sibling=ce,H=ce,Y=ae}if(ie===b.length)return r(R,Y),ft&&Ai(R,ie),W;if(Y===null){for(;ie<b.length;ie++)Y=m(R,b[ie],N),Y!==null&&(_=a(Y,_,ie),H===null?W=Y:H.sibling=Y,H=Y);return ft&&Ai(R,ie),W}for(Y=n(R,Y);ie<b.length;ie++)ae=x(Y,R,ie,b[ie],N),ae!==null&&(e&&ae.alternate!==null&&Y.delete(ae.key===null?ie:ae.key),_=a(ae,_,ie),H===null?W=ae:H.sibling=ae,H=ae);return e&&Y.forEach(function(_e){return t(R,_e)}),ft&&Ai(R,ie),W}function L(R,_,b,N){var W=Ro(b);if(typeof W!="function")throw Error(me(150));if(b=W.call(b),b==null)throw Error(me(151));for(var H=W=null,Y=_,ie=_=0,ae=null,ce=b.next();Y!==null&&!ce.done;ie++,ce=b.next()){Y.index>ie?(ae=Y,Y=null):ae=Y.sibling;var _e=y(R,Y,ce.value,N);if(_e===null){Y===null&&(Y=ae);break}e&&Y&&_e.alternate===null&&t(R,Y),_=a(_e,_,ie),H===null?W=_e:H.sibling=_e,H=_e,Y=ae}if(ce.done)return r(R,Y),ft&&Ai(R,ie),W;if(Y===null){for(;!ce.done;ie++,ce=b.next())ce=m(R,ce.value,N),ce!==null&&(_=a(ce,_,ie),H===null?W=ce:H.sibling=ce,H=ce);return ft&&Ai(R,ie),W}for(Y=n(R,Y);!ce.done;ie++,ce=b.next())ce=x(Y,R,ie,ce.value,N),ce!==null&&(e&&ce.alternate!==null&&Y.delete(ce.key===null?ie:ce.key),_=a(ce,_,ie),H===null?W=ce:H.sibling=ce,H=ce);return e&&Y.forEach(function(ue){return t(R,ue)}),ft&&Ai(R,ie),W}function M(R,_,b,N){if(typeof b=="object"&&b!==null&&b.type===ka&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vl:e:{for(var W=b.key,H=_;H!==null;){if(H.key===W){if(W=b.type,W===ka){if(H.tag===7){r(R,H.sibling),_=i(H,b.props.children),_.return=R,R=_;break e}}else if(H.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Yn&&Sg(W)===H.type){r(R,H.sibling),_=i(H,b.props),_.ref=jo(R,H,b),_.return=R,R=_;break e}r(R,H);break}else t(R,H);H=H.sibling}b.type===ka?(_=Ui(b.props.children,R.mode,N,b.key),_.return=R,R=_):(N=ic(b.type,b.key,b.props,null,R.mode,N),N.ref=jo(R,_,b),N.return=R,R=N)}return o(R);case Sa:e:{for(H=b.key;_!==null;){if(_.key===H)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){r(R,_.sibling),_=i(_,b.children||[]),_.return=R,R=_;break e}else{r(R,_);break}else t(R,_);_=_.sibling}_=Rf(b,R.mode,N),_.return=R,R=_}return o(R);case Yn:return H=b._init,M(R,_,H(b._payload),N)}if(zo(b))return P(R,_,b,N);if(Ro(b))return L(R,_,b,N);Pl(R,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(r(R,_.sibling),_=i(_,b),_.return=R,R=_):(r(R,_),_=Of(b,R.mode,N),_.return=R,R=_),o(R)):r(R,_)}return M}var Qa=B1(!0),U1=B1(!1),Pc=yi(null),Cc=null,Ra=null,xp=null;function Op(){xp=Ra=Cc=null}function Rp(e){var t=Pc.current;ct(Pc),e._currentValue=t}function Yd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Va(e,t){Cc=e,xp=Ra=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(xp!==e)if(e={context:e,memoizedValue:t,next:null},Ra===null){if(Cc===null)throw Error(me(308));Ra=e,Cc.dependencies={lanes:0,firstContext:e}}else Ra=Ra.next=e;return t}var Di=null;function Lp(e){Di===null?Di=[e]:Di.push(e)}function z1(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Lp(t)):(r.next=i.next,i.next=r),t.interleaved=r,En(e,n)}function En(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function Ap(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function li(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ye&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,En(e,r)}return i=n.interleaved,i===null?(t.next=t,Lp(n)):(t.next=i.next,i.next=t),n.interleaved=t,En(e,r)}function Jl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gp(e,r)}}function kg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xc(e,t,r,n){var i=e.updateQueue;Xn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,o===null?a=f:o.next=f,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=f:l.next=f,p.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;o=0,p=f=u=null,l=a;do{var y=l.lane,x=l.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=e,L=l;switch(y=t,x=r,L.tag){case 1:if(P=L.payload,typeof P=="function"){m=P.call(x,m,y);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=L.payload,y=typeof P=="function"?P.call(x,m,y):P,y==null)break e;m=vt({},m,y);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else x={eventTime:x,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(f=p=x,u=m):p=p.next=x,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Qi|=o,e.lanes=o,e.memoizedState=m}}function bg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var $s={},an=yi($s),_s=yi($s),ws=yi($s);function Fi(e){if(e===$s)throw Error(me(174));return e}function Mp(e,t){switch(st(ws,t),st(_s,e),st(an,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rd(t,e)}ct(an),st(an,t)}function Ka(){ct(an),ct(_s),ct(ws)}function H1(e){Fi(ws.current);var t=Fi(an.current),r=Rd(t,e.type);t!==r&&(st(_s,e),st(an,r))}function Ip(e){_s.current===e&&(ct(an),ct(_s))}var ht=yi(0);function Oc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bf=[];function jp(){for(var e=0;e<bf.length;e++)bf[e]._workInProgressVersionPrimary=null;bf.length=0}var Zl=On.ReactCurrentDispatcher,Tf=On.ReactCurrentBatchConfig,Gi=0,pt=null,Tt=null,xt=null,Rc=!1,ts=!1,Ss=0,Wx=0;function $t(){throw Error(me(321))}function Np(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}function Dp(e,t,r,n,i,a){if(Gi=a,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=e===null||e.memoizedState===null?Qx:Kx,e=r(n,i),ts){a=0;do{if(ts=!1,Ss=0,25<=a)throw Error(me(301));a+=1,xt=Tt=null,t.updateQueue=null,Zl.current=Yx,e=r(n,i)}while(ts)}if(Zl.current=Lc,t=Tt!==null&&Tt.next!==null,Gi=0,xt=Tt=pt=null,Rc=!1,t)throw Error(me(300));return e}function Fp(){var e=Ss!==0;return Ss=0,e}function Yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?pt.memoizedState=xt=e:xt=xt.next=e,xt}function xr(){if(Tt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=xt===null?pt.memoizedState:xt.next;if(t!==null)xt=t,Tt=e;else{if(e===null)throw Error(me(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},xt===null?pt.memoizedState=xt=e:xt=xt.next=e}return xt}function ks(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=xr(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=Tt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,u=null,f=a;do{var p=f.lane;if((Gi&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=m,o=n):u=u.next=m,pt.lanes|=p,Qi|=p}f=f.next}while(f!==null&&f!==a);u===null?o=n:u.next=l,Ur(n,t.memoizedState)||(rr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,pt.lanes|=a,Qi|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pf(e){var t=xr(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ur(a,t.memoizedState)||(rr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function q1(){}function G1(e,t){var r=pt,n=xr(),i=t(),a=!Ur(n.memoizedState,i);if(a&&(n.memoizedState=i,rr=!0),n=n.queue,$p(Y1.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,bs(9,K1.bind(null,r,n,i,t),void 0,null),Ot===null)throw Error(me(349));Gi&30||Q1(r,t,i)}return i}function Q1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function K1(e,t,r,n){t.value=r,t.getSnapshot=n,X1(t)&&J1(e)}function Y1(e,t,r){return r(function(){X1(t)&&J1(e)})}function X1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ur(e,r)}catch{return!0}}function J1(e){var t=En(e,1);t!==null&&Br(t,e,1,-1)}function Tg(e){var t=Yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Gx.bind(null,pt,e),[t.memoizedState,e]}function bs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Z1(){return xr().memoizedState}function ec(e,t,r,n){var i=Yr();pt.flags|=e,i.memoizedState=bs(1|t,r,void 0,n===void 0?null:n)}function au(e,t,r,n){var i=xr();n=n===void 0?null:n;var a=void 0;if(Tt!==null){var o=Tt.memoizedState;if(a=o.destroy,n!==null&&Np(n,o.deps)){i.memoizedState=bs(t,r,a,n);return}}pt.flags|=e,i.memoizedState=bs(1|t,r,a,n)}function Eg(e,t){return ec(8390656,8,e,t)}function $p(e,t){return au(2048,8,e,t)}function ew(e,t){return au(4,2,e,t)}function tw(e,t){return au(4,4,e,t)}function rw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nw(e,t,r){return r=r!=null?r.concat([e]):null,au(4,4,rw.bind(null,t,e),r)}function Vp(){}function iw(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Np(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function aw(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Np(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ow(e,t,r){return Gi&21?(Ur(r,t)||(r=f1(),pt.lanes|=r,Qi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=r)}function Hx(e,t){var r=tt;tt=r!==0&&4>r?r:4,e(!0);var n=Tf.transition;Tf.transition={};try{e(!1),t()}finally{tt=r,Tf.transition=n}}function sw(){return xr().memoizedState}function qx(e,t,r){var n=ui(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lw(e))cw(t,r);else if(r=z1(e,t,r,n),r!==null){var i=qt();Br(r,e,n,i),uw(r,t,n)}}function Gx(e,t,r){var n=ui(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lw(e))cw(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Ur(l,o)){var u=t.interleaved;u===null?(i.next=i,Lp(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=z1(e,t,i,n),r!==null&&(i=qt(),Br(r,e,n,i),uw(r,t,n))}}function lw(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function cw(e,t){ts=Rc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gp(e,r)}}var Lc={readContext:Cr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},Qx={readContext:Cr,useCallback:function(e,t){return Yr().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:Eg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ec(4194308,4,rw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return ec(4,2,e,t)},useMemo:function(e,t){var r=Yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qx.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=Yr();return e={current:e},t.memoizedState=e},useState:Tg,useDebugValue:Vp,useDeferredValue:function(e){return Yr().memoizedState=e},useTransition:function(){var e=Tg(!1),t=e[0];return e=Hx.bind(null,e[1]),Yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,i=Yr();if(ft){if(r===void 0)throw Error(me(407));r=r()}else{if(r=t(),Ot===null)throw Error(me(349));Gi&30||Q1(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Eg(Y1.bind(null,n,a,e),[e]),n.flags|=2048,bs(9,K1.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Yr(),t=Ot.identifierPrefix;if(ft){var r=wn,n=_n;r=(n&~(1<<32-Vr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ss++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Wx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kx={readContext:Cr,useCallback:iw,useContext:Cr,useEffect:$p,useImperativeHandle:nw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:aw,useReducer:Ef,useRef:Z1,useState:function(){return Ef(ks)},useDebugValue:Vp,useDeferredValue:function(e){var t=xr();return ow(t,Tt.memoizedState,e)},useTransition:function(){var e=Ef(ks)[0],t=xr().memoizedState;return[e,t]},useMutableSource:q1,useSyncExternalStore:G1,useId:sw,unstable_isNewReconciler:!1},Yx={readContext:Cr,useCallback:iw,useContext:Cr,useEffect:$p,useImperativeHandle:nw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:aw,useReducer:Pf,useRef:Z1,useState:function(){return Pf(ks)},useDebugValue:Vp,useDeferredValue:function(e){var t=xr();return Tt===null?t.memoizedState=e:ow(t,Tt.memoizedState,e)},useTransition:function(){var e=Pf(ks)[0],t=xr().memoizedState;return[e,t]},useMutableSource:q1,useSyncExternalStore:G1,useId:sw,unstable_isNewReconciler:!1};function Nr(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ou={isMounted:function(e){return(e=e._reactInternals)?ta(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qt(),i=ui(e),a=kn(n,i);a.payload=t,r!=null&&(a.callback=r),t=li(e,a,i),t!==null&&(Br(t,e,i,n),Jl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qt(),i=ui(e),a=kn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=li(e,a,i),t!==null&&(Br(t,e,i,n),Jl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),n=ui(e),i=kn(r,n);i.tag=2,t!=null&&(i.callback=t),t=li(e,i,n),t!==null&&(Br(t,e,n,r),Jl(t,e,n))}};function Pg(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!vs(r,n)||!vs(i,a):!0}function fw(e,t,r){var n=!1,i=hi,a=t.contextType;return typeof a=="object"&&a!==null?a=Cr(a):(i=ir(t)?Hi:Ut.current,n=t.contextTypes,a=(n=n!=null)?qa(e,i):hi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ou,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function Jd(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ap(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Cr(a):(a=ir(t)?Hi:Ut.current,i.context=qa(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xd(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ou.enqueueReplaceState(i,i.state,null),xc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ya(e,t){try{var r="",n=t;do r+=TC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Cf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function dw(e,t,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mc||(Mc=!0,ch=n),Zd(e,t)},r}function hw(e,t,r){r=kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Zd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Zd(e,t),typeof n!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function xg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Xx;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=fO.bind(null,e,t,r),t.then(e,e))}function Og(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rg(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kn(-1,1),t.tag=2,li(r,t,1))),r.lanes|=1),e)}var Jx=On.ReactCurrentOwner,rr=!1;function Ht(e,t,r,n){t.child=e===null?U1(t,null,r,n):Qa(t,e.child,r,n)}function Lg(e,t,r,n,i){r=r.render;var a=t.ref;return Va(t,i),n=Dp(e,t,r,n,a,i),r=Fp(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(ft&&r&&Ep(t),t.flags|=1,Ht(e,t,n,i),t.child)}function Ag(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Qp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,pw(e,t,a,n,i)):(e=ic(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:vs,r(o,n)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=fi(a,n),e.ref=t.ref,e.return=t,t.child=e}function pw(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(vs(a,n)&&e.ref===t.ref)if(rr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return eh(e,t,r,n,i)}function vw(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Aa,fr),fr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Aa,fr),fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,st(Aa,fr),fr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,st(Aa,fr),fr|=n;return Ht(e,t,i,r),t.child}function mw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,r,n,i){var a=ir(r)?Hi:Ut.current;return a=qa(t,a),Va(t,i),r=Dp(e,t,r,n,a,i),n=Fp(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(ft&&n&&Ep(t),t.flags|=1,Ht(e,t,r,i),t.child)}function Mg(e,t,r,n,i){if(ir(r)){var a=!0;bc(t)}else a=!1;if(Va(t,i),t.stateNode===null)tc(e,t),fw(t,r,n),Jd(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=Cr(f):(f=ir(r)?Hi:Ut.current,f=qa(t,f));var p=r.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==f)&&Cg(t,o,n,f),Xn=!1;var y=t.memoizedState;o.state=y,xc(t,n,o,i),u=t.memoizedState,l!==n||y!==u||nr.current||Xn?(typeof p=="function"&&(Xd(t,r,p,n),u=t.memoizedState),(l=Xn||Pg(t,r,l,n,y,u,f))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=f,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,W1(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:Nr(t.type,l),o.props=f,m=t.pendingProps,y=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Cr(u):(u=ir(r)?Hi:Ut.current,u=qa(t,u));var x=r.getDerivedStateFromProps;(p=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==u)&&Cg(t,o,n,u),Xn=!1,y=t.memoizedState,o.state=y,xc(t,n,o,i);var P=t.memoizedState;l!==m||y!==P||nr.current||Xn?(typeof x=="function"&&(Xd(t,r,x,n),P=t.memoizedState),(f=Xn||Pg(t,r,f,n,y,P,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,P,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=P),o.props=n,o.state=P,o.context=u,n=f):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return th(e,t,r,n,a,i)}function th(e,t,r,n,i,a){mw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&yg(t,r,!1),Pn(e,t,a);n=t.stateNode,Jx.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,l,a)):Ht(e,t,l,a),t.memoizedState=n.state,i&&yg(t,r,!0),t.child}function gw(e){var t=e.stateNode;t.pendingContext?gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gg(e,t.context,!1),Mp(e,t.containerInfo)}function Ig(e,t,r,n,i){return Ga(),Cp(i),t.flags|=256,Ht(e,t,r,n),t.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function yw(e,t,r){var n=t.pendingProps,i=ht.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),st(ht,i&1),e===null)return Kd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=cu(o,n,0,null),e=Ui(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=nh(r),t.memoizedState=rh,e):Bp(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Zx(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fi(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=fi(l,a):(a=Ui(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?nh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=rh,n}return a=e.child,e=a.sibling,n=fi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bp(e,t){return t=cu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cl(e,t,r,n){return n!==null&&Cp(n),Qa(t,e.child,null,r),e=Bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zx(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Cf(Error(me(422))),Cl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=cu({mode:"visible",children:n.children},i,0,null),a=Ui(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qa(t,e.child,null,o),t.child.memoizedState=nh(o),t.memoizedState=rh,a);if(!(t.mode&1))return Cl(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(me(419)),n=Cf(a,n,void 0),Cl(e,t,o,n)}if(l=(o&e.childLanes)!==0,rr||l){if(n=Ot,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,En(e,i),Br(n,e,i,-1))}return Gp(),n=Cf(Error(me(421))),Cl(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=dO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,dr=si(i.nextSibling),hr=t,ft=!0,$r=null,e!==null&&(Sr[kr++]=_n,Sr[kr++]=wn,Sr[kr++]=qi,_n=e.id,wn=e.overflow,qi=t),t=Bp(t,n.children),t.flags|=4096,t)}function jg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yd(e.return,t,r)}function xf(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function _w(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ht(e,t,n.children,r),n=ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,r,t);else if(e.tag===19)jg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(st(ht,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Oc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),xf(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Oc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}xf(t,!0,r,null,a);break;case"together":xf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=fi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eO(e,t,r){switch(t.tag){case 3:gw(t),Ga();break;case 5:H1(t);break;case 1:ir(t.type)&&bc(t);break;case 4:Mp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;st(Pc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(st(ht,ht.current&1),t.flags|=128,null):r&t.child.childLanes?yw(e,t,r):(st(ht,ht.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);st(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _w(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,vw(e,t,r)}return Pn(e,t,r)}var ww,ih,Sw,kw;ww=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ih=function(){};Sw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Fi(an.current);var a=null;switch(r){case"input":i=Pd(e,i),n=Pd(e,n),a=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),a=[];break;case"textarea":i=Od(e,i),n=Od(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sc)}Ld(r,n);var o;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ls.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in n){var u=n[f];if(l=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ls.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&lt("scroll",e),a||l===u||(a=[])):(a=a||[]).push(f,u))}r&&(a=a||[]).push("style",r);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};kw=function(e,t,r,n){r!==n&&(t.flags|=4)};function No(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tO(e,t,r){var n=t.pendingProps;switch(Pp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return ir(t.type)&&kc(),Vt(t),null;case 3:return n=t.stateNode,Ka(),ct(nr),ct(Ut),jp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(El(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(dh($r),$r=null))),ih(e,t),Vt(t),null;case 5:Ip(t);var i=Fi(ws.current);if(r=t.type,e!==null&&t.stateNode!=null)Sw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(me(166));return Vt(t),null}if(e=Fi(an.current),El(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Zr]=t,n[ys]=a,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<Ho.length;i++)lt(Ho[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":Wm(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":qm(n,a),lt("invalid",n)}Ld(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Tl(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Tl(n.textContent,l,e),i=["children",""+l]):ls.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":ml(n),Hm(n,a,!0);break;case"textarea":ml(n),Gm(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Zr]=t,e[ys]=n,ww(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ad(r,n),r){case"dialog":lt("cancel",e),lt("close",e),i=n;break;case"iframe":case"object":case"embed":lt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ho.length;i++)lt(Ho[i],e);i=n;break;case"source":lt("error",e),i=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),i=n;break;case"details":lt("toggle",e),i=n;break;case"input":Wm(e,n),i=Pd(e,n),lt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),lt("invalid",e);break;case"textarea":qm(e,n),i=Od(e,n),lt("invalid",e);break;default:i=n}Ld(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?Z0(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&X0(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&cs(e,u):typeof u=="number"&&cs(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ls.hasOwnProperty(a)?u!=null&&a==="onScroll"&&lt("scroll",e):u!=null&&fp(e,a,u,o))}switch(r){case"input":ml(e),Hm(e,n,!1);break;case"textarea":ml(e),Gm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+di(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Na(e,!!n.multiple,a,!1):n.defaultValue!=null&&Na(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)kw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));if(r=Fi(ws.current),Fi(an.current),El(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(a=n.nodeValue!==r)&&(e=hr,e!==null))switch(e.tag){case 3:Tl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return Vt(t),null;case 13:if(ct(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&dr!==null&&t.mode&1&&!(t.flags&128))V1(),Ga(),t.flags|=98560,a=!1;else if(a=El(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(me(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(me(317));a[Zr]=t}else Ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),a=!1}else $r!==null&&(dh($r),$r=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Et===0&&(Et=3):Gp())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return Ka(),ih(e,t),e===null&&ms(t.stateNode.containerInfo),Vt(t),null;case 10:return Rp(t.type._context),Vt(t),null;case 17:return ir(t.type)&&kc(),Vt(t),null;case 19:if(ct(ht),a=t.memoizedState,a===null)return Vt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)No(a,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oc(e),o!==null){for(t.flags|=128,No(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(ht,ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&_t()>Xa&&(t.flags|=128,n=!0,No(a,!1),t.lanes=4194304)}else{if(!n)if(e=Oc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),No(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ft)return Vt(t),null}else 2*_t()-a.renderingStartTime>Xa&&r!==1073741824&&(t.flags|=128,n=!0,No(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_t(),t.sibling=null,r=ht.current,st(ht,n?r&1|2:r&1),t):(Vt(t),null);case 22:case 23:return qp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fr&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function rO(e,t){switch(Pp(t),t.tag){case 1:return ir(t.type)&&kc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(),ct(nr),ct(Ut),jp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ip(t),null;case 13:if(ct(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));Ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(ht),null;case 4:return Ka(),null;case 10:return Rp(t.type._context),null;case 22:case 23:return qp(),null;case 24:return null;default:return null}}var xl=!1,Bt=!1,nO=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function La(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(e,t,n)}else r.current=null}function ah(e,t,r){try{r()}catch(n){mt(e,t,n)}}var Ng=!1;function iO(e,t){if(Ud=yc,e=C1(),Tp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,f=0,p=0,m=e,y=null;t:for(;;){for(var x;m!==r||i!==0&&m.nodeType!==3||(l=o+i),m!==a||n!==0&&m.nodeType!==3||(u=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)y=m,m=x;for(;;){if(m===e)break t;if(y===r&&++f===i&&(l=o),y===a&&++p===n&&(u=o),(x=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=x}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(zd={focusedElem:e,selectionRange:r},yc=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var L=P.memoizedProps,M=P.memoizedState,R=t.stateNode,_=R.getSnapshotBeforeUpdate(t.elementType===t.type?L:Nr(t.type,L),M);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(N){mt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return P=Ng,Ng=!1,P}function rs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ah(t,r,a)}i=i.next}while(i!==n)}}function su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bw(e){var t=e.alternate;t!==null&&(e.alternate=null,bw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[ys],delete t[qd],delete t[Vx],delete t[Bx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tw(e){return e.tag===5||e.tag===3||e.tag===4}function Dg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sc));else if(n!==4&&(e=e.child,e!==null))for(sh(e,t,r),e=e.sibling;e!==null;)sh(e,t,r),e=e.sibling}function lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lh(e,t,r),e=e.sibling;e!==null;)lh(e,t,r),e=e.sibling}var Mt=null,Dr=!1;function Hn(e,t,r){for(r=r.child;r!==null;)Ew(e,t,r),r=r.sibling}function Ew(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Zc,r)}catch{}switch(r.tag){case 5:Bt||La(r,t);case 6:var n=Mt,i=Dr;Mt=null,Hn(e,t,r),Mt=n,Dr=i,Mt!==null&&(Dr?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(Dr?(e=Mt,r=r.stateNode,e.nodeType===8?Sf(e.parentNode,r):e.nodeType===1&&Sf(e,r),hs(e)):Sf(Mt,r.stateNode));break;case 4:n=Mt,i=Dr,Mt=r.stateNode.containerInfo,Dr=!0,Hn(e,t,r),Mt=n,Dr=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ah(r,t,o),i=i.next}while(i!==n)}Hn(e,t,r);break;case 1:if(!Bt&&(La(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mt(r,t,l)}Hn(e,t,r);break;case 21:Hn(e,t,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,Hn(e,t,r),Bt=n):Hn(e,t,r);break;default:Hn(e,t,r)}}function Fg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nO),t.forEach(function(n){var i=hO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ir(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,Dr=!1;break e;case 3:Mt=l.stateNode.containerInfo,Dr=!0;break e;case 4:Mt=l.stateNode.containerInfo,Dr=!0;break e}l=l.return}if(Mt===null)throw Error(me(160));Ew(a,o,i),Mt=null,Dr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){mt(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pw(t,e),t=t.sibling}function Pw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),Kr(e),n&4){try{rs(3,e,e.return),su(3,e)}catch(L){mt(e,e.return,L)}try{rs(5,e,e.return)}catch(L){mt(e,e.return,L)}}break;case 1:Ir(t,e),Kr(e),n&512&&r!==null&&La(r,r.return);break;case 5:if(Ir(t,e),Kr(e),n&512&&r!==null&&La(r,r.return),e.flags&32){var i=e.stateNode;try{cs(i,"")}catch(L){mt(e,e.return,L)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Q0(i,a),Ad(l,o);var f=Ad(l,a);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?Z0(i,m):p==="dangerouslySetInnerHTML"?X0(i,m):p==="children"?cs(i,m):fp(i,p,m,f)}switch(l){case"input":Cd(i,a);break;case"textarea":K0(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Na(i,!!a.multiple,x,!1):y!==!!a.multiple&&(a.defaultValue!=null?Na(i,!!a.multiple,a.defaultValue,!0):Na(i,!!a.multiple,a.multiple?[]:"",!1))}i[ys]=a}catch(L){mt(e,e.return,L)}}break;case 6:if(Ir(t,e),Kr(e),n&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(L){mt(e,e.return,L)}}break;case 3:if(Ir(t,e),Kr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(L){mt(e,e.return,L)}break;case 4:Ir(t,e),Kr(e);break;case 13:Ir(t,e),Kr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Wp=_t())),n&4&&Fg(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(f=Bt)||p,Ir(t,e),Bt=f):Ir(t,e),Kr(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(Ee=e,p=e.child;p!==null;){for(m=Ee=p;Ee!==null;){switch(y=Ee,x=y.child,y.tag){case 0:case 11:case 14:case 15:rs(4,y,y.return);break;case 1:La(y,y.return);var P=y.stateNode;if(typeof P.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(L){mt(n,r,L)}}break;case 5:La(y,y.return);break;case 22:if(y.memoizedState!==null){Vg(m);continue}}x!==null?(x.return=y,Ee=x):Vg(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=J0("display",o))}catch(L){mt(e,e.return,L)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(L){mt(e,e.return,L)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ir(t,e),Kr(e),n&4&&Fg(e);break;case 21:break;default:Ir(t,e),Kr(e)}}function Kr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tw(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cs(i,""),n.flags&=-33);var a=Dg(e);lh(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Dg(e);sh(e,l,o);break;default:throw Error(me(161))}}catch(u){mt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aO(e,t,r){Ee=e,Cw(e)}function Cw(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var i=Ee,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||xl;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Bt;l=xl;var f=Bt;if(xl=o,(Bt=u)&&!f)for(Ee=i;Ee!==null;)o=Ee,u=o.child,o.tag===22&&o.memoizedState!==null?Bg(i):u!==null?(u.return=o,Ee=u):Bg(i);for(;a!==null;)Ee=a,Cw(a),a=a.sibling;Ee=i,xl=l,Bt=f}$g(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ee=a):$g(e)}}function $g(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||su(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Nr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bg(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bg(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&hs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Bt||t.flags&512&&oh(t)}catch(y){mt(t,t.return,y)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function Vg(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function Bg(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{su(4,t)}catch(u){mt(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){mt(t,i,u)}}var a=t.return;try{oh(t)}catch(u){mt(t,a,u)}break;case 5:var o=t.return;try{oh(t)}catch(u){mt(t,o,u)}}}catch(u){mt(t,t.return,u)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var oO=Math.ceil,Ac=On.ReactCurrentDispatcher,Up=On.ReactCurrentOwner,Pr=On.ReactCurrentBatchConfig,Ye=0,Ot=null,St=null,It=0,fr=0,Aa=yi(0),Et=0,Ts=null,Qi=0,lu=0,zp=0,ns=null,tr=null,Wp=0,Xa=1/0,gn=null,Mc=!1,ch=null,ci=null,Ol=!1,ti=null,Ic=0,is=0,uh=null,rc=-1,nc=0;function qt(){return Ye&6?_t():rc!==-1?rc:rc=_t()}function ui(e){return e.mode&1?Ye&2&&It!==0?It&-It:zx.transition!==null?(nc===0&&(nc=f1()),nc):(e=tt,e!==0||(e=window.event,e=e===void 0?16:y1(e.type)),e):1}function Br(e,t,r,n){if(50<is)throw is=0,uh=null,Error(me(185));Ns(e,r,n),(!(Ye&2)||e!==Ot)&&(e===Ot&&(!(Ye&2)&&(lu|=r),Et===4&&Zn(e,It)),ar(e,n),r===1&&Ye===0&&!(t.mode&1)&&(Xa=_t()+500,iu&&_i()))}function ar(e,t){var r=e.callbackNode;zC(e,t);var n=gc(e,e===Ot?It:0);if(n===0)r!==null&&Ym(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ym(r),t===1)e.tag===0?Ux(Ug.bind(null,e)):D1(Ug.bind(null,e)),Fx(function(){!(Ye&6)&&_i()}),r=null;else{switch(d1(n)){case 1:r=mp;break;case 4:r=c1;break;case 16:r=mc;break;case 536870912:r=u1;break;default:r=mc}r=jw(r,xw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xw(e,t){if(rc=-1,nc=0,Ye&6)throw Error(me(327));var r=e.callbackNode;if(Ba()&&e.callbackNode!==r)return null;var n=gc(e,e===Ot?It:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jc(e,n);else{t=n;var i=Ye;Ye|=2;var a=Rw();(Ot!==e||It!==t)&&(gn=null,Xa=_t()+500,Bi(e,t));do try{cO();break}catch(l){Ow(e,l)}while(!0);Op(),Ac.current=a,Ye=i,St!==null?t=0:(Ot=null,It=0,t=Et)}if(t!==0){if(t===2&&(i=Dd(e),i!==0&&(n=i,t=fh(e,i))),t===1)throw r=Ts,Bi(e,0),Zn(e,n),ar(e,_t()),r;if(t===6)Zn(e,n);else{if(i=e.current.alternate,!(n&30)&&!sO(i)&&(t=jc(e,n),t===2&&(a=Dd(e),a!==0&&(n=a,t=fh(e,a))),t===1))throw r=Ts,Bi(e,0),Zn(e,n),ar(e,_t()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(me(345));case 2:Mi(e,tr,gn);break;case 3:if(Zn(e,n),(n&130023424)===n&&(t=Wp+500-_t(),10<t)){if(gc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hd(Mi.bind(null,e,tr,gn),t);break}Mi(e,tr,gn);break;case 4:if(Zn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Vr(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oO(n/1960))-n,10<n){e.timeoutHandle=Hd(Mi.bind(null,e,tr,gn),n);break}Mi(e,tr,gn);break;case 5:Mi(e,tr,gn);break;default:throw Error(me(329))}}}return ar(e,_t()),e.callbackNode===r?xw.bind(null,e):null}function fh(e,t){var r=ns;return e.current.memoizedState.isDehydrated&&(Bi(e,t).flags|=256),e=jc(e,t),e!==2&&(t=tr,tr=r,t!==null&&dh(t)),e}function dh(e){tr===null?tr=e:tr.push.apply(tr,e)}function sO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ur(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~zp,t&=~lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vr(t),n=1<<r;e[r]=-1,t&=~n}}function Ug(e){if(Ye&6)throw Error(me(327));Ba();var t=gc(e,0);if(!(t&1))return ar(e,_t()),null;var r=jc(e,t);if(e.tag!==0&&r===2){var n=Dd(e);n!==0&&(t=n,r=fh(e,n))}if(r===1)throw r=Ts,Bi(e,0),Zn(e,t),ar(e,_t()),r;if(r===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mi(e,tr,gn),ar(e,_t()),null}function Hp(e,t){var r=Ye;Ye|=1;try{return e(t)}finally{Ye=r,Ye===0&&(Xa=_t()+500,iu&&_i())}}function Ki(e){ti!==null&&ti.tag===0&&!(Ye&6)&&Ba();var t=Ye;Ye|=1;var r=Pr.transition,n=tt;try{if(Pr.transition=null,tt=1,e)return e()}finally{tt=n,Pr.transition=r,Ye=t,!(Ye&6)&&_i()}}function qp(){fr=Aa.current,ct(Aa)}function Bi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dx(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Pp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kc();break;case 3:Ka(),ct(nr),ct(Ut),jp();break;case 5:Ip(n);break;case 4:Ka();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:Rp(n.type._context);break;case 22:case 23:qp()}r=r.return}if(Ot=e,St=e=fi(e.current,null),It=fr=t,Et=0,Ts=null,zp=lu=Qi=0,tr=ns=null,Di!==null){for(t=0;t<Di.length;t++)if(r=Di[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Di=null}return e}function Ow(e,t){do{var r=St;try{if(Op(),Zl.current=Lc,Rc){for(var n=pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rc=!1}if(Gi=0,xt=Tt=pt=null,ts=!1,Ss=0,Up.current=null,r===null||r.return===null){Et=1,Ts=t,St=null;break}e:{var a=e,o=r.return,l=r,u=t;if(t=It,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Og(o);if(x!==null){x.flags&=-257,Rg(x,o,l,a,t),x.mode&1&&xg(a,f,t),t=x,u=f;var P=t.updateQueue;if(P===null){var L=new Set;L.add(u),t.updateQueue=L}else P.add(u);break e}else{if(!(t&1)){xg(a,f,t),Gp();break e}u=Error(me(426))}}else if(ft&&l.mode&1){var M=Og(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Rg(M,o,l,a,t),Cp(Ya(u,l));break e}}a=u=Ya(u,l),Et!==4&&(Et=2),ns===null?ns=[a]:ns.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var R=dw(a,u,t);kg(a,R);break e;case 1:l=u;var _=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ci===null||!ci.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=hw(a,l,t);kg(a,N);break e}}a=a.return}while(a!==null)}Aw(r)}catch(W){t=W,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function Rw(){var e=Ac.current;return Ac.current=Lc,e===null?Lc:e}function Gp(){(Et===0||Et===3||Et===2)&&(Et=4),Ot===null||!(Qi&268435455)&&!(lu&268435455)||Zn(Ot,It)}function jc(e,t){var r=Ye;Ye|=2;var n=Rw();(Ot!==e||It!==t)&&(gn=null,Bi(e,t));do try{lO();break}catch(i){Ow(e,i)}while(!0);if(Op(),Ye=r,Ac.current=n,St!==null)throw Error(me(261));return Ot=null,It=0,Et}function lO(){for(;St!==null;)Lw(St)}function cO(){for(;St!==null&&!IC();)Lw(St)}function Lw(e){var t=Iw(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?Aw(e):St=t,Up.current=null}function Aw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rO(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,St=null;return}}else if(r=tO(r,t,fr),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);Et===0&&(Et=5)}function Mi(e,t,r){var n=tt,i=Pr.transition;try{Pr.transition=null,tt=1,uO(e,t,r,n)}finally{Pr.transition=i,tt=n}return null}function uO(e,t,r,n){do Ba();while(ti!==null);if(Ye&6)throw Error(me(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(WC(e,a),e===Ot&&(St=Ot=null,It=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ol||(Ol=!0,jw(mc,function(){return Ba(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Pr.transition,Pr.transition=null;var o=tt;tt=1;var l=Ye;Ye|=4,Up.current=null,iO(e,r),Pw(r,e),Rx(zd),yc=!!Ud,zd=Ud=null,e.current=r,aO(r),jC(),Ye=l,tt=o,Pr.transition=a}else e.current=r;if(Ol&&(Ol=!1,ti=e,Ic=i),a=e.pendingLanes,a===0&&(ci=null),FC(r.stateNode),ar(e,_t()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mc)throw Mc=!1,e=ch,ch=null,e;return Ic&1&&e.tag!==0&&Ba(),a=e.pendingLanes,a&1?e===uh?is++:(is=0,uh=e):is=0,_i(),null}function Ba(){if(ti!==null){var e=d1(Ic),t=Pr.transition,r=tt;try{if(Pr.transition=null,tt=16>e?16:e,ti===null)var n=!1;else{if(e=ti,ti=null,Ic=0,Ye&6)throw Error(me(331));var i=Ye;for(Ye|=4,Ee=e.current;Ee!==null;){var a=Ee,o=a.child;if(Ee.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Ee=f;Ee!==null;){var p=Ee;switch(p.tag){case 0:case 11:case 15:rs(8,p,a)}var m=p.child;if(m!==null)m.return=p,Ee=m;else for(;Ee!==null;){p=Ee;var y=p.sibling,x=p.return;if(bw(p),p===f){Ee=null;break}if(y!==null){y.return=x,Ee=y;break}Ee=x}}}var P=a.alternate;if(P!==null){var L=P.child;if(L!==null){P.child=null;do{var M=L.sibling;L.sibling=null,L=M}while(L!==null)}}Ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ee=o;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rs(9,a,a.return)}var R=a.sibling;if(R!==null){R.return=a.return,Ee=R;break e}Ee=a.return}}var _=e.current;for(Ee=_;Ee!==null;){o=Ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ee=b;else e:for(o=_;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:su(9,l)}}catch(W){mt(l,l.return,W)}if(l===o){Ee=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ee=N;break e}Ee=l.return}}if(Ye=i,_i(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Zc,e)}catch{}n=!0}return n}finally{tt=r,Pr.transition=t}}return!1}function zg(e,t,r){t=Ya(r,t),t=dw(e,t,1),e=li(e,t,1),t=qt(),e!==null&&(Ns(e,1,t),ar(e,t))}function mt(e,t,r){if(e.tag===3)zg(e,e,r);else for(;t!==null;){if(t.tag===3){zg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ci===null||!ci.has(n))){e=Ya(r,e),e=hw(t,e,1),t=li(t,e,1),e=qt(),t!==null&&(Ns(t,1,e),ar(t,e));break}}t=t.return}}function fO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,Ot===e&&(It&r)===r&&(Et===4||Et===3&&(It&130023424)===It&&500>_t()-Wp?Bi(e,0):zp|=r),ar(e,t)}function Mw(e,t){t===0&&(e.mode&1?(t=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):t=1);var r=qt();e=En(e,t),e!==null&&(Ns(e,t,r),ar(e,r))}function dO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mw(e,r)}function hO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(t),Mw(e,r)}var Iw;Iw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nr.current)rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rr=!1,eO(e,t,r);rr=!!(e.flags&131072)}else rr=!1,ft&&t.flags&1048576&&F1(t,Ec,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;tc(e,t),e=t.pendingProps;var i=qa(t,Ut.current);Va(t,r),i=Dp(null,t,n,e,i,r);var a=Fp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ir(n)?(a=!0,bc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ap(t),i.updater=ou,t.stateNode=i,i._reactInternals=t,Jd(t,n,e,r),t=th(null,t,n,!0,a,r)):(t.tag=0,ft&&a&&Ep(t),Ht(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(tc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=vO(n),e=Nr(n,e),i){case 0:t=eh(null,t,n,e,r);break e;case 1:t=Mg(null,t,n,e,r);break e;case 11:t=Lg(null,t,n,e,r);break e;case 14:t=Ag(null,t,n,Nr(n.type,e),r);break e}throw Error(me(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nr(n,i),eh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nr(n,i),Mg(e,t,n,i,r);case 3:e:{if(gw(t),e===null)throw Error(me(387));n=t.pendingProps,a=t.memoizedState,i=a.element,W1(e,t),xc(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ya(Error(me(423)),t),t=Ig(e,t,n,r,i);break e}else if(n!==i){i=Ya(Error(me(424)),t),t=Ig(e,t,n,r,i);break e}else for(dr=si(t.stateNode.containerInfo.firstChild),hr=t,ft=!0,$r=null,r=U1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ga(),n===i){t=Pn(e,t,r);break e}Ht(e,t,n,r)}t=t.child}return t;case 5:return H1(t),e===null&&Kd(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Wd(n,i)?o=null:a!==null&&Wd(n,a)&&(t.flags|=32),mw(e,t),Ht(e,t,o,r),t.child;case 6:return e===null&&Kd(t),null;case 13:return yw(e,t,r);case 4:return Mp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qa(t,null,n,r):Ht(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nr(n,i),Lg(e,t,n,i,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,st(Pc,n._currentValue),n._currentValue=o,a!==null)if(Ur(a.value,o)){if(a.children===i.children&&!nr.current){t=Pn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=kn(-1,r&-r),u.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Yd(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(me(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Yd(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ht(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Va(t,r),i=Cr(i),n=n(i),t.flags|=1,Ht(e,t,n,r),t.child;case 14:return n=t.type,i=Nr(n,t.pendingProps),i=Nr(n.type,i),Ag(e,t,n,i,r);case 15:return pw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nr(n,i),tc(e,t),t.tag=1,ir(n)?(e=!0,bc(t)):e=!1,Va(t,r),fw(t,n,i),Jd(t,n,i,r),th(null,t,n,!0,e,r);case 19:return _w(e,t,r);case 22:return vw(e,t,r)}throw Error(me(156,t.tag))};function jw(e,t){return l1(e,t)}function pO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,r,n){return new pO(e,t,r,n)}function Qp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vO(e){if(typeof e=="function")return Qp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hp)return 11;if(e===pp)return 14}return 2}function fi(e,t){var r=e.alternate;return r===null?(r=br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ic(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Qp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ka:return Ui(r.children,i,a,t);case dp:o=8,i|=8;break;case kd:return e=br(12,r,t,i|2),e.elementType=kd,e.lanes=a,e;case bd:return e=br(13,r,t,i),e.elementType=bd,e.lanes=a,e;case Td:return e=br(19,r,t,i),e.elementType=Td,e.lanes=a,e;case H0:return cu(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z0:o=10;break e;case W0:o=9;break e;case hp:o=11;break e;case pp:o=14;break e;case Yn:o=16,n=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=br(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ui(e,t,r,n){return e=br(7,e,n,t),e.lanes=r,e}function cu(e,t,r,n){return e=br(22,e,n,t),e.elementType=H0,e.lanes=r,e.stateNode={isHidden:!1},e}function Of(e,t,r){return e=br(6,e,null,t),e.lanes=r,e}function Rf(e,t,r){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kp(e,t,r,n,i,a,o,l,u){return e=new mO(e,t,r,l,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=br(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(a),e}function gO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Nw(e){if(!e)return hi;e=e._reactInternals;e:{if(ta(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var r=e.type;if(ir(r))return N1(e,r,t)}return t}function Dw(e,t,r,n,i,a,o,l,u){return e=Kp(r,n,!0,e,i,a,o,l,u),e.context=Nw(null),r=e.current,n=qt(),i=ui(r),a=kn(n,i),a.callback=t??null,li(r,a,i),e.current.lanes=i,Ns(e,i,n),ar(e,n),e}function uu(e,t,r,n){var i=t.current,a=qt(),o=ui(i);return r=Nw(r),t.context===null?t.context=r:t.pendingContext=r,t=kn(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=li(i,t,o),e!==null&&(Br(e,i,o,a),Jl(e,i,o)),o}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yp(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function yO(){return null}var Fw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xp(e){this._internalRoot=e}fu.prototype.render=Xp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));uu(e,t,null,null)};fu.prototype.unmount=Xp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){uu(null,e,null,null)}),t[Tn]=null}};function fu(e){this._internalRoot=e}fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=v1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jn.length&&t!==0&&t<Jn[r].priority;r++);Jn.splice(r,0,e),r===0&&g1(e)}};function Jp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function _O(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var f=Nc(o);a.call(f)}}var o=Dw(t,n,e,0,null,!1,!1,"",Hg);return e._reactRootContainer=o,e[Tn]=o.current,ms(e.nodeType===8?e.parentNode:e),Ki(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var f=Nc(u);l.call(f)}}var u=Kp(e,0,!1,null,null,!1,!1,"",Hg);return e._reactRootContainer=u,e[Tn]=u.current,ms(e.nodeType===8?e.parentNode:e),Ki(function(){uu(t,u,r,n)}),u}function hu(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var u=Nc(o);l.call(u)}}uu(t,o,e,i)}else o=_O(r,t,e,i,n);return Nc(o)}h1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wo(t.pendingLanes);r!==0&&(gp(t,r|1),ar(t,_t()),!(Ye&6)&&(Xa=_t()+500,_i()))}break;case 13:Ki(function(){var n=En(e,1);if(n!==null){var i=qt();Br(n,e,1,i)}}),Yp(e,1)}};yp=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var r=qt();Br(t,e,134217728,r)}Yp(e,134217728)}};p1=function(e){if(e.tag===13){var t=ui(e),r=En(e,t);if(r!==null){var n=qt();Br(r,e,t,n)}Yp(e,t)}};v1=function(){return tt};m1=function(e,t){var r=tt;try{return tt=e,t()}finally{tt=r}};Id=function(e,t,r){switch(t){case"input":if(Cd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=nu(n);if(!i)throw Error(me(90));G0(n),Cd(n,i)}}}break;case"textarea":K0(e,r);break;case"select":t=r.value,t!=null&&Na(e,!!r.multiple,t,!1)}};r1=Hp;n1=Ki;var wO={usingClientEntryPoint:!1,Events:[Fs,Pa,nu,e1,t1,Hp]},Do={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SO={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o1(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||yO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{Zc=Rl.inject(SO),nn=Rl}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wO;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(t))throw Error(me(200));return gO(e,t,null,r)};mr.createRoot=function(e,t){if(!Jp(e))throw Error(me(299));var r=!1,n="",i=Fw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kp(e,1,!1,null,null,r,!1,n,i),e[Tn]=t.current,ms(e.nodeType===8?e.parentNode:e),new Xp(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=o1(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return Ki(e)};mr.hydrate=function(e,t,r){if(!du(t))throw Error(me(200));return hu(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!Jp(e))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Fw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Dw(t,null,e,1,r??null,i,!1,a,o),e[Tn]=t.current,ms(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new fu(t)};mr.render=function(e,t,r){if(!du(t))throw Error(me(200));return hu(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!du(e))throw Error(me(40));return e._reactRootContainer?(Ki(function(){hu(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};mr.unstable_batchedUpdates=Hp;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!du(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return hu(e,t,r,!1,n)};mr.version="18.3.1-next-f1338f8080-20240426";function $w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($w)}catch(e){console.error(e)}}$w(),$0.exports=mr;var kO=$0.exports,qg=kO;wd.createRoot=qg.createRoot,wd.hydrateRoot=qg.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(this,arguments)}var ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ri||(ri={}));const Gg="popstate";function bO(e){e===void 0&&(e={});function t(i,a){let{pathname:o="/",search:l="",hash:u=""}=ra(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),hh("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof a=="string"?a:Vw(a))}function n(i,a){Zp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return EO(t,r,n,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TO(){return Math.random().toString(36).substr(2,8)}function Qg(e,t){return{usr:e.state,key:e.key,idx:t}}function hh(e,t,r,n){return r===void 0&&(r=null),Es({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ra(t):t,{state:r,key:t&&t.key||n||TO()})}function Vw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ra(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function EO(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=ri.Pop,u=null,f=p();f==null&&(f=0,o.replaceState(Es({},o.state,{idx:f}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=ri.Pop;let M=p(),R=M==null?null:M-f;f=M,u&&u({action:l,location:L.location,delta:R})}function y(M,R){l=ri.Push;let _=hh(L.location,M,R);r&&r(_,M),f=p()+1;let b=Qg(_,f),N=L.createHref(_);try{o.pushState(b,"",N)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(N)}a&&u&&u({action:l,location:L.location,delta:1})}function x(M,R){l=ri.Replace;let _=hh(L.location,M,R);r&&r(_,M),f=p();let b=Qg(_,f),N=L.createHref(_);o.replaceState(b,"",N),a&&u&&u({action:l,location:L.location,delta:0})}function P(M){let R=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof M=="string"?M:Vw(M);return _=_.replace(/ $/,"%20"),kt(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let L={get action(){return l},get location(){return e(i,o)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gg,m),u=M,()=>{i.removeEventListener(Gg,m),u=null}},createHref(M){return t(i,M)},createURL:P,encodeLocation(M){let R=P(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:x,go(M){return o.go(M)}};return L}var Kg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kg||(Kg={}));function PO(e,t,r){return r===void 0&&(r="/"),CO(e,t,r,!1)}function CO(e,t,r,n){let i=typeof t=="string"?ra(t):t,a=zw(i.pathname||"/",r);if(a==null)return null;let o=Bw(e);xO(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=$O(a);l=DO(o[u],f,n)}return l}function Bw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(kt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=zi([n,u.relativePath]),p=r.concat(u);a.children&&a.children.length>0&&(kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Bw(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:jO(f,a.index),routesMeta:p})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of Uw(a.path))i(a,o,u)}),t}function Uw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Uw(n.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function xO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OO=/^:[\w-]+$/,RO=3,LO=2,AO=1,MO=10,IO=-2,Yg=e=>e==="*";function jO(e,t){let r=e.split("/"),n=r.length;return r.some(Yg)&&(n+=IO),t&&(n+=LO),r.filter(i=>!Yg(i)).reduce((i,a)=>i+(OO.test(a)?RO:a===""?AO:MO),n)}function NO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function DO(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Xg({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),y=u.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Xg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:zi([a,m.pathname]),pathnameBase:zO(zi([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=zi([a,m.pathnameBase]))}return o}function Xg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FO(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,p,m)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let L=l[m]||"";o=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const P=l[m];return x&&!P?f[y]=void 0:f[y]=(P||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function FO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Zp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function $O(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function VO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ra(e):e;return{pathname:r?r.startsWith("/")?r:BO(r,t):t,search:WO(n),hash:HO(i)}}function BO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Lf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ww(e,t){let r=UO(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hw(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ra(e):(i=Es({},e),kt(!i.pathname||!i.pathname.includes("?"),Lf("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),Lf("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),Lf("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?t[m]:"/"}let u=VO(i,l),f=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}const zi=e=>e.join("/").replace(/\/\/+/g,"/"),zO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qw=["post","put","patch","delete"];new Set(qw);const GO=["get",...qw];new Set(GO);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}const ev=ee.createContext(null),QO=ee.createContext(null),Vs=ee.createContext(null),pu=ee.createContext(null),wi=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Gw=ee.createContext(null);function Bs(){return ee.useContext(pu)!=null}function tv(){return Bs()||kt(!1),ee.useContext(pu).location}function Qw(e){ee.useContext(Vs).static||ee.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=ee.useContext(wi);return e?lR():KO()}function KO(){Bs()||kt(!1);let e=ee.useContext(ev),{basename:t,future:r,navigator:n}=ee.useContext(Vs),{matches:i}=ee.useContext(wi),{pathname:a}=tv(),o=JSON.stringify(Ww(i,r.v7_relativeSplatPath)),l=ee.useRef(!1);return Qw(()=>{l.current=!0}),ee.useCallback(function(f,p){if(p===void 0&&(p={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Hw(f,JSON.parse(o),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:zi([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,o,a,e])}function YO(){let{matches:e}=ee.useContext(wi),t=e[e.length-1];return t?t.params:{}}function XO(e,t){return JO(e,t)}function JO(e,t,r,n){Bs()||kt(!1);let{navigator:i}=ee.useContext(Vs),{matches:a}=ee.useContext(wi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=tv(),p;if(t){var m;let M=typeof t=="string"?ra(t):t;u==="/"||(m=M.pathname)!=null&&m.startsWith(u)||kt(!1),p=M}else p=f;let y=p.pathname||"/",x=y;if(u!=="/"){let M=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=PO(e,{pathname:x}),L=nR(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},l,M.params),pathname:zi([u,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?u:zi([u,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,r,n);return t&&L?ee.createElement(pu.Provider,{value:{location:Ps({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ri.Pop}},L):L}function ZO(){let e=sR(),t=qO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},t),r?ee.createElement("pre",{style:i},r):null,null)}const eR=ee.createElement(ZO,null);class tR extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?ee.createElement(wi.Provider,{value:this.props.routeContext},ee.createElement(Gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rR(e){let{routeContext:t,match:r,children:n}=e,i=ee.useContext(ev);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ee.createElement(wi.Provider,{value:t},n)}function nR(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||kt(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:x}=r,P=m.route.loader&&y[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||P){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let x,P=!1,L=null,M=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,L=m.route.errorElement||eR,u&&(f<0&&y===0?(P=!0,M=null):f===y&&(P=!0,M=m.route.hydrateFallbackElement||null)));let R=t.concat(o.slice(0,y+1)),_=()=>{let b;return x?b=L:P?b=M:m.route.Component?b=ee.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=p,ee.createElement(rR,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:r!=null},children:b})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?ee.createElement(tR,{location:r.location,revalidation:r.revalidation,component:L,error:x,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var Kw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kw||{}),Dc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dc||{});function iR(e){let t=ee.useContext(ev);return t||kt(!1),t}function aR(e){let t=ee.useContext(QO);return t||kt(!1),t}function oR(e){let t=ee.useContext(wi);return t||kt(!1),t}function Yw(e){let t=oR(),r=t.matches[t.matches.length-1];return r.route.id||kt(!1),r.route.id}function sR(){var e;let t=ee.useContext(Gw),r=aR(Dc.UseRouteError),n=Yw(Dc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lR(){let{router:e}=iR(Kw.UseNavigateStable),t=Yw(Dc.UseNavigateStable),r=ee.useRef(!1);return Qw(()=>{r.current=!0}),ee.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ps({fromRouteId:t},a)))},[e,t])}const Jg={};function cR(e,t){Jg[t]||(Jg[t]=!0,console.warn(t))}const Zg=(e,t,r)=>cR(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function uR(e,t){e!=null&&e.v7_startTransition||Zg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Zg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function fR(e){let{to:t,replace:r,state:n,relative:i}=e;Bs()||kt(!1);let{future:a,static:o}=ee.useContext(Vs),{matches:l}=ee.useContext(wi),{pathname:u}=tv(),f=Or(),p=Hw(t,Ww(l,a.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(p);return ee.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:i}),[f,m,i,r,n]),null}function jr(e){kt(!1)}function dR(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ri.Pop,navigator:a,static:o=!1,future:l}=e;Bs()&&kt(!1);let u=t.replace(/^\/*/,"/"),f=ee.useMemo(()=>({basename:u,navigator:a,static:o,future:Ps({v7_relativeSplatPath:!1},l)}),[u,l,a,o]);typeof n=="string"&&(n=ra(n));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:P="default"}=n,L=ee.useMemo(()=>{let M=zw(p,u);return M==null?null:{location:{pathname:M,search:m,hash:y,state:x,key:P},navigationType:i}},[u,p,m,y,x,P,i]);return L==null?null:ee.createElement(Vs.Provider,{value:f},ee.createElement(pu.Provider,{children:r,value:L}))}function hR(e){let{children:t,location:r}=e;return XO(ph(t),r)}new Promise(()=>{});function ph(e,t){t===void 0&&(t=[]);let r=[];return ee.Children.forEach(e,(n,i)=>{if(!ee.isValidElement(n))return;let a=[...t,i];if(n.type===ee.Fragment){r.push.apply(r,ph(n.props.children,a));return}n.type!==jr&&kt(!1),!n.props.index||!n.props.children||kt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ph(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const pR="6";try{window.__reactRouterVersion=pR}catch{}const vR="startTransition",ey=fC[vR];function mR(e){let{basename:t,children:r,future:n,window:i}=e,a=ee.useRef();a.current==null&&(a.current=bO({window:i,v5Compat:!0}));let o=a.current,[l,u]=ee.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},p=ee.useCallback(m=>{f&&ey?ey(()=>u(m)):u(m)},[u,f]);return ee.useLayoutEffect(()=>o.listen(p),[o,p]),ee.useEffect(()=>uR(n),[n]),ee.createElement(dR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var ty;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ty||(ty={}));var ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ry||(ry={}));function Xw(e,t){return function(){return e.apply(t,arguments)}}const{toString:gR}=Object.prototype,{getPrototypeOf:rv}=Object,vu=(e=>t=>{const r=gR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),zr=e=>(e=e.toLowerCase(),t=>vu(t)===e),mu=e=>t=>typeof t===e,{isArray:oo}=Array,Cs=mu("undefined");function yR(e){return e!==null&&!Cs(e)&&e.constructor!==null&&!Cs(e.constructor)&&pr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jw=zr("ArrayBuffer");function _R(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jw(e.buffer),t}const wR=mu("string"),pr=mu("function"),Zw=mu("number"),gu=e=>e!==null&&typeof e=="object",SR=e=>e===!0||e===!1,ac=e=>{if(vu(e)!=="object")return!1;const t=rv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kR=zr("Date"),bR=zr("File"),TR=zr("Blob"),ER=zr("FileList"),PR=e=>gu(e)&&pr(e.pipe),CR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pr(e.append)&&((t=vu(e))==="formdata"||t==="object"&&pr(e.toString)&&e.toString()==="[object FormData]"))},xR=zr("URLSearchParams"),[OR,RR,LR,AR]=["ReadableStream","Request","Response","Headers"].map(zr),MR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Us(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),oo(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function eS(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const $i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tS=e=>!Cs(e)&&e!==$i;function vh(){const{caseless:e}=tS(this)&&this||{},t={},r=(n,i)=>{const a=e&&eS(t,i)||i;ac(t[a])&&ac(n)?t[a]=vh(t[a],n):ac(n)?t[a]=vh({},n):oo(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Us(arguments[n],r);return t}const IR=(e,t,r,{allOwnKeys:n}={})=>(Us(t,(i,a)=>{r&&pr(i)?e[a]=Xw(i,r):e[a]=i},{allOwnKeys:n}),e),jR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},DR=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&rv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},FR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},$R=e=>{if(!e)return null;if(oo(e))return e;let t=e.length;if(!Zw(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},VR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rv(Uint8Array)),BR=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},UR=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},zR=zr("HTMLFormElement"),WR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),ny=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),HR=zr("RegExp"),rS=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Us(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},qR=e=>{rS(e,(t,r)=>{if(pr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(pr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},GR=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return oo(e)?n(e):n(String(e).split(t)),r},QR=()=>{},KR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Af="abcdefghijklmnopqrstuvwxyz",iy="0123456789",nS={DIGIT:iy,ALPHA:Af,ALPHA_DIGIT:Af+Af.toUpperCase()+iy},YR=(e=16,t=nS.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function XR(e){return!!(e&&pr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const JR=e=>{const t=new Array(10),r=(n,i)=>{if(gu(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=oo(n)?[]:{};return Us(n,(o,l)=>{const u=r(o,i+1);!Cs(u)&&(a[l]=u)}),t[i]=void 0,a}}return n};return r(e,0)},ZR=zr("AsyncFunction"),eL=e=>e&&(gu(e)||pr(e))&&pr(e.then)&&pr(e.catch),iS=((e,t)=>e?setImmediate:t?((r,n)=>($i.addEventListener("message",({source:i,data:a})=>{i===$i&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),$i.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",pr($i.postMessage)),tL=typeof queueMicrotask<"u"?queueMicrotask.bind($i):typeof process<"u"&&process.nextTick||iS,se={isArray:oo,isArrayBuffer:Jw,isBuffer:yR,isFormData:CR,isArrayBufferView:_R,isString:wR,isNumber:Zw,isBoolean:SR,isObject:gu,isPlainObject:ac,isReadableStream:OR,isRequest:RR,isResponse:LR,isHeaders:AR,isUndefined:Cs,isDate:kR,isFile:bR,isBlob:TR,isRegExp:HR,isFunction:pr,isStream:PR,isURLSearchParams:xR,isTypedArray:VR,isFileList:ER,forEach:Us,merge:vh,extend:IR,trim:MR,stripBOM:jR,inherits:NR,toFlatObject:DR,kindOf:vu,kindOfTest:zr,endsWith:FR,toArray:$R,forEachEntry:BR,matchAll:UR,isHTMLForm:zR,hasOwnProperty:ny,hasOwnProp:ny,reduceDescriptors:rS,freezeMethods:qR,toObjectSet:GR,toCamelCase:WR,noop:QR,toFiniteNumber:KR,findKey:eS,global:$i,isContextDefined:tS,ALPHABET:nS,generateString:YR,isSpecCompliantForm:XR,toJSONObject:JR,isAsyncFn:ZR,isThenable:eL,setImmediate:iS,asap:tL};function We(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const aS=We.prototype,oS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oS[e]={value:e}});Object.defineProperties(We,oS);Object.defineProperty(aS,"isAxiosError",{value:!0});We.from=(e,t,r,n,i,a)=>{const o=Object.create(aS);return se.toFlatObject(e,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),We.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const rL=null;function mh(e){return se.isPlainObject(e)||se.isArray(e)}function sS(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function ay(e,t,r){return e?e.concat(t).map(function(i,a){return i=sS(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function nL(e){return se.isArray(e)&&!e.some(mh)}const iL=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function yu(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,M){return!se.isUndefined(M[L])});const n=r.metaTokens,i=r.visitor||p,a=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(P){if(P===null)return"";if(se.isDate(P))return P.toISOString();if(!u&&se.isBlob(P))throw new We("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(P)||se.isTypedArray(P)?u&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function p(P,L,M){let R=P;if(P&&!M&&typeof P=="object"){if(se.endsWith(L,"{}"))L=n?L:L.slice(0,-2),P=JSON.stringify(P);else if(se.isArray(P)&&nL(P)||(se.isFileList(P)||se.endsWith(L,"[]"))&&(R=se.toArray(P)))return L=sS(L),R.forEach(function(b,N){!(se.isUndefined(b)||b===null)&&t.append(o===!0?ay([L],N,a):o===null?L:L+"[]",f(b))}),!1}return mh(P)?!0:(t.append(ay(M,L,a),f(P)),!1)}const m=[],y=Object.assign(iL,{defaultVisitor:p,convertValue:f,isVisitable:mh});function x(P,L){if(!se.isUndefined(P)){if(m.indexOf(P)!==-1)throw Error("Circular reference detected in "+L.join("."));m.push(P),se.forEach(P,function(R,_){(!(se.isUndefined(R)||R===null)&&i.call(t,R,se.isString(_)?_.trim():_,L,y))===!0&&x(R,L?L.concat(_):[_])}),m.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return x(e),t}function oy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function nv(e,t){this._pairs=[],e&&yu(e,this,t)}const lS=nv.prototype;lS.append=function(t,r){this._pairs.push([t,r])};lS.toString=function(t){const r=t?function(n){return t.call(this,n,oy)}:oy;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function aL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cS(e,t,r){if(!t)return e;const n=r&&r.encode||aL,i=r&&r.serialize;let a;if(i?a=i(t,r):a=se.isURLSearchParams(t)?t.toString():new nv(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class sy{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const uS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oL=typeof URLSearchParams<"u"?URLSearchParams:nv,sL=typeof FormData<"u"?FormData:null,lL=typeof Blob<"u"?Blob:null,cL={isBrowser:!0,classes:{URLSearchParams:oL,FormData:sL,Blob:lL},protocols:["http","https","file","blob","url","data"]},iv=typeof window<"u"&&typeof document<"u",gh=typeof navigator=="object"&&navigator||void 0,uL=iv&&(!gh||["ReactNative","NativeScript","NS"].indexOf(gh.product)<0),fL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dL=iv&&window.location.href||"http://localhost",hL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iv,hasStandardBrowserEnv:uL,hasStandardBrowserWebWorkerEnv:fL,navigator:gh,origin:dL},Symbol.toStringTag,{value:"Module"})),or={...hL,...cL};function pL(e,t){return yu(e,new or.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return or.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function vL(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mL(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function fS(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=a>=r.length;return o=!o&&se.isArray(i)?i.length:o,u?(se.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!se.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&se.isArray(i[o])&&(i[o]=mL(i[o])),!l)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,i)=>{t(vL(n),i,r,0)}),r}return null}function gL(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const zs={transitional:uS,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=se.isObject(t);if(a&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return i?JSON.stringify(fS(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pL(t,this.formSerializer).toString();if((l=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return yu(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),gL(t)):t}],transformResponse:[function(t){const r=this.transitional||zs.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?We.from(l,We.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{zs.headers[e]={}});const yL=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_L=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&yL[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ly=Symbol("internals");function Fo(e){return e&&String(e).trim().toLowerCase()}function oc(e){return e===!1||e==null?e:se.isArray(e)?e.map(oc):String(e)}function wL(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const SL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mf(e,t,r,n,i){if(se.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function kL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function bL(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}class sr{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,u,f){const p=Fo(u);if(!p)throw new Error("header name must be a non-empty string");const m=se.findKey(i,p);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||u]=oc(l))}const o=(l,u)=>se.forEach(l,(f,p)=>a(f,p,u));if(se.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(se.isString(t)&&(t=t.trim())&&!SL(t))o(_L(t),r);else if(se.isHeaders(t))for(const[l,u]of t.entries())a(u,l,n);else t!=null&&a(r,t,n);return this}get(t,r){if(t=Fo(t),t){const n=se.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return wL(i);if(se.isFunction(r))return r.call(this,i,n);if(se.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Fo(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Mf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Fo(o),o){const l=se.findKey(n,o);l&&(!r||Mf(n,n[l],l,r))&&(delete n[l],i=!0)}}return se.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Mf(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return se.forEach(this,(i,a)=>{const o=se.findKey(n,a);if(o){r[o]=oc(i),delete r[a];return}const l=t?kL(a):String(a).trim();l!==a&&delete r[a],r[l]=oc(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[ly]=this[ly]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Fo(o);n[l]||(bL(i,o),n[l]=!0)}return se.isArray(t)?t.forEach(a):a(t),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(sr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(sr);function If(e,t){const r=this||zs,n=t||r,i=sr.from(n.headers);let a=n.data;return se.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function dS(e){return!!(e&&e.__CANCEL__)}function so(e,t,r){We.call(this,e??"canceled",We.ERR_CANCELED,t,r),this.name="CanceledError"}se.inherits(so,We,{__CANCEL__:!0});function hS(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new We("Request failed with status code "+r.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function TL(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function EL(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),p=n[a];o||(o=f),r[i]=u,n[i]=f;let m=a,y=0;for(;m!==i;)y+=r[m++],m=m%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-o<t)return;const x=p&&f-p;return x?Math.round(y*1e3/x):void 0}}function PL(e,t){let r=0,n=1e3/t,i,a;const o=(f,p=Date.now())=>{r=p,i=null,a&&(clearTimeout(a),a=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),m=p-r;m>=n?o(f,p):(i=f,a||(a=setTimeout(()=>{a=null,o(i)},n-m)))},()=>i&&o(i)]}const Fc=(e,t,r=3)=>{let n=0;const i=EL(50,250);return PL(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,u=o-n,f=i(u),p=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&p?(l-o)/f:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},cy=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uy=e=>(...t)=>se.asap(()=>e(...t)),CL=or.hasStandardBrowserEnv?function(){const t=or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const l=se.isString(o)?i(o):o;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}(),xL=or.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];se.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),se.isString(n)&&o.push("path="+n),se.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function RL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pS(e,t){return e&&!OL(t)?RL(e,t):t}const fy=e=>e instanceof sr?{...e}:e;function Yi(e,t){t=t||{};const r={};function n(f,p,m){return se.isPlainObject(f)&&se.isPlainObject(p)?se.merge.call({caseless:m},f,p):se.isPlainObject(p)?se.merge({},p):se.isArray(p)?p.slice():p}function i(f,p,m){if(se.isUndefined(p)){if(!se.isUndefined(f))return n(void 0,f,m)}else return n(f,p,m)}function a(f,p){if(!se.isUndefined(p))return n(void 0,p)}function o(f,p){if(se.isUndefined(p)){if(!se.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function l(f,p,m){if(m in t)return n(f,p);if(m in e)return n(void 0,f)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,p)=>i(fy(f),fy(p),!0)};return se.forEach(Object.keys(Object.assign({},e,t)),function(p){const m=u[p]||i,y=m(e[p],t[p],p);se.isUndefined(y)&&m!==l||(r[p]=y)}),r}const vS=e=>{const t=Yi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=sr.from(o),t.url=cS(pS(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(se.isFormData(r)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...p].join("; "))}}if(or.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&CL(t.url))){const f=i&&a&&xL.read(a);f&&o.set(i,f)}return t},LL=typeof XMLHttpRequest<"u",AL=LL&&function(e){return new Promise(function(r,n){const i=vS(e);let a=i.data;const o=sr.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=i,p,m,y,x,P;function L(){x&&x(),P&&P(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let M=new XMLHttpRequest;M.open(i.method.toUpperCase(),i.url,!0),M.timeout=i.timeout;function R(){if(!M)return;const b=sr.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),W={data:!l||l==="text"||l==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:b,config:e,request:M};hS(function(Y){r(Y),L()},function(Y){n(Y),L()},W),M=null}"onloadend"in M?M.onloadend=R:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(R)},M.onabort=function(){M&&(n(new We("Request aborted",We.ECONNABORTED,e,M)),M=null)},M.onerror=function(){n(new We("Network Error",We.ERR_NETWORK,e,M)),M=null},M.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||uS;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),n(new We(N,W.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,M)),M=null},a===void 0&&o.setContentType(null),"setRequestHeader"in M&&se.forEach(o.toJSON(),function(N,W){M.setRequestHeader(W,N)}),se.isUndefined(i.withCredentials)||(M.withCredentials=!!i.withCredentials),l&&l!=="json"&&(M.responseType=i.responseType),f&&([y,P]=Fc(f,!0),M.addEventListener("progress",y)),u&&M.upload&&([m,x]=Fc(u),M.upload.addEventListener("progress",m),M.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(p=b=>{M&&(n(!b||b.type?new so(null,e,M):b),M.abort(),M=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const _=TL(i.url);if(_&&or.protocols.indexOf(_)===-1){n(new We("Unsupported protocol "+_+":",We.ERR_BAD_REQUEST,e));return}M.send(a||null)})},ML=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(f){if(!i){i=!0,l();const p=f instanceof Error?f:this.reason;n.abort(p instanceof We?p:new so(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,a(new We(`timeout ${t} of ms exceeded`,We.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>se.asap(l),u}},IL=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},jL=async function*(e,t){for await(const r of NL(e))yield*IL(r,t)},NL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},dy=(e,t,r,n)=>{const i=jL(e,t);let a=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await i.next();if(f){l(),u.close();return}let m=p.byteLength;if(r){let y=a+=m;r(y)}u.enqueue(new Uint8Array(p))}catch(f){throw l(f),f}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},_u=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mS=_u&&typeof ReadableStream=="function",DL=_u&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},FL=mS&&gS(()=>{let e=!1;const t=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),hy=64*1024,yh=mS&&gS(()=>se.isReadableStream(new Response("").body)),$c={stream:yh&&(e=>e.body)};_u&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$c[t]&&($c[t]=se.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new We(`Response type '${t}' is not supported`,We.ERR_NOT_SUPPORT,n)})})})(new Response);const $L=async e=>{if(e==null)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e))return(await new Request(or.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(se.isArrayBufferView(e)||se.isArrayBuffer(e))return e.byteLength;if(se.isURLSearchParams(e)&&(e=e+""),se.isString(e))return(await DL(e)).byteLength},VL=async(e,t)=>{const r=se.toFiniteNumber(e.getContentLength());return r??$L(t)},BL=_u&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:p,withCredentials:m="same-origin",fetchOptions:y}=vS(e);f=f?(f+"").toLowerCase():"text";let x=ML([i,a&&a.toAbortSignal()],o),P;const L=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let M;try{if(u&&FL&&r!=="get"&&r!=="head"&&(M=await VL(p,n))!==0){let W=new Request(t,{method:"POST",body:n,duplex:"half"}),H;if(se.isFormData(n)&&(H=W.headers.get("content-type"))&&p.setContentType(H),W.body){const[Y,ie]=cy(M,Fc(uy(u)));n=dy(W.body,hy,Y,ie)}}se.isString(m)||(m=m?"include":"omit");const R="credentials"in Request.prototype;P=new Request(t,{...y,signal:x,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:R?m:void 0});let _=await fetch(P);const b=yh&&(f==="stream"||f==="response");if(yh&&(l||b&&L)){const W={};["status","statusText","headers"].forEach(ae=>{W[ae]=_[ae]});const H=se.toFiniteNumber(_.headers.get("content-length")),[Y,ie]=l&&cy(H,Fc(uy(l),!0))||[];_=new Response(dy(_.body,hy,Y,()=>{ie&&ie(),L&&L()}),W)}f=f||"text";let N=await $c[se.findKey($c,f)||"text"](_,e);return!b&&L&&L(),await new Promise((W,H)=>{hS(W,H,{data:N,headers:sr.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:P})})}catch(R){throw L&&L(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,e,P),{cause:R.cause||R}):We.from(R,R&&R.code,e,P)}}),_h={http:rL,xhr:AL,fetch:BL};se.forEach(_h,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const py=e=>`- ${e}`,UL=e=>se.isFunction(e)||e===null||e===!1,yS={getAdapter:e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!UL(r)&&(n=_h[(o=String(r)).toLowerCase()],n===void 0))throw new We(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(py).join(`
`):" "+py(a[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:_h};function jf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new so(null,e)}function vy(e){return jf(e),e.headers=sr.from(e.headers),e.data=If.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yS.getAdapter(e.adapter||zs.adapter)(e).then(function(n){return jf(e),n.data=If.call(e,e.transformResponse,n),n.headers=sr.from(n.headers),n},function(n){return dS(n)||(jf(e),n&&n.response&&(n.response.data=If.call(e,e.transformResponse,n.response),n.response.headers=sr.from(n.response.headers))),Promise.reject(n)})}const _S="1.7.7",av={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{av[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const my={};av.transitional=function(t,r,n){function i(a,o){return"[Axios v"+_S+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new We(i(o," has been removed"+(r?" in "+r:"")),We.ERR_DEPRECATED);return r&&!my[o]&&(my[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};function zL(e,t,r){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],u=l===void 0||o(l,a,e);if(u!==!0)throw new We("option "+a+" must be "+u,We.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new We("Unknown option "+a,We.ERR_BAD_OPTION)}}const wh={assertOptions:zL,validators:av},qn=wh.validators;class Wi{constructor(t){this.defaults=t,this.interceptors={request:new sy,response:new sy}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Yi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&wh.assertOptions(n,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),i!=null&&(se.isFunction(i)?r.paramsSerializer={serialize:i}:wh.assertOptions(i,{encode:qn.function,serialize:qn.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&se.merge(a.common,a[r.method]);a&&se.forEach(["delete","get","head","post","put","patch","common"],P=>{delete a[P]}),r.headers=sr.concat(o,a);const l=[];let u=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(r)===!1||(u=u&&L.synchronous,l.unshift(L.fulfilled,L.rejected))});const f=[];this.interceptors.response.forEach(function(L){f.push(L.fulfilled,L.rejected)});let p,m=0,y;if(!u){const P=[vy.bind(this),void 0];for(P.unshift.apply(P,l),P.push.apply(P,f),y=P.length,p=Promise.resolve(r);m<y;)p=p.then(P[m++],P[m++]);return p}y=l.length;let x=r;for(m=0;m<y;){const P=l[m++],L=l[m++];try{x=P(x)}catch(M){L.call(this,M);break}}try{p=vy.call(this,x)}catch(P){return Promise.reject(P)}for(m=0,y=f.length;m<y;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=Yi(this.defaults,t);const r=pS(t.baseURL,t.url);return cS(r,t.params,t.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(t){Wi.prototype[t]=function(r,n){return this.request(Yi(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Yi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Wi.prototype[t]=r(),Wi.prototype[t+"Form"]=r(!0)});class ov{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new so(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ov(function(i){t=i}),cancel:t}}}function WL(e){return function(r){return e.apply(null,r)}}function HL(e){return se.isObject(e)&&e.isAxiosError===!0}const Sh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sh).forEach(([e,t])=>{Sh[t]=e});function wS(e){const t=new Wi(e),r=Xw(Wi.prototype.request,t);return se.extend(r,Wi.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return wS(Yi(e,i))},r}const Ze=wS(zs);Ze.Axios=Wi;Ze.CanceledError=so;Ze.CancelToken=ov;Ze.isCancel=dS;Ze.VERSION=_S;Ze.toFormData=yu;Ze.AxiosError=We;Ze.Cancel=Ze.CanceledError;Ze.all=function(t){return Promise.all(t)};Ze.spread=WL;Ze.isAxiosError=HL;Ze.mergeConfig=Yi;Ze.AxiosHeaders=sr;Ze.formToJSON=e=>fS(se.isHTMLForm(e)?new FormData(e):e);Ze.getAdapter=yS.getAdapter;Ze.HttpStatusCode=Sh;Ze.default=Ze;const Ws="http://localhost:5001",qL=async(e,t)=>{var r,n;try{const i=await Ze.post(`${Ws}/api/auth/login`,{email:e,password:t},{withCredentials:!0}),{token:a,user:o}=i.data;return localStorage.setItem("token",a),{message:"Login successful",user:o}}catch(i){throw console.error("Login error:",i),new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"An error occurred during login.")}},GL=async e=>{var t,r;try{return(await Ze.post(`${Ws}/api/auth/signup`,e)).data}catch(n){throw new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"An error occurred during sign-up.")}},QL=async e=>{var t,r;try{return(await Ze.post(`${Ws}/api/auth/forgot-password`,{email:e})).data}catch(n){throw console.error("Reset password email error:",n),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"An error occurred while sending the reset password email.")}},KL=async(e,t)=>{var r,n;try{return(await Ze.post(`${Ws}/api/auth/reset-password/${e}`,{password:t})).data}catch(i){throw console.error("Reset password error:",i),new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"An error occurred while resetting the password.")}},YL=async()=>{var e,t;try{const r=await Ze.post(`${Ws}/api/auth/logout`,{},{withCredentials:!0});return localStorage.removeItem("token"),r.data}catch(r){throw console.error("Logout error:",r),new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"An error occurred during logout.")}},Vc="/autism-sense/assets/default-profile-BHlb9M6-.png";var SS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gy=Er.createContext&&Er.createContext(SS),XL=["attr","size","title"];function JL(e,t){if(e==null)return{};var r=ZL(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){eA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eA(e,t,r){return t=tA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tA(e){var t=rA(e,"string");return typeof t=="symbol"?t:t+""}function rA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e){return e&&e.map((t,r)=>Er.createElement(t.tag,Uc({key:r},t.attr),kS(t.child)))}function nA(e){return t=>Er.createElement(iA,Bc({attr:Uc({},e.attr)},t),kS(e.child))}function iA(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=JL(e,XL),l=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),Er.createElement("svg",Bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:Uc(Uc({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Er.createElement("title",null,a),e.children)};return gy!==void 0?Er.createElement(gy.Consumer,null,r=>t(r)):t(SS)}function bS(e){return nA({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}const Ii=ee.forwardRef(({onEnter:e,...t},r)=>T.jsx("input",{ref:r,...t,onKeyDown:n=>{n.key==="Enter"&&(console.log("Enter key pressed"),n.preventDefault(),e())},className:"input-field"})),TS=()=>{const[e,t]=ee.useState(""),[r,n]=ee.useState(""),[i,a]=ee.useState(""),[o,l]=ee.useState(""),[u,f]=ee.useState(""),[p,m]=ee.useState(""),[y,x]=ee.useState(""),[P,L]=ee.useState(""),[M,R]=ee.useState(null),_=Or(),[b,N]=ee.useState(""),[W,H]=ee.useState(""),[Y,ie]=ee.useState(""),[ae,ce]=ee.useState(""),[_e,ue]=ee.useState(""),[pe,le]=ee.useState(""),[ge,fe]=ee.useState(""),[we,oe]=ee.useState(""),ke=ee.useRef(),Te=ee.useRef(),je=ee.useRef(),qe=ee.useRef(),Ke=ze=>{const dt=ze.target.files[0];if(dt){const Rr=new FileReader;Rr.onloadend=()=>{R(Rr.result)},Rr.readAsDataURL(dt)}},Ue=ze=>/^[A-Za-z]{2,}$/.test(ze),He=ze=>/^[A-Za-z]{2,}$/.test(ze),nt=ze=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ze),gt=ze=>ze.length>=8&&/[A-Za-z]/.test(ze)&&/\d/.test(ze),In=async ze=>{ze.preventDefault();const dt=`${u}-${o.padStart(2,"0")}-${i.padStart(2,"0")}`;if(!Ue(e)||!He(r)||!i||!o||!u||!nt(p)||!gt(y)||y!==P){N(Ue(e)?"":"First name should be at least two letters long."),H(He(r)?"":"Last name should be at least two letters long."),ie(!i||!o||!u?"Please complete the date of birth.":""),ce(nt(p)?"":"Please enter a valid email address."),ue(gt(y)?"":"Password must be at least 8 characters long and contain both letters and numbers."),le(y!==P?"Passwords do not match.":"");return}const Rr={firstName:e,lastName:r,dob:dt,email:p,password:y,photo:M};try{const ln=await GL(Rr);ln&&ln.message==="Child data saved successfully"&&ln.user?(localStorage.setItem("childData",JSON.stringify(ln.user)),fe("Sign-up successful! Welcome to AutismSense."),_("/home")):oe("Sign-up completed, but could not retrieve user data.")}catch(ln){oe(ln.message||"An error occurred during sign-up. Please try again.")}},Si=new Date().getFullYear(),Hu=new Date().getMonth()+1;new Date().getDate();const Fe=(ze,dt)=>new Date(dt,ze,0).getDate();return T.jsxs("div",{className:"form-container",children:[T.jsx("h2",{children:"Add Child"}),T.jsxs("form",{onSubmit:In,children:[T.jsx("div",{className:"form-photo",children:T.jsxs("div",{className:"photo-ring",children:[T.jsx("img",{src:M||Vc,alt:"Profile",className:"photo-img"}),T.jsxs("label",{htmlFor:"photo-input",className:"photo-pencil",children:[T.jsx(bS,{})," Add Photo"]}),T.jsx("input",{type:"file",id:"photo-input",accept:"image/*",onChange:Ke,className:"photo-input"})]})}),T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{placeholder:"First Name",value:e,onChange:ze=>{t(ze.target.value),N(Ue(ze.target.value)?"":"First name should be at least two letters long.")},onEnter:()=>ke.current.focus(),required:!0}),b&&T.jsx("span",{className:"error-message",children:b})]}),T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{placeholder:"Last Name",ref:ke,value:r,onChange:ze=>{n(ze.target.value),H(He(ze.target.value)?"":"Last name should be at least two letters long.")},onEnter:()=>dobRef.current.focus(),required:!0}),W&&T.jsx("span",{className:"error-message",children:W})]}),T.jsxs("div",{className:"form-group dob-field-container",children:[T.jsx("label",{children:"Date of Birth:"}),T.jsxs("div",{style:{display:"flex",gap:"5px"},children:[T.jsxs("select",{"aria-label":"Day",value:i,onChange:ze=>a(ze.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Day"}),[...Array(Fe(o,u))].map((ze,dt)=>T.jsx("option",{value:dt+1,children:dt+1},dt+1))]}),T.jsxs("select",{"aria-label":"Month",value:o,onChange:ze=>l(ze.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Month"}),[...Array(12)].map((ze,dt)=>T.jsx("option",{value:dt+1,disabled:u==Si&&dt+1>Hu,children:dt+1},dt+1))]}),T.jsxs("select",{"aria-label":"Year",value:u,onChange:ze=>f(ze.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Year"}),[...Array(100)].map((ze,dt)=>{const Rr=Si-dt;return T.jsx("option",{value:Rr,children:Rr},Rr)})]})]}),Y&&T.jsx("span",{className:"error-message",children:Y})]}),T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{type:"email",placeholder:"Email",ref:Te,value:p,onChange:ze=>{m(ze.target.value),ce(nt(ze.target.value)?"":"Please enter a valid email address.")},onEnter:()=>je.current.focus(),required:!0}),ae&&T.jsx("span",{className:"error-message",children:ae})]}),T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{type:"password",placeholder:"Password",ref:je,value:y,onChange:ze=>{x(ze.target.value),ue(gt(ze.target.value)?"":"Password must be at least 8 characters long and contain both letters and numbers.")},onEnter:()=>qe.current.focus(),required:!0}),_e&&T.jsx("span",{className:"error-message",children:_e})]}),T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{type:"password",placeholder:"Confirm Password",ref:qe,value:P,onChange:ze=>{L(ze.target.value),le(ze.target.value!==y?"Passwords do not match.":"")},onEnter:()=>In({preventDefault:()=>{}}),required:!0}),pe&&T.jsx("span",{className:"error-message",children:pe})]}),ge&&T.jsx("div",{role:"alert",style:{color:"green"},children:ge}),we&&T.jsx("div",{className:"error-message",children:we}),T.jsx("div",{className:"form-buttons",style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:T.jsx("button",{type:"submit",className:"add-child-btn",children:"Sign up"})})]})]})},ES=({onCancel:e})=>{const[t,r]=ee.useState(""),[n,i]=ee.useState(""),[a,o]=ee.useState(""),[l,u]=ee.useState(!1),f=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),p=y=>{const x=y.target.value;r(x),f(x)?i(""):i("Please enter a valid email address.")},m=async y=>{if(y.preventDefault(),u(!0),!f(t)){i("Please enter a valid email address."),u(!1);return}try{(await QL(t)).message==="Password reset email sent"&&(alert("Check your email for a password reset link"),e())}catch(x){console.error("Error during reset password:",x),o("An error occurred while sending the reset email. Please try again.")}finally{u(!1)}};return T.jsxs("div",{className:"form-container",children:[T.jsx("h2",{children:"Forgot Password"}),T.jsx("p",{children:"If you forgot your password, enter your email and we will send you a reset link."}),T.jsxs("form",{onSubmit:m,children:[T.jsxs("div",{className:"form-group",children:[T.jsx("input",{type:"email",placeholder:"Enter your email",value:t,onChange:p,required:!0,className:"input-field"}),n&&T.jsx("span",{className:"error-message",children:n}),a&&T.jsx("span",{className:"server-error-message",children:a})]}),T.jsx("div",{className:"form-buttons",style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:T.jsx("button",{type:"submit",className:"reset-btn",disabled:l,children:l?"Sending...":"Send Reset Email"})})]})]})},PS=()=>{const[e,t]=ee.useState(""),[r,n]=ee.useState(""),[i,a]=ee.useState(""),[o,l]=ee.useState(""),[u,f]=ee.useState(""),[p,m]=ee.useState(!1),y=Or(),x=ee.useRef(null),P=ee.useRef(null),L=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),M=N=>N.length>=8&&/[A-Za-z]/.test(N)&&/\d/.test(N),R=N=>{const W=N.target.value;t(W),a(L(W)?"":"Please enter a valid email address.")},_=N=>{const W=N.target.value;n(W),l(M(W)?"":"Invalid password. Please try again.")},b=async N=>{if(N&&N.preventDefault(),!L(e)){a("Please enter a valid email address.");return}if(!M(r)){l("Invalid password. Please try again.");return}m(!0),f("");try{const W=await qL(e,r);W.message==="Login successful"&&W.user?(localStorage.setItem("childData",JSON.stringify(W.user)),y("/home")):f(W.message||"Invalid email or password")}catch{f("An error occurred during login. Please try again.")}finally{m(!1)}};return T.jsxs("div",{className:"form-container",children:[T.jsx("h2",{children:"Login"}),T.jsxs("form",{onSubmit:b,children:[T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{type:"email",placeholder:"Email",value:e,onChange:R,required:!0,ref:x,onEnter:()=>P.current.focus(),className:`input-field ${i?"error":""}`,"aria-describedby":"email-error"}),i&&T.jsx("span",{id:"email-error",className:"error-message","aria-live":"assertive",children:i})]}),T.jsxs("div",{className:"form-group",children:[T.jsx(Ii,{type:"password",placeholder:"Password",value:r,onChange:_,required:!0,ref:P,onEnter:b,className:`input-field ${o?"error":""}`,"aria-describedby":"password-error"}),o&&T.jsx("span",{id:"password-error",className:"error-message","aria-live":"assertive",children:o})]}),u&&T.jsx("span",{className:"error-message","aria-live":"assertive",children:u}),T.jsx("div",{className:"form-buttons",style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:T.jsx("button",{type:"submit",className:"add-child-btn",disabled:p,"aria-busy":p,children:p?"Logging in...":"Login"})})]})]})},aA=({onClose:e})=>{const[t,r]=ee.useState("login"),n=i=>{r(i)};return T.jsx("div",{className:"auth-modal",children:T.jsxs("div",{className:"auth-modal-content",children:[T.jsx("button",{className:"close-button",onClick:e,children:"X"}),t==="login"&&T.jsx(PS,{}),t==="sign-up"&&T.jsx(TS,{}),t==="forget-password"&&T.jsx(ES,{}),T.jsxs("p",{className:"toggle-text",children:[t==="login"&&T.jsxs(T.Fragment,{children:[T.jsx("br",{}),"Forgot password?"," ",T.jsx("span",{className:"toggle-link",onClick:()=>n("forget-password"),children:"Reset password"}),T.jsx("br",{}),"Don't have an account?"," ",T.jsx("span",{className:"toggle-link",onClick:()=>n("sign-up"),children:"Sign up"})]}),t==="sign-up"&&T.jsxs(T.Fragment,{children:["Already have an account?"," ",T.jsx("span",{className:"toggle-link",onClick:()=>n("login"),children:"Login"})]}),t==="forget-password"&&T.jsxs(T.Fragment,{children:["Remembered your password?"," ",T.jsx("span",{className:"toggle-link",onClick:()=>n("login"),children:"Login"})]})]})]})})};var _y={exports:{}};(function(e,t){typeof navigator<"u"&&function(r,n){e.exports=n()}(A,function(){var r="http://www.w3.org/2000/svg",n="",i=!1,a=-999999,o=function(c){i=!!c},l=function(){return i},u=function(c){n=c},f=function(){return n};function p(s){return document.createElement(s)}function m(s,c){var d,h=s.length,g;for(d=0;d<h;d+=1){g=s[d].prototype;for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(c.prototype[v]=g[v])}}function y(s){function c(){}return c.prototype=s,c}var x=function(){function s(c){this.audios=[],this.audioFactory=c,this._volume=1,this._isMuted=!1}return s.prototype={addAudio:function(d){this.audios.push(d)},pause:function(){var d,h=this.audios.length;for(d=0;d<h;d+=1)this.audios[d].pause()},resume:function(){var d,h=this.audios.length;for(d=0;d<h;d+=1)this.audios[d].resume()},setRate:function(d){var h,g=this.audios.length;for(h=0;h<g;h+=1)this.audios[h].setRate(d)},createAudio:function(d){return this.audioFactory?this.audioFactory(d):window.Howl?new window.Howl({src:[d]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(d){this.audioFactory=d},setVolume:function(d){this._volume=d,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var d,h=this.audios.length;for(d=0;d<h;d+=1)this.audios[d].volume(this._volume*(this._isMuted?0:1))}},function(){return new s}}(),P=function(){function s(d,h){var g=0,v=[],S;switch(d){case"int16":case"uint8c":S=1;break;default:S=1.1;break}for(g=0;g<h;g+=1)v.push(S);return v}function c(d,h){return d==="float32"?new Float32Array(h):d==="int16"?new Int16Array(h):d==="uint8c"?new Uint8ClampedArray(h):s(d,h)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?c:s}();function L(s){return Array.apply(null,{length:s})}var M=!0,R=null,_="",b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),N=Math.pow,W=Math.sqrt,H=Math.floor,Y=Math.min,ie=150,ae=Math.PI/180,ce=.5519;function _e(s,c,d,h){this.type=s,this.currentTime=c,this.totalTime=d,this.direction=h<0?-1:1}function ue(s,c){this.type=s,this.direction=c<0?-1:1}function pe(s,c,d,h){this.type=s,this.currentLoop=d,this.totalLoops=c,this.direction=h<0?-1:1}function le(s,c,d){this.type=s,this.firstFrame=c,this.totalFrames=d}function ge(s,c){this.type=s,this.target=c}function fe(s,c){this.type="renderFrameError",this.nativeError=s,this.currentTime=c}function we(s){this.type="configError",this.nativeError=s}var oe=function(){var s=0;return function(){return s+=1,_+"__lottie_element_"+s}}();function ke(s,c,d){var h,g,v,S,j,k,$,U;switch(S=Math.floor(s*6),j=s*6-S,k=d*(1-c),$=d*(1-j*c),U=d*(1-(1-j)*c),S%6){case 0:h=d,g=U,v=k;break;case 1:h=$,g=d,v=k;break;case 2:h=k,g=d,v=U;break;case 3:h=k,g=$,v=d;break;case 4:h=U,g=k,v=d;break;case 5:h=d,g=k,v=$;break}return[h,g,v]}function Te(s,c,d){var h=Math.max(s,c,d),g=Math.min(s,c,d),v=h-g,S,j=h===0?0:v/h,k=h/255;switch(h){case g:S=0;break;case s:S=c-d+v*(c<d?6:0),S/=6*v;break;case c:S=d-s+v*2,S/=6*v;break;case d:S=s-c+v*4,S/=6*v;break}return[S,j,k]}function je(s,c){var d=Te(s[0]*255,s[1]*255,s[2]*255);return d[1]+=c,d[1]>1?d[1]=1:d[1]<=0&&(d[1]=0),ke(d[0],d[1],d[2])}function qe(s,c){var d=Te(s[0]*255,s[1]*255,s[2]*255);return d[2]+=c,d[2]>1?d[2]=1:d[2]<0&&(d[2]=0),ke(d[0],d[1],d[2])}function Ke(s,c){var d=Te(s[0]*255,s[1]*255,s[2]*255);return d[0]+=c/360,d[0]>1?d[0]-=1:d[0]<0&&(d[0]+=1),ke(d[0],d[1],d[2])}(function(){var s=[],c,d;for(c=0;c<256;c+=1)d=c.toString(16),s[c]=d.length===1?"0"+d:d;return function(h,g,v){return h<0&&(h=0),g<0&&(g=0),v<0&&(v=0),"#"+s[h]+s[g]+s[v]}})();var Ue=function(c){M=!!c},He=function(){return M},nt=function(c){R=c},gt=function(){return R},In=function(c){ie=c},Si=function(){return ie},Hu=function(c){_=c};function Fe(s){return document.createElementNS(r,s)}function ze(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ze=function(d){return typeof d}:ze=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},ze(s)}var dt=function(){var s=1,c=[],d,h,g={onmessage:function(){},postMessage:function(z){d({data:z})}},v={postMessage:function(z){g.onmessage({data:z})}};function S(O){if(window.Worker&&window.Blob&&l()){var z=new Blob(["var _workerSelf = self; self.onmessage = ",O.toString()],{type:"text/javascript"}),Q=URL.createObjectURL(z);return new Worker(Q)}return d=O,g}function j(){h||(h=S(function(z){function Q(){function J(de,D){var G,w,E=de.length,re,X,be,De;for(w=0;w<E;w+=1)if(G=de[w],"ks"in G&&!G.completed){if(G.completed=!0,G.hasMask){var Ve=G.masksProperties;for(X=Ve.length,re=0;re<X;re+=1)if(Ve[re].pt.k.i)V(Ve[re].pt.k);else for(De=Ve[re].pt.k.length,be=0;be<De;be+=1)Ve[re].pt.k[be].s&&V(Ve[re].pt.k[be].s[0]),Ve[re].pt.k[be].e&&V(Ve[re].pt.k[be].e[0])}G.ty===0?(G.layers=C(G.refId,D),J(G.layers,D)):G.ty===4?I(G.shapes):G.ty===5&&Be(G)}}function B(de,D){if(de){var G=0,w=de.length;for(G=0;G<w;G+=1)de[G].t===1&&(de[G].data.layers=C(de[G].data.refId,D),J(de[G].data.layers,D))}}function F(de,D){for(var G=0,w=D.length;G<w;){if(D[G].id===de)return D[G];G+=1}return null}function C(de,D){var G=F(de,D);return G?G.layers.__used?JSON.parse(JSON.stringify(G.layers)):(G.layers.__used=!0,G.layers):null}function I(de){var D,G=de.length,w,E;for(D=G-1;D>=0;D-=1)if(de[D].ty==="sh")if(de[D].ks.k.i)V(de[D].ks.k);else for(E=de[D].ks.k.length,w=0;w<E;w+=1)de[D].ks.k[w].s&&V(de[D].ks.k[w].s[0]),de[D].ks.k[w].e&&V(de[D].ks.k[w].e[0]);else de[D].ty==="gr"&&I(de[D].it)}function V(de){var D,G=de.i.length;for(D=0;D<G;D+=1)de.i[D][0]+=de.v[D][0],de.i[D][1]+=de.v[D][1],de.o[D][0]+=de.v[D][0],de.o[D][1]+=de.v[D][1]}function K(de,D){var G=D?D.split("."):[100,100,100];return de[0]>G[0]?!0:G[0]>de[0]?!1:de[1]>G[1]?!0:G[1]>de[1]?!1:de[2]>G[2]?!0:G[2]>de[2]?!1:null}var Z=function(){var de=[4,4,14];function D(w){var E=w.t.d;w.t.d={k:[{s:E,t:0}]}}function G(w){var E,re=w.length;for(E=0;E<re;E+=1)w[E].ty===5&&D(w[E])}return function(w){if(K(de,w.v)&&(G(w.layers),w.assets)){var E,re=w.assets.length;for(E=0;E<re;E+=1)w.assets[E].layers&&G(w.assets[E].layers)}}}(),ne=function(){var de=[4,7,99];return function(D){if(D.chars&&!K(de,D.v)){var G,w=D.chars.length;for(G=0;G<w;G+=1){var E=D.chars[G];E.data&&E.data.shapes&&(I(E.data.shapes),E.data.ip=0,E.data.op=99999,E.data.st=0,E.data.sr=1,E.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},D.chars[G].t||(E.data.shapes.push({ty:"no"}),E.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),he=function(){var de=[5,7,15];function D(w){var E=w.t.p;typeof E.a=="number"&&(E.a={a:0,k:E.a}),typeof E.p=="number"&&(E.p={a:0,k:E.p}),typeof E.r=="number"&&(E.r={a:0,k:E.r})}function G(w){var E,re=w.length;for(E=0;E<re;E+=1)w[E].ty===5&&D(w[E])}return function(w){if(K(de,w.v)&&(G(w.layers),w.assets)){var E,re=w.assets.length;for(E=0;E<re;E+=1)w.assets[E].layers&&G(w.assets[E].layers)}}}(),$e=function(){var de=[4,1,9];function D(w){var E,re=w.length,X,be;for(E=0;E<re;E+=1)if(w[E].ty==="gr")D(w[E].it);else if(w[E].ty==="fl"||w[E].ty==="st")if(w[E].c.k&&w[E].c.k[0].i)for(be=w[E].c.k.length,X=0;X<be;X+=1)w[E].c.k[X].s&&(w[E].c.k[X].s[0]/=255,w[E].c.k[X].s[1]/=255,w[E].c.k[X].s[2]/=255,w[E].c.k[X].s[3]/=255),w[E].c.k[X].e&&(w[E].c.k[X].e[0]/=255,w[E].c.k[X].e[1]/=255,w[E].c.k[X].e[2]/=255,w[E].c.k[X].e[3]/=255);else w[E].c.k[0]/=255,w[E].c.k[1]/=255,w[E].c.k[2]/=255,w[E].c.k[3]/=255}function G(w){var E,re=w.length;for(E=0;E<re;E+=1)w[E].ty===4&&D(w[E].shapes)}return function(w){if(K(de,w.v)&&(G(w.layers),w.assets)){var E,re=w.assets.length;for(E=0;E<re;E+=1)w.assets[E].layers&&G(w.assets[E].layers)}}}(),Re=function(){var de=[4,4,18];function D(w){var E,re=w.length,X,be;for(E=re-1;E>=0;E-=1)if(w[E].ty==="sh")if(w[E].ks.k.i)w[E].ks.k.c=w[E].closed;else for(be=w[E].ks.k.length,X=0;X<be;X+=1)w[E].ks.k[X].s&&(w[E].ks.k[X].s[0].c=w[E].closed),w[E].ks.k[X].e&&(w[E].ks.k[X].e[0].c=w[E].closed);else w[E].ty==="gr"&&D(w[E].it)}function G(w){var E,re,X=w.length,be,De,Ve,Xe;for(re=0;re<X;re+=1){if(E=w[re],E.hasMask){var Je=E.masksProperties;for(De=Je.length,be=0;be<De;be+=1)if(Je[be].pt.k.i)Je[be].pt.k.c=Je[be].cl;else for(Xe=Je[be].pt.k.length,Ve=0;Ve<Xe;Ve+=1)Je[be].pt.k[Ve].s&&(Je[be].pt.k[Ve].s[0].c=Je[be].cl),Je[be].pt.k[Ve].e&&(Je[be].pt.k[Ve].e[0].c=Je[be].cl)}E.ty===4&&D(E.shapes)}}return function(w){if(K(de,w.v)&&(G(w.layers),w.assets)){var E,re=w.assets.length;for(E=0;E<re;E+=1)w.assets[E].layers&&G(w.assets[E].layers)}}}();function ye(de){de.__complete||($e(de),Z(de),ne(de),he(de),Re(de),J(de.layers,de.assets),B(de.chars,de.assets),de.__complete=!0)}function Be(de){de.t.a.length===0&&"m"in de.t.p}var xe={};return xe.completeData=ye,xe.checkColors=$e,xe.checkChars=ne,xe.checkPathProperties=he,xe.checkShapes=Re,xe.completeLayers=J,xe}if(v.dataManager||(v.dataManager=Q()),v.assetLoader||(v.assetLoader=function(){function J(F){var C=F.getResponseHeader("content-type");return C&&F.responseType==="json"&&C.indexOf("json")!==-1||F.response&&ze(F.response)==="object"?F.response:F.response&&typeof F.response=="string"?JSON.parse(F.response):F.responseText?JSON.parse(F.responseText):null}function B(F,C,I,V){var K,Z=new XMLHttpRequest;try{Z.responseType="json"}catch{}Z.onreadystatechange=function(){if(Z.readyState===4)if(Z.status===200)K=J(Z),I(K);else try{K=J(Z),I(K)}catch(ne){V&&V(ne)}};try{Z.open(["G","E","T"].join(""),F,!0)}catch{Z.open(["G","E","T"].join(""),C+"/"+F,!0)}Z.send()}return{load:B}}()),z.data.type==="loadAnimation")v.assetLoader.load(z.data.path,z.data.fullPath,function(J){v.dataManager.completeData(J),v.postMessage({id:z.data.id,payload:J,status:"success"})},function(){v.postMessage({id:z.data.id,status:"error"})});else if(z.data.type==="complete"){var q=z.data.animation;v.dataManager.completeData(q),v.postMessage({id:z.data.id,payload:q,status:"success"})}else z.data.type==="loadData"&&v.assetLoader.load(z.data.path,z.data.fullPath,function(J){v.postMessage({id:z.data.id,payload:J,status:"success"})},function(){v.postMessage({id:z.data.id,status:"error"})})}),h.onmessage=function(O){var z=O.data,Q=z.id,q=c[Q];c[Q]=null,z.status==="success"?q.onComplete(z.payload):q.onError&&q.onError()})}function k(O,z){s+=1;var Q="processId_"+s;return c[Q]={onComplete:O,onError:z},Q}function $(O,z,Q){j();var q=k(z,Q);h.postMessage({type:"loadAnimation",path:O,fullPath:window.location.origin+window.location.pathname,id:q})}function U(O,z,Q){j();var q=k(z,Q);h.postMessage({type:"loadData",path:O,fullPath:window.location.origin+window.location.pathname,id:q})}function te(O,z,Q){j();var q=k(z,Q);h.postMessage({type:"complete",animation:O,id:q})}return{loadAnimation:$,loadData:U,completeAnimation:te}}(),Rr=function(){var s=function(){var B=p("canvas");B.width=1,B.height=1;var F=B.getContext("2d");return F.fillStyle="rgba(0,0,0,0)",F.fillRect(0,0,1,1),B}();function c(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function d(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function h(B,F,C){var I="";if(B.e)I=B.p;else if(F){var V=B.p;V.indexOf("images/")!==-1&&(V=V.split("/")[1]),I=F+V}else I=C,I+=B.u?B.u:"",I+=B.p;return I}function g(B){var F=0,C=setInterval((function(){var I=B.getBBox();(I.width||F>500)&&(this._imageLoaded(),clearInterval(C)),F+=1}).bind(this),50)}function v(B){var F=h(B,this.assetsPath,this.path),C=Fe("image");b?this.testImageLoaded(C):C.addEventListener("load",this._imageLoaded,!1),C.addEventListener("error",(function(){I.img=s,this._imageLoaded()}).bind(this),!1),C.setAttributeNS("http://www.w3.org/1999/xlink","href",F),this._elementHelper.append?this._elementHelper.append(C):this._elementHelper.appendChild(C);var I={img:C,assetData:B};return I}function S(B){var F=h(B,this.assetsPath,this.path),C=p("img");C.crossOrigin="anonymous",C.addEventListener("load",this._imageLoaded,!1),C.addEventListener("error",(function(){I.img=s,this._imageLoaded()}).bind(this),!1),C.src=F;var I={img:C,assetData:B};return I}function j(B){var F={assetData:B},C=h(B,this.assetsPath,this.path);return dt.loadData(C,(function(I){F.img=I,this._footageLoaded()}).bind(this),(function(){F.img={},this._footageLoaded()}).bind(this)),F}function k(B,F){this.imagesLoadedCb=F;var C,I=B.length;for(C=0;C<I;C+=1)B[C].layers||(!B[C].t||B[C].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(B[C]))):B[C].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(B[C]))))}function $(B){this.path=B||""}function U(B){this.assetsPath=B||""}function te(B){for(var F=0,C=this.images.length;F<C;){if(this.images[F].assetData===B)return this.images[F].img;F+=1}return null}function O(){this.imagesLoadedCb=null,this.images.length=0}function z(){return this.totalImages===this.loadedAssets}function Q(){return this.totalFootages===this.loadedFootagesCount}function q(B,F){B==="svg"?(this._elementHelper=F,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function J(){this._imageLoaded=c.bind(this),this._footageLoaded=d.bind(this),this.testImageLoaded=g.bind(this),this.createFootageData=j.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return J.prototype={loadAssets:k,setAssetsPath:U,setPath:$,loadedImages:z,loadedFootages:Q,destroy:O,getAsset:te,createImgData:S,createImageData:v,imageLoaded:c,footageLoaded:d,setCacheType:q},J}();function ln(){}ln.prototype={triggerEvent:function(c,d){if(this._cbs[c])for(var h=this._cbs[c],g=0;g<h.length;g+=1)h[g](d)},addEventListener:function(c,d){return this._cbs[c]||(this._cbs[c]=[]),this._cbs[c].push(d),(function(){this.removeEventListener(c,d)}).bind(this)},removeEventListener:function(c,d){if(!d)this._cbs[c]=null;else if(this._cbs[c]){for(var h=0,g=this._cbs[c].length;h<g;)this._cbs[c][h]===d&&(this._cbs[c].splice(h,1),h-=1,g-=1),h+=1;this._cbs[c].length||(this._cbs[c]=null)}}};var rP=function(){function s(c){for(var d=c.split(`\r
`),h={},g,v=0,S=0;S<d.length;S+=1)g=d[S].split(":"),g.length===2&&(h[g[0]]=g[1].trim(),v+=1);if(v===0)throw new Error;return h}return function(c){for(var d=[],h=0;h<c.length;h+=1){var g=c[h],v={time:g.tm,duration:g.dr};try{v.payload=JSON.parse(c[h].cm)}catch{try{v.payload=s(c[h].cm)}catch{v.payload={name:c[h].cm}}}d.push(v)}return d}}(),nP=function(){function s(c){this.compositions.push(c)}return function(){function c(d){for(var h=0,g=this.compositions.length;h<g;){if(this.compositions[h].data&&this.compositions[h].data.nm===d)return this.compositions[h].prepareFrame&&this.compositions[h].data.xt&&this.compositions[h].prepareFrame(this.currentFrame),this.compositions[h].compInterface;h+=1}return null}return c.compositions=[],c.currentFrame=0,c.registerComposition=s,c}}(),vo={},iP=function(c,d){vo[c]=d};function aP(s){return vo[s]}function oP(){if(vo.canvas)return"canvas";for(var s in vo)if(vo[s])return s;return""}function mo(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mo=function(d){return typeof d}:mo=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},mo(s)}var Ne=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=oe(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=He(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=nP(),this.imagePreloader=new Rr,this.audioController=x(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new _e("drawnFrame",0,0,0),this.expressionsPlugin=gt()};m([ln],Ne),Ne.prototype.setParams=function(s){(s.wrapper||s.container)&&(this.wrapper=s.wrapper||s.container);var c="svg";s.animType?c=s.animType:s.renderer&&(c=s.renderer);var d=aP(c);this.renderer=new d(this,s.rendererSettings),this.imagePreloader.setCacheType(c,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=c,s.loop===""||s.loop===null||s.loop===void 0||s.loop===!0?this.loop=!0:s.loop===!1?this.loop=!1:this.loop=parseInt(s.loop,10),this.autoplay="autoplay"in s?s.autoplay:!0,this.name=s.name?s.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(s,"autoloadSegments")?s.autoloadSegments:!0,this.assetsPath=s.assetsPath,this.initialSegment=s.initialSegment,s.audioFactory&&this.audioController.setAudioFactory(s.audioFactory),s.animationData?this.setupAnimation(s.animationData):s.path&&(s.path.lastIndexOf("\\")!==-1?this.path=s.path.substr(0,s.path.lastIndexOf("\\")+1):this.path=s.path.substr(0,s.path.lastIndexOf("/")+1),this.fileName=s.path.substr(s.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dt.loadAnimation(s.path,this.configAnimation,this.onSetupError))},Ne.prototype.onSetupError=function(){this.trigger("data_failed")},Ne.prototype.setupAnimation=function(s){dt.completeAnimation(s,this.configAnimation)},Ne.prototype.setData=function(s,c){c&&mo(c)!=="object"&&(c=JSON.parse(c));var d={wrapper:s,animationData:c},h=s.attributes;d.path=h.getNamedItem("data-animation-path")?h.getNamedItem("data-animation-path").value:h.getNamedItem("data-bm-path")?h.getNamedItem("data-bm-path").value:h.getNamedItem("bm-path")?h.getNamedItem("bm-path").value:"",d.animType=h.getNamedItem("data-anim-type")?h.getNamedItem("data-anim-type").value:h.getNamedItem("data-bm-type")?h.getNamedItem("data-bm-type").value:h.getNamedItem("bm-type")?h.getNamedItem("bm-type").value:h.getNamedItem("data-bm-renderer")?h.getNamedItem("data-bm-renderer").value:h.getNamedItem("bm-renderer")?h.getNamedItem("bm-renderer").value:oP()||"canvas";var g=h.getNamedItem("data-anim-loop")?h.getNamedItem("data-anim-loop").value:h.getNamedItem("data-bm-loop")?h.getNamedItem("data-bm-loop").value:h.getNamedItem("bm-loop")?h.getNamedItem("bm-loop").value:"";g==="false"?d.loop=!1:g==="true"?d.loop=!0:g!==""&&(d.loop=parseInt(g,10));var v=h.getNamedItem("data-anim-autoplay")?h.getNamedItem("data-anim-autoplay").value:h.getNamedItem("data-bm-autoplay")?h.getNamedItem("data-bm-autoplay").value:h.getNamedItem("bm-autoplay")?h.getNamedItem("bm-autoplay").value:!0;d.autoplay=v!=="false",d.name=h.getNamedItem("data-name")?h.getNamedItem("data-name").value:h.getNamedItem("data-bm-name")?h.getNamedItem("data-bm-name").value:h.getNamedItem("bm-name")?h.getNamedItem("bm-name").value:"";var S=h.getNamedItem("data-anim-prerender")?h.getNamedItem("data-anim-prerender").value:h.getNamedItem("data-bm-prerender")?h.getNamedItem("data-bm-prerender").value:h.getNamedItem("bm-prerender")?h.getNamedItem("bm-prerender").value:"";S==="false"&&(d.prerender=!1),d.path?this.setParams(d):this.trigger("destroy")},Ne.prototype.includeLayers=function(s){s.op>this.animationData.op&&(this.animationData.op=s.op,this.totalFrames=Math.floor(s.op-this.animationData.ip));var c=this.animationData.layers,d,h=c.length,g=s.layers,v,S=g.length;for(v=0;v<S;v+=1)for(d=0;d<h;){if(c[d].id===g[v].id){c[d]=g[v];break}d+=1}if((s.chars||s.fonts)&&(this.renderer.globalData.fontManager.addChars(s.chars),this.renderer.globalData.fontManager.addFonts(s.fonts,this.renderer.globalData.defs)),s.assets)for(h=s.assets.length,d=0;d<h;d+=1)this.animationData.assets.push(s.assets[d]);this.animationData.__complete=!1,dt.completeAnimation(this.animationData,this.onSegmentComplete)},Ne.prototype.onSegmentComplete=function(s){this.animationData=s;var c=gt();c&&c.initExpressions(this),this.loadNextSegment()},Ne.prototype.loadNextSegment=function(){var s=this.animationData.segments;if(!s||s.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var c=s.shift();this.timeCompleted=c.time*this.frameRate;var d=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dt.loadData(d,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},Ne.prototype.loadSegments=function(){var s=this.animationData.segments;s||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},Ne.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},Ne.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},Ne.prototype.configAnimation=function(s){if(this.renderer)try{this.animationData=s,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(s),s.assets||(s.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(s.assets),this.markers=rP(s.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(c){this.triggerConfigError(c)}},Ne.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},Ne.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var s=gt();s&&s.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},Ne.prototype.resize=function(s,c){var d=typeof s=="number"?s:void 0,h=typeof c=="number"?c:void 0;this.renderer.updateContainerSize(d,h)},Ne.prototype.setSubframe=function(s){this.isSubframeEnabled=!!s},Ne.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},Ne.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(s){this.triggerRenderFrameError(s)}},Ne.prototype.play=function(s){s&&this.name!==s||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},Ne.prototype.pause=function(s){s&&this.name!==s||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},Ne.prototype.togglePause=function(s){s&&this.name!==s||(this.isPaused===!0?this.play():this.pause())},Ne.prototype.stop=function(s){s&&this.name!==s||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},Ne.prototype.getMarkerData=function(s){for(var c,d=0;d<this.markers.length;d+=1)if(c=this.markers[d],c.payload&&c.payload.name===s)return c;return null},Ne.prototype.goToAndStop=function(s,c,d){if(!(d&&this.name!==d)){var h=Number(s);if(isNaN(h)){var g=this.getMarkerData(s);g&&this.goToAndStop(g.time,!0)}else c?this.setCurrentRawFrameValue(s):this.setCurrentRawFrameValue(s*this.frameModifier);this.pause()}},Ne.prototype.goToAndPlay=function(s,c,d){if(!(d&&this.name!==d)){var h=Number(s);if(isNaN(h)){var g=this.getMarkerData(s);g&&(g.duration?this.playSegments([g.time,g.time+g.duration],!0):this.goToAndStop(g.time,!0))}else this.goToAndStop(h,c,d);this.play()}},Ne.prototype.advanceTime=function(s){if(!(this.isPaused===!0||this.isLoaded===!1)){var c=this.currentRawFrame+s*this.frameModifier,d=!1;c>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(c>this.totalFrames?c%this.totalFrames:0)||(d=!0,c=this.totalFrames-1):c>=this.totalFrames?(this.playCount+=1,this.checkSegments(c%this.totalFrames)||(this.setCurrentRawFrameValue(c%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(c):c<0?this.checkSegments(c%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+c%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(d=!0,c=0)):this.setCurrentRawFrameValue(c),d&&(this.setCurrentRawFrameValue(c),this.pause(),this.trigger("complete"))}},Ne.prototype.adjustSegment=function(s,c){this.playCount=0,s[1]<s[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=s[0]-s[1],this.timeCompleted=this.totalFrames,this.firstFrame=s[1],this.setCurrentRawFrameValue(this.totalFrames-.001-c)):s[1]>s[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=s[1]-s[0],this.timeCompleted=this.totalFrames,this.firstFrame=s[0],this.setCurrentRawFrameValue(.001+c)),this.trigger("segmentStart")},Ne.prototype.setSegment=function(s,c){var d=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<s?d=s:this.currentRawFrame+this.firstFrame>c&&(d=c-s)),this.firstFrame=s,this.totalFrames=c-s,this.timeCompleted=this.totalFrames,d!==-1&&this.goToAndStop(d,!0)},Ne.prototype.playSegments=function(s,c){if(c&&(this.segments.length=0),mo(s[0])==="object"){var d,h=s.length;for(d=0;d<h;d+=1)this.segments.push(s[d])}else this.segments.push(s);this.segments.length&&c&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},Ne.prototype.resetSegments=function(s){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),s&&this.checkSegments(0)},Ne.prototype.checkSegments=function(s){return this.segments.length?(this.adjustSegment(this.segments.shift(),s),!0):!1},Ne.prototype.destroy=function(s){s&&this.name!==s||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},Ne.prototype.setCurrentRawFrameValue=function(s){this.currentRawFrame=s,this.gotoFrame()},Ne.prototype.setSpeed=function(s){this.playSpeed=s,this.updaFrameModifier()},Ne.prototype.setDirection=function(s){this.playDirection=s<0?-1:1,this.updaFrameModifier()},Ne.prototype.setLoop=function(s){this.loop=s},Ne.prototype.setVolume=function(s,c){c&&this.name!==c||this.audioController.setVolume(s)},Ne.prototype.getVolume=function(){return this.audioController.getVolume()},Ne.prototype.mute=function(s){s&&this.name!==s||this.audioController.mute()},Ne.prototype.unmute=function(s){s&&this.name!==s||this.audioController.unmute()},Ne.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},Ne.prototype.getPath=function(){return this.path},Ne.prototype.getAssetsPath=function(s){var c="";if(s.e)c=s.p;else if(this.assetsPath){var d=s.p;d.indexOf("images/")!==-1&&(d=d.split("/")[1]),c=this.assetsPath+d}else c=this.path,c+=s.u?s.u:"",c+=s.p;return c},Ne.prototype.getAssetData=function(s){for(var c=0,d=this.assets.length;c<d;){if(s===this.assets[c].id)return this.assets[c];c+=1}return null},Ne.prototype.hide=function(){this.renderer.hide()},Ne.prototype.show=function(){this.renderer.show()},Ne.prototype.getDuration=function(s){return s?this.totalFrames:this.totalFrames/this.frameRate},Ne.prototype.updateDocumentData=function(s,c,d){try{var h=this.renderer.getElementByPath(s);h.updateDocumentData(c,d)}catch{}},Ne.prototype.trigger=function(s){if(this._cbs&&this._cbs[s])switch(s){case"enterFrame":this.triggerEvent(s,new _e(s,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(s,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(s,new pe(s,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(s,new ue(s,this.frameMult));break;case"segmentStart":this.triggerEvent(s,new le(s,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(s,new ge(s,this));break;default:this.triggerEvent(s)}s==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new _e(s,this.currentFrame,this.totalFrames,this.frameMult)),s==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new pe(s,this.loop,this.playCount,this.frameMult)),s==="complete"&&this.onComplete&&this.onComplete.call(this,new ue(s,this.frameMult)),s==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new le(s,this.firstFrame,this.totalFrames)),s==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new ge(s,this))},Ne.prototype.triggerRenderFrameError=function(s){var c=new fe(s,this.currentFrame);this.triggerEvent("error",c),this.onError&&this.onError.call(this,c)},Ne.prototype.triggerConfigError=function(s){var c=new we(s,this.currentFrame);this.triggerEvent("error",c),this.onError&&this.onError.call(this,c)};var Pt=function(){var s={},c=[],d=0,h=0,g=0,v=!0,S=!1;function j(D){for(var G=0,w=D.target;G<h;)c[G].animation===w&&(c.splice(G,1),G-=1,h-=1,w.isPaused||te()),G+=1}function k(D,G){if(!D)return null;for(var w=0;w<h;){if(c[w].elem===D&&c[w].elem!==null)return c[w].animation;w+=1}var E=new Ne;return O(E,D),E.setData(D,G),E}function $(){var D,G=c.length,w=[];for(D=0;D<G;D+=1)w.push(c[D].animation);return w}function U(){g+=1,$e()}function te(){g-=1}function O(D,G){D.addEventListener("destroy",j),D.addEventListener("_active",U),D.addEventListener("_idle",te),c.push({elem:G,animation:D}),h+=1}function z(D){var G=new Ne;return O(G,null),G.setParams(D),G}function Q(D,G){var w;for(w=0;w<h;w+=1)c[w].animation.setSpeed(D,G)}function q(D,G){var w;for(w=0;w<h;w+=1)c[w].animation.setDirection(D,G)}function J(D){var G;for(G=0;G<h;G+=1)c[G].animation.play(D)}function B(D){var G=D-d,w;for(w=0;w<h;w+=1)c[w].animation.advanceTime(G);d=D,g&&!S?window.requestAnimationFrame(B):v=!0}function F(D){d=D,window.requestAnimationFrame(B)}function C(D){var G;for(G=0;G<h;G+=1)c[G].animation.pause(D)}function I(D,G,w){var E;for(E=0;E<h;E+=1)c[E].animation.goToAndStop(D,G,w)}function V(D){var G;for(G=0;G<h;G+=1)c[G].animation.stop(D)}function K(D){var G;for(G=0;G<h;G+=1)c[G].animation.togglePause(D)}function Z(D){var G;for(G=h-1;G>=0;G-=1)c[G].animation.destroy(D)}function ne(D,G,w){var E=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),re,X=E.length;for(re=0;re<X;re+=1)w&&E[re].setAttribute("data-bm-type",w),k(E[re],D);if(G&&X===0){w||(w="svg");var be=document.getElementsByTagName("body")[0];be.innerText="";var De=p("div");De.style.width="100%",De.style.height="100%",De.setAttribute("data-bm-type",w),be.appendChild(De),k(De,D)}}function he(){var D;for(D=0;D<h;D+=1)c[D].animation.resize()}function $e(){!S&&g&&v&&(window.requestAnimationFrame(F),v=!1)}function Re(){S=!0}function ye(){S=!1,$e()}function Be(D,G){var w;for(w=0;w<h;w+=1)c[w].animation.setVolume(D,G)}function xe(D){var G;for(G=0;G<h;G+=1)c[G].animation.mute(D)}function de(D){var G;for(G=0;G<h;G+=1)c[G].animation.unmute(D)}return s.registerAnimation=k,s.loadAnimation=z,s.setSpeed=Q,s.setDirection=q,s.play=J,s.pause=C,s.stop=V,s.togglePause=K,s.searchAnimations=ne,s.resize=he,s.goToAndStop=I,s.destroy=Z,s.freeze=Re,s.unfreeze=ye,s.setVolume=Be,s.mute=xe,s.unmute=de,s.getRegisteredAnimations=$,s}(),go=function(){var s={};s.getBezierEasing=d;var c={};function d(F,C,I,V,K){var Z=K||("bez_"+F+"_"+C+"_"+I+"_"+V).replace(/\./g,"p");if(c[Z])return c[Z];var ne=new B([F,C,I,V]);return c[Z]=ne,ne}var h=4,g=.001,v=1e-7,S=10,j=11,k=1/(j-1),$=typeof Float32Array=="function";function U(F,C){return 1-3*C+3*F}function te(F,C){return 3*C-6*F}function O(F){return 3*F}function z(F,C,I){return((U(C,I)*F+te(C,I))*F+O(C))*F}function Q(F,C,I){return 3*U(C,I)*F*F+2*te(C,I)*F+O(C)}function q(F,C,I,V,K){var Z,ne,he=0;do ne=C+(I-C)/2,Z=z(ne,V,K)-F,Z>0?I=ne:C=ne;while(Math.abs(Z)>v&&++he<S);return ne}function J(F,C,I,V){for(var K=0;K<h;++K){var Z=Q(C,I,V);if(Z===0)return C;var ne=z(C,I,V)-F;C-=ne/Z}return C}function B(F){this._p=F,this._mSampleValues=$?new Float32Array(j):new Array(j),this._precomputed=!1,this.get=this.get.bind(this)}return B.prototype={get:function(C){var I=this._p[0],V=this._p[1],K=this._p[2],Z=this._p[3];return this._precomputed||this._precompute(),I===V&&K===Z?C:C===0?0:C===1?1:z(this._getTForX(C),V,Z)},_precompute:function(){var C=this._p[0],I=this._p[1],V=this._p[2],K=this._p[3];this._precomputed=!0,(C!==I||V!==K)&&this._calcSampleValues()},_calcSampleValues:function(){for(var C=this._p[0],I=this._p[2],V=0;V<j;++V)this._mSampleValues[V]=z(V*k,C,I)},_getTForX:function(C){for(var I=this._p[0],V=this._p[2],K=this._mSampleValues,Z=0,ne=1,he=j-1;ne!==he&&K[ne]<=C;++ne)Z+=k;--ne;var $e=(C-K[ne])/(K[ne+1]-K[ne]),Re=Z+$e*k,ye=Q(Re,I,V);return ye>=g?J(C,Re,I,V):ye===0?Re:q(C,Z,Z+k,I,V)}},s}(),tm=function(){function s(c){return c.concat(L(c.length))}return{double:s}}(),el=function(){return function(s,c,d){var h=0,g=s,v=L(g),S={newElement:j,release:k};function j(){var $;return h?(h-=1,$=v[h]):$=c(),$}function k($){h===g&&(v=tm.double(v),g*=2),d&&d($),v[h]=$,h+=1}return S}}(),rm=function(){function s(){return{addedLength:0,percents:P("float32",Si()),lengths:P("float32",Si())}}return el(8,s)}(),nm=function(){function s(){return{lengths:[],totalLength:0}}function c(d){var h,g=d.lengths.length;for(h=0;h<g;h+=1)rm.release(d.lengths[h]);d.lengths.length=0}return el(8,s,c)}();function sP(){var s=Math;function c(O,z,Q,q,J,B){var F=O*q+z*J+Q*B-J*q-B*O-Q*z;return F>-.001&&F<.001}function d(O,z,Q,q,J,B,F,C,I){if(Q===0&&B===0&&I===0)return c(O,z,q,J,F,C);var V=s.sqrt(s.pow(q-O,2)+s.pow(J-z,2)+s.pow(B-Q,2)),K=s.sqrt(s.pow(F-O,2)+s.pow(C-z,2)+s.pow(I-Q,2)),Z=s.sqrt(s.pow(F-q,2)+s.pow(C-J,2)+s.pow(I-B,2)),ne;return V>K?V>Z?ne=V-K-Z:ne=Z-K-V:Z>K?ne=Z-K-V:ne=K-V-Z,ne>-1e-4&&ne<1e-4}var h=function(){return function(O,z,Q,q){var J=Si(),B,F,C,I,V,K=0,Z,ne=[],he=[],$e=rm.newElement();for(C=Q.length,B=0;B<J;B+=1){for(V=B/(J-1),Z=0,F=0;F<C;F+=1)I=N(1-V,3)*O[F]+3*N(1-V,2)*V*Q[F]+3*(1-V)*N(V,2)*q[F]+N(V,3)*z[F],ne[F]=I,he[F]!==null&&(Z+=N(ne[F]-he[F],2)),he[F]=ne[F];Z&&(Z=W(Z),K+=Z),$e.percents[B]=V,$e.lengths[B]=K}return $e.addedLength=K,$e}}();function g(O){var z=nm.newElement(),Q=O.c,q=O.v,J=O.o,B=O.i,F,C=O._length,I=z.lengths,V=0;for(F=0;F<C-1;F+=1)I[F]=h(q[F],q[F+1],J[F],B[F+1]),V+=I[F].addedLength;return Q&&C&&(I[F]=h(q[F],q[0],J[F],B[0]),V+=I[F].addedLength),z.totalLength=V,z}function v(O){this.segmentLength=0,this.points=new Array(O)}function S(O,z){this.partialLength=O,this.point=z}var j=function(){var O={};return function(z,Q,q,J){var B=(z[0]+"_"+z[1]+"_"+Q[0]+"_"+Q[1]+"_"+q[0]+"_"+q[1]+"_"+J[0]+"_"+J[1]).replace(/\./g,"p");if(!O[B]){var F=Si(),C,I,V,K,Z,ne=0,he,$e,Re=null;z.length===2&&(z[0]!==Q[0]||z[1]!==Q[1])&&c(z[0],z[1],Q[0],Q[1],z[0]+q[0],z[1]+q[1])&&c(z[0],z[1],Q[0],Q[1],Q[0]+J[0],Q[1]+J[1])&&(F=2);var ye=new v(F);for(V=q.length,C=0;C<F;C+=1){for($e=L(V),Z=C/(F-1),he=0,I=0;I<V;I+=1)K=N(1-Z,3)*z[I]+3*N(1-Z,2)*Z*(z[I]+q[I])+3*(1-Z)*N(Z,2)*(Q[I]+J[I])+N(Z,3)*Q[I],$e[I]=K,Re!==null&&(he+=N($e[I]-Re[I],2));he=W(he),ne+=he,ye.points[C]=new S(he,$e),Re=$e}ye.segmentLength=ne,O[B]=ye}return O[B]}}();function k(O,z){var Q=z.percents,q=z.lengths,J=Q.length,B=H((J-1)*O),F=O*z.addedLength,C=0;if(B===J-1||B===0||F===q[B])return Q[B];for(var I=q[B]>F?-1:1,V=!0;V;)if(q[B]<=F&&q[B+1]>F?(C=(F-q[B])/(q[B+1]-q[B]),V=!1):B+=I,B<0||B>=J-1){if(B===J-1)return Q[B];V=!1}return Q[B]+(Q[B+1]-Q[B])*C}function $(O,z,Q,q,J,B){var F=k(J,B),C=1-F,I=s.round((C*C*C*O[0]+(F*C*C+C*F*C+C*C*F)*Q[0]+(F*F*C+C*F*F+F*C*F)*q[0]+F*F*F*z[0])*1e3)/1e3,V=s.round((C*C*C*O[1]+(F*C*C+C*F*C+C*C*F)*Q[1]+(F*F*C+C*F*F+F*C*F)*q[1]+F*F*F*z[1])*1e3)/1e3;return[I,V]}var U=P("float32",8);function te(O,z,Q,q,J,B,F){J<0?J=0:J>1&&(J=1);var C=k(J,F);B=B>1?1:B;var I=k(B,F),V,K=O.length,Z=1-C,ne=1-I,he=Z*Z*Z,$e=C*Z*Z*3,Re=C*C*Z*3,ye=C*C*C,Be=Z*Z*ne,xe=C*Z*ne+Z*C*ne+Z*Z*I,de=C*C*ne+Z*C*I+C*Z*I,D=C*C*I,G=Z*ne*ne,w=C*ne*ne+Z*I*ne+Z*ne*I,E=C*I*ne+Z*I*I+C*ne*I,re=C*I*I,X=ne*ne*ne,be=I*ne*ne+ne*I*ne+ne*ne*I,De=I*I*ne+ne*I*I+I*ne*I,Ve=I*I*I;for(V=0;V<K;V+=1)U[V*4]=s.round((he*O[V]+$e*Q[V]+Re*q[V]+ye*z[V])*1e3)/1e3,U[V*4+1]=s.round((Be*O[V]+xe*Q[V]+de*q[V]+D*z[V])*1e3)/1e3,U[V*4+2]=s.round((G*O[V]+w*Q[V]+E*q[V]+re*z[V])*1e3)/1e3,U[V*4+3]=s.round((X*O[V]+be*Q[V]+De*q[V]+Ve*z[V])*1e3)/1e3;return U}return{getSegmentsLength:g,getNewSegment:te,getPointInSegment:$,buildBezierData:j,pointOnLine2D:c,pointOnLine3D:d}}var Hr=sP(),ki=a,im=Math.abs;function am(s,c){var d=this.offsetTime,h;this.propType==="multidimensional"&&(h=P("float32",this.pv.length));for(var g=c.lastIndex,v=g,S=this.keyframes.length-1,j=!0,k,$,U;j;){if(k=this.keyframes[v],$=this.keyframes[v+1],v===S-1&&s>=$.t-d){k.h&&(k=$),g=0;break}if($.t-d>s){g=v;break}v<S-1?v+=1:(g=0,j=!1)}U=this.keyframesMetadata[v]||{};var te,O,z,Q,q,J,B=$.t-d,F=k.t-d,C;if(k.to){U.bezierData||(U.bezierData=Hr.buildBezierData(k.s,$.s||k.e,k.to,k.ti));var I=U.bezierData;if(s>=B||s<F){var V=s>=B?I.points.length-1:0;for(O=I.points[V].point.length,te=0;te<O;te+=1)h[te]=I.points[V].point[te]}else{U.__fnct?J=U.__fnct:(J=go.getBezierEasing(k.o.x,k.o.y,k.i.x,k.i.y,k.n).get,U.__fnct=J),z=J((s-F)/(B-F));var K=I.segmentLength*z,Z,ne=c.lastFrame<s&&c._lastKeyframeIndex===v?c._lastAddedLength:0;for(q=c.lastFrame<s&&c._lastKeyframeIndex===v?c._lastPoint:0,j=!0,Q=I.points.length;j;){if(ne+=I.points[q].partialLength,K===0||z===0||q===I.points.length-1){for(O=I.points[q].point.length,te=0;te<O;te+=1)h[te]=I.points[q].point[te];break}else if(K>=ne&&K<ne+I.points[q+1].partialLength){for(Z=(K-ne)/I.points[q+1].partialLength,O=I.points[q].point.length,te=0;te<O;te+=1)h[te]=I.points[q].point[te]+(I.points[q+1].point[te]-I.points[q].point[te])*Z;break}q<Q-1?q+=1:j=!1}c._lastPoint=q,c._lastAddedLength=ne-I.points[q].partialLength,c._lastKeyframeIndex=v}}else{var he,$e,Re,ye,Be;if(S=k.s.length,C=$.s||k.e,this.sh&&k.h!==1)if(s>=B)h[0]=C[0],h[1]=C[1],h[2]=C[2];else if(s<=F)h[0]=k.s[0],h[1]=k.s[1],h[2]=k.s[2];else{var xe=om(k.s),de=om(C),D=(s-F)/(B-F);cP(h,lP(xe,de,D))}else for(v=0;v<S;v+=1)k.h!==1&&(s>=B?z=1:s<F?z=0:(k.o.x.constructor===Array?(U.__fnct||(U.__fnct=[]),U.__fnct[v]?J=U.__fnct[v]:(he=k.o.x[v]===void 0?k.o.x[0]:k.o.x[v],$e=k.o.y[v]===void 0?k.o.y[0]:k.o.y[v],Re=k.i.x[v]===void 0?k.i.x[0]:k.i.x[v],ye=k.i.y[v]===void 0?k.i.y[0]:k.i.y[v],J=go.getBezierEasing(he,$e,Re,ye).get,U.__fnct[v]=J)):U.__fnct?J=U.__fnct:(he=k.o.x,$e=k.o.y,Re=k.i.x,ye=k.i.y,J=go.getBezierEasing(he,$e,Re,ye).get,k.keyframeMetadata=J),z=J((s-F)/(B-F)))),C=$.s||k.e,Be=k.h===1?k.s[v]:k.s[v]+(C[v]-k.s[v])*z,this.propType==="multidimensional"?h[v]=Be:h=Be}return c.lastIndex=g,h}function lP(s,c,d){var h=[],g=s[0],v=s[1],S=s[2],j=s[3],k=c[0],$=c[1],U=c[2],te=c[3],O,z,Q,q,J;return z=g*k+v*$+S*U+j*te,z<0&&(z=-z,k=-k,$=-$,U=-U,te=-te),1-z>1e-6?(O=Math.acos(z),Q=Math.sin(O),q=Math.sin((1-d)*O)/Q,J=Math.sin(d*O)/Q):(q=1-d,J=d),h[0]=q*g+J*k,h[1]=q*v+J*$,h[2]=q*S+J*U,h[3]=q*j+J*te,h}function cP(s,c){var d=c[0],h=c[1],g=c[2],v=c[3],S=Math.atan2(2*h*v-2*d*g,1-2*h*h-2*g*g),j=Math.asin(2*d*h+2*g*v),k=Math.atan2(2*d*v-2*h*g,1-2*d*d-2*g*g);s[0]=S/ae,s[1]=j/ae,s[2]=k/ae}function om(s){var c=s[0]*ae,d=s[1]*ae,h=s[2]*ae,g=Math.cos(c/2),v=Math.cos(d/2),S=Math.cos(h/2),j=Math.sin(c/2),k=Math.sin(d/2),$=Math.sin(h/2),U=g*v*S-j*k*$,te=j*k*S+g*v*$,O=j*v*S+g*k*$,z=g*k*S-j*v*$;return[te,O,z,U]}function sm(){var s=this.comp.renderedFrame-this.offsetTime,c=this.keyframes[0].t-this.offsetTime,d=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(s===this._caching.lastFrame||this._caching.lastFrame!==ki&&(this._caching.lastFrame>=d&&s>=d||this._caching.lastFrame<c&&s<c))){this._caching.lastFrame>=s&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var h=this.interpolateValue(s,this._caching);this.pv=h}return this._caching.lastFrame=s,this.pv}function tl(s){var c;if(this.propType==="unidimensional")c=s*this.mult,im(this.v-c)>1e-5&&(this.v=c,this._mdf=!0);else for(var d=0,h=this.v.length;d<h;)c=s[d]*this.mult,im(this.v[d]-c)>1e-5&&(this.v[d]=c,this._mdf=!0),d+=1}function rl(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var s,c=this.effectsSequence.length,d=this.kf?this.pv:this.data.k;for(s=0;s<c;s+=1)d=this.effectsSequence[s](d);this.setVValue(d),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function nl(s){this.effectsSequence.push(s),this.container.addDynamicProperty(this)}function uP(s,c,d,h){this.propType="unidimensional",this.mult=d||1,this.data=c,this.v=d?c.k*d:c.k,this.pv=c.k,this._mdf=!1,this.elem=s,this.container=h,this.comp=s.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=rl,this.setVValue=tl,this.addEffect=nl}function fP(s,c,d,h){this.propType="multidimensional",this.mult=d||1,this.data=c,this._mdf=!1,this.elem=s,this.container=h,this.comp=s.comp,this.k=!1,this.kf=!1,this.frameId=-1;var g,v=c.k.length;for(this.v=P("float32",v),this.pv=P("float32",v),this.vel=P("float32",v),g=0;g<v;g+=1)this.v[g]=c.k[g]*this.mult,this.pv[g]=c.k[g];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=rl,this.setVValue=tl,this.addEffect=nl}function dP(s,c,d,h){this.propType="unidimensional",this.keyframes=c.k,this.keyframesMetadata=[],this.offsetTime=s.data.st,this.frameId=-1,this._caching={lastFrame:ki,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=c,this.mult=d||1,this.elem=s,this.container=h,this.comp=s.comp,this.v=ki,this.pv=ki,this._isFirstFrame=!0,this.getValue=rl,this.setVValue=tl,this.interpolateValue=am,this.effectsSequence=[sm.bind(this)],this.addEffect=nl}function hP(s,c,d,h){this.propType="multidimensional";var g,v=c.k.length,S,j,k,$;for(g=0;g<v-1;g+=1)c.k[g].to&&c.k[g].s&&c.k[g+1]&&c.k[g+1].s&&(S=c.k[g].s,j=c.k[g+1].s,k=c.k[g].to,$=c.k[g].ti,(S.length===2&&!(S[0]===j[0]&&S[1]===j[1])&&Hr.pointOnLine2D(S[0],S[1],j[0],j[1],S[0]+k[0],S[1]+k[1])&&Hr.pointOnLine2D(S[0],S[1],j[0],j[1],j[0]+$[0],j[1]+$[1])||S.length===3&&!(S[0]===j[0]&&S[1]===j[1]&&S[2]===j[2])&&Hr.pointOnLine3D(S[0],S[1],S[2],j[0],j[1],j[2],S[0]+k[0],S[1]+k[1],S[2]+k[2])&&Hr.pointOnLine3D(S[0],S[1],S[2],j[0],j[1],j[2],j[0]+$[0],j[1]+$[1],j[2]+$[2]))&&(c.k[g].to=null,c.k[g].ti=null),S[0]===j[0]&&S[1]===j[1]&&k[0]===0&&k[1]===0&&$[0]===0&&$[1]===0&&(S.length===2||S[2]===j[2]&&k[2]===0&&$[2]===0)&&(c.k[g].to=null,c.k[g].ti=null));this.effectsSequence=[sm.bind(this)],this.data=c,this.keyframes=c.k,this.keyframesMetadata=[],this.offsetTime=s.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=d||1,this.elem=s,this.container=h,this.comp=s.comp,this.getValue=rl,this.setVValue=tl,this.interpolateValue=am,this.frameId=-1;var U=c.k[0].s.length;for(this.v=P("float32",U),this.pv=P("float32",U),g=0;g<U;g+=1)this.v[g]=ki,this.pv[g]=ki;this._caching={lastFrame:ki,lastIndex:0,value:P("float32",U)},this.addEffect=nl}var Se=function(){function s(d,h,g,v,S){h.sid&&(h=d.globalData.slotManager.getProp(h));var j;if(!h.k.length)j=new uP(d,h,v,S);else if(typeof h.k[0]=="number")j=new fP(d,h,v,S);else switch(g){case 0:j=new dP(d,h,v,S);break;case 1:j=new hP(d,h,v,S);break}return j.effectsSequence.length&&S.addDynamicProperty(j),j}var c={getProp:s};return c}();function Rt(){}Rt.prototype={addDynamicProperty:function(c){this.dynamicProperties.indexOf(c)===-1&&(this.dynamicProperties.push(c),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var c,d=this.dynamicProperties.length;for(c=0;c<d;c+=1)this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(c){this.container=c,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var bi=function(){function s(){return P("float32",2)}return el(8,s)}();function cn(){this.c=!1,this._length=0,this._maxLength=8,this.v=L(this._maxLength),this.o=L(this._maxLength),this.i=L(this._maxLength)}cn.prototype.setPathData=function(s,c){this.c=s,this.setLength(c);for(var d=0;d<c;)this.v[d]=bi.newElement(),this.o[d]=bi.newElement(),this.i[d]=bi.newElement(),d+=1},cn.prototype.setLength=function(s){for(;this._maxLength<s;)this.doubleArrayLength();this._length=s},cn.prototype.doubleArrayLength=function(){this.v=this.v.concat(L(this._maxLength)),this.i=this.i.concat(L(this._maxLength)),this.o=this.o.concat(L(this._maxLength)),this._maxLength*=2},cn.prototype.setXYAt=function(s,c,d,h,g){var v;switch(this._length=Math.max(this._length,h+1),this._length>=this._maxLength&&this.doubleArrayLength(),d){case"v":v=this.v;break;case"i":v=this.i;break;case"o":v=this.o;break;default:v=[];break}(!v[h]||v[h]&&!g)&&(v[h]=bi.newElement()),v[h][0]=s,v[h][1]=c},cn.prototype.setTripleAt=function(s,c,d,h,g,v,S,j){this.setXYAt(s,c,"v",S,j),this.setXYAt(d,h,"o",S,j),this.setXYAt(g,v,"i",S,j)},cn.prototype.reverse=function(){var s=new cn;s.setPathData(this.c,this._length);var c=this.v,d=this.o,h=this.i,g=0;this.c&&(s.setTripleAt(c[0][0],c[0][1],h[0][0],h[0][1],d[0][0],d[0][1],0,!1),g=1);var v=this._length-1,S=this._length,j;for(j=g;j<S;j+=1)s.setTripleAt(c[v][0],c[v][1],h[v][0],h[v][1],d[v][0],d[v][1],j,!1),v-=1;return s},cn.prototype.length=function(){return this._length};var Nt=function(){function s(){return new cn}function c(g){var v=g._length,S;for(S=0;S<v;S+=1)bi.release(g.v[S]),bi.release(g.i[S]),bi.release(g.o[S]),g.v[S]=null,g.i[S]=null,g.o[S]=null;g._length=0,g.c=!1}function d(g){var v=h.newElement(),S,j=g._length===void 0?g.v.length:g._length;for(v.setLength(j),v.c=g.c,S=0;S<j;S+=1)v.setTripleAt(g.v[S][0],g.v[S][1],g.o[S][0],g.o[S][1],g.i[S][0],g.i[S][1],S);return v}var h=el(4,s,c);return h.clone=d,h}();function qu(){this._length=0,this._maxLength=4,this.shapes=L(this._maxLength)}qu.prototype.addShape=function(s){this._length===this._maxLength&&(this.shapes=this.shapes.concat(L(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=s,this._length+=1},qu.prototype.releaseShapes=function(){var s;for(s=0;s<this._length;s+=1)Nt.release(this.shapes[s]);this._length=0};var sa=function(){var s={newShapeCollection:g,release:v},c=0,d=4,h=L(d);function g(){var S;return c?(c-=1,S=h[c]):S=new qu,S}function v(S){var j,k=S._length;for(j=0;j<k;j+=1)Nt.release(S.shapes[j]);S._length=0,c===d&&(h=tm.double(h),d*=2),h[c]=S,c+=1}return s}(),il=function(){var s=-999999;function c(B,F,C){var I=C.lastIndex,V,K,Z,ne,he,$e,Re,ye,Be,xe=this.keyframes;if(B<xe[0].t-this.offsetTime)V=xe[0].s[0],Z=!0,I=0;else if(B>=xe[xe.length-1].t-this.offsetTime)V=xe[xe.length-1].s?xe[xe.length-1].s[0]:xe[xe.length-2].e[0],Z=!0;else{for(var de=I,D=xe.length-1,G=!0,w,E,re;G&&(w=xe[de],E=xe[de+1],!(E.t-this.offsetTime>B));)de<D-1?de+=1:G=!1;if(re=this.keyframesMetadata[de]||{},Z=w.h===1,I=de,!Z){if(B>=E.t-this.offsetTime)ye=1;else if(B<w.t-this.offsetTime)ye=0;else{var X;re.__fnct?X=re.__fnct:(X=go.getBezierEasing(w.o.x,w.o.y,w.i.x,w.i.y).get,re.__fnct=X),ye=X((B-(w.t-this.offsetTime))/(E.t-this.offsetTime-(w.t-this.offsetTime)))}K=E.s?E.s[0]:w.e[0]}V=w.s[0]}for($e=F._length,Re=V.i[0].length,C.lastIndex=I,ne=0;ne<$e;ne+=1)for(he=0;he<Re;he+=1)Be=Z?V.i[ne][he]:V.i[ne][he]+(K.i[ne][he]-V.i[ne][he])*ye,F.i[ne][he]=Be,Be=Z?V.o[ne][he]:V.o[ne][he]+(K.o[ne][he]-V.o[ne][he])*ye,F.o[ne][he]=Be,Be=Z?V.v[ne][he]:V.v[ne][he]+(K.v[ne][he]-V.v[ne][he])*ye,F.v[ne][he]=Be}function d(){var B=this.comp.renderedFrame-this.offsetTime,F=this.keyframes[0].t-this.offsetTime,C=this.keyframes[this.keyframes.length-1].t-this.offsetTime,I=this._caching.lastFrame;return I!==s&&(I<F&&B<F||I>C&&B>C)||(this._caching.lastIndex=I<B?this._caching.lastIndex:0,this.interpolateShape(B,this.pv,this._caching)),this._caching.lastFrame=B,this.pv}function h(){this.paths=this.localShapeCollection}function g(B,F){if(B._length!==F._length||B.c!==F.c)return!1;var C,I=B._length;for(C=0;C<I;C+=1)if(B.v[C][0]!==F.v[C][0]||B.v[C][1]!==F.v[C][1]||B.o[C][0]!==F.o[C][0]||B.o[C][1]!==F.o[C][1]||B.i[C][0]!==F.i[C][0]||B.i[C][1]!==F.i[C][1])return!1;return!0}function v(B){g(this.v,B)||(this.v=Nt.clone(B),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function S(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var B;this.kf?B=this.pv:this.data.ks?B=this.data.ks.k:B=this.data.pt.k;var F,C=this.effectsSequence.length;for(F=0;F<C;F+=1)B=this.effectsSequence[F](B);this.setVValue(B),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function j(B,F,C){this.propType="shape",this.comp=B.comp,this.container=B,this.elem=B,this.data=F,this.k=!1,this.kf=!1,this._mdf=!1;var I=C===3?F.pt.k:F.ks.k;this.v=Nt.clone(I),this.pv=Nt.clone(this.v),this.localShapeCollection=sa.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=h,this.effectsSequence=[]}function k(B){this.effectsSequence.push(B),this.container.addDynamicProperty(this)}j.prototype.interpolateShape=c,j.prototype.getValue=S,j.prototype.setVValue=v,j.prototype.addEffect=k;function $(B,F,C){this.propType="shape",this.comp=B.comp,this.elem=B,this.container=B,this.offsetTime=B.data.st,this.keyframes=C===3?F.pt.k:F.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var I=this.keyframes[0].s[0].i.length;this.v=Nt.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,I),this.pv=Nt.clone(this.v),this.localShapeCollection=sa.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=s,this.reset=h,this._caching={lastFrame:s,lastIndex:0},this.effectsSequence=[d.bind(this)]}$.prototype.getValue=S,$.prototype.interpolateShape=c,$.prototype.setVValue=v,$.prototype.addEffect=k;var U=function(){var B=ce;function F(C,I){this.v=Nt.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=sa.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=I.d,this.elem=C,this.comp=C.comp,this.frameId=-1,this.initDynamicPropertyContainer(C),this.p=Se.getProp(C,I.p,1,0,this),this.s=Se.getProp(C,I.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return F.prototype={reset:h,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var I=this.p.v[0],V=this.p.v[1],K=this.s.v[0]/2,Z=this.s.v[1]/2,ne=this.d!==3,he=this.v;he.v[0][0]=I,he.v[0][1]=V-Z,he.v[1][0]=ne?I+K:I-K,he.v[1][1]=V,he.v[2][0]=I,he.v[2][1]=V+Z,he.v[3][0]=ne?I-K:I+K,he.v[3][1]=V,he.i[0][0]=ne?I-K*B:I+K*B,he.i[0][1]=V-Z,he.i[1][0]=ne?I+K:I-K,he.i[1][1]=V-Z*B,he.i[2][0]=ne?I+K*B:I-K*B,he.i[2][1]=V+Z,he.i[3][0]=ne?I-K:I+K,he.i[3][1]=V+Z*B,he.o[0][0]=ne?I+K*B:I-K*B,he.o[0][1]=V-Z,he.o[1][0]=ne?I+K:I-K,he.o[1][1]=V+Z*B,he.o[2][0]=ne?I-K*B:I+K*B,he.o[2][1]=V+Z,he.o[3][0]=ne?I-K:I+K,he.o[3][1]=V-Z*B}},m([Rt],F),F}(),te=function(){function B(F,C){this.v=Nt.newElement(),this.v.setPathData(!0,0),this.elem=F,this.comp=F.comp,this.data=C,this.frameId=-1,this.d=C.d,this.initDynamicPropertyContainer(F),C.sy===1?(this.ir=Se.getProp(F,C.ir,0,0,this),this.is=Se.getProp(F,C.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Se.getProp(F,C.pt,0,0,this),this.p=Se.getProp(F,C.p,1,0,this),this.r=Se.getProp(F,C.r,0,ae,this),this.or=Se.getProp(F,C.or,0,0,this),this.os=Se.getProp(F,C.os,0,.01,this),this.localShapeCollection=sa.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return B.prototype={reset:h,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var C=Math.floor(this.pt.v)*2,I=Math.PI*2/C,V=!0,K=this.or.v,Z=this.ir.v,ne=this.os.v,he=this.is.v,$e=2*Math.PI*K/(C*2),Re=2*Math.PI*Z/(C*2),ye,Be,xe,de,D=-Math.PI/2;D+=this.r.v;var G=this.data.d===3?-1:1;for(this.v._length=0,ye=0;ye<C;ye+=1){Be=V?K:Z,xe=V?ne:he,de=V?$e:Re;var w=Be*Math.cos(D),E=Be*Math.sin(D),re=w===0&&E===0?0:E/Math.sqrt(w*w+E*E),X=w===0&&E===0?0:-w/Math.sqrt(w*w+E*E);w+=+this.p.v[0],E+=+this.p.v[1],this.v.setTripleAt(w,E,w-re*de*xe*G,E-X*de*xe*G,w+re*de*xe*G,E+X*de*xe*G,ye,!0),V=!V,D+=I*G}},convertPolygonToPath:function(){var C=Math.floor(this.pt.v),I=Math.PI*2/C,V=this.or.v,K=this.os.v,Z=2*Math.PI*V/(C*4),ne,he=-Math.PI*.5,$e=this.data.d===3?-1:1;for(he+=this.r.v,this.v._length=0,ne=0;ne<C;ne+=1){var Re=V*Math.cos(he),ye=V*Math.sin(he),Be=Re===0&&ye===0?0:ye/Math.sqrt(Re*Re+ye*ye),xe=Re===0&&ye===0?0:-Re/Math.sqrt(Re*Re+ye*ye);Re+=+this.p.v[0],ye+=+this.p.v[1],this.v.setTripleAt(Re,ye,Re-Be*Z*K*$e,ye-xe*Z*K*$e,Re+Be*Z*K*$e,ye+xe*Z*K*$e,ne,!0),he+=I*$e}this.paths.length=0,this.paths[0]=this.v}},m([Rt],B),B}(),O=function(){function B(F,C){this.v=Nt.newElement(),this.v.c=!0,this.localShapeCollection=sa.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=F,this.comp=F.comp,this.frameId=-1,this.d=C.d,this.initDynamicPropertyContainer(F),this.p=Se.getProp(F,C.p,1,0,this),this.s=Se.getProp(F,C.s,1,0,this),this.r=Se.getProp(F,C.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return B.prototype={convertRectToPath:function(){var C=this.p.v[0],I=this.p.v[1],V=this.s.v[0]/2,K=this.s.v[1]/2,Z=Y(V,K,this.r.v),ne=Z*(1-ce);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(C+V,I-K+Z,C+V,I-K+Z,C+V,I-K+ne,0,!0),this.v.setTripleAt(C+V,I+K-Z,C+V,I+K-ne,C+V,I+K-Z,1,!0),Z!==0?(this.v.setTripleAt(C+V-Z,I+K,C+V-Z,I+K,C+V-ne,I+K,2,!0),this.v.setTripleAt(C-V+Z,I+K,C-V+ne,I+K,C-V+Z,I+K,3,!0),this.v.setTripleAt(C-V,I+K-Z,C-V,I+K-Z,C-V,I+K-ne,4,!0),this.v.setTripleAt(C-V,I-K+Z,C-V,I-K+ne,C-V,I-K+Z,5,!0),this.v.setTripleAt(C-V+Z,I-K,C-V+Z,I-K,C-V+ne,I-K,6,!0),this.v.setTripleAt(C+V-Z,I-K,C+V-ne,I-K,C+V-Z,I-K,7,!0)):(this.v.setTripleAt(C-V,I+K,C-V+ne,I+K,C-V,I+K,2),this.v.setTripleAt(C-V,I-K,C-V,I-K+ne,C-V,I-K,3))):(this.v.setTripleAt(C+V,I-K+Z,C+V,I-K+ne,C+V,I-K+Z,0,!0),Z!==0?(this.v.setTripleAt(C+V-Z,I-K,C+V-Z,I-K,C+V-ne,I-K,1,!0),this.v.setTripleAt(C-V+Z,I-K,C-V+ne,I-K,C-V+Z,I-K,2,!0),this.v.setTripleAt(C-V,I-K+Z,C-V,I-K+Z,C-V,I-K+ne,3,!0),this.v.setTripleAt(C-V,I+K-Z,C-V,I+K-ne,C-V,I+K-Z,4,!0),this.v.setTripleAt(C-V+Z,I+K,C-V+Z,I+K,C-V+ne,I+K,5,!0),this.v.setTripleAt(C+V-Z,I+K,C+V-ne,I+K,C+V-Z,I+K,6,!0),this.v.setTripleAt(C+V,I+K-Z,C+V,I+K-Z,C+V,I+K-ne,7,!0)):(this.v.setTripleAt(C-V,I-K,C-V+ne,I-K,C-V,I-K,1,!0),this.v.setTripleAt(C-V,I+K,C-V,I+K-ne,C-V,I+K,2,!0),this.v.setTripleAt(C+V,I+K,C+V-ne,I+K,C+V,I+K,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:h},m([Rt],B),B}();function z(B,F,C){var I;if(C===3||C===4){var V=C===3?F.pt:F.ks,K=V.k;K.length?I=new $(B,F,C):I=new j(B,F,C)}else C===5?I=new O(B,F):C===6?I=new U(B,F):C===7&&(I=new te(B,F));return I.k&&B.addDynamicProperty(I),I}function Q(){return j}function q(){return $}var J={};return J.getShapeProp=z,J.getConstructorFunction=Q,J.getKeyframedConstructorFunction=q,J}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Dt=function(){var s=Math.cos,c=Math.sin,d=Math.tan,h=Math.round;function g(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function v(w){if(w===0)return this;var E=s(w),re=c(w);return this._t(E,-re,0,0,re,E,0,0,0,0,1,0,0,0,0,1)}function S(w){if(w===0)return this;var E=s(w),re=c(w);return this._t(1,0,0,0,0,E,-re,0,0,re,E,0,0,0,0,1)}function j(w){if(w===0)return this;var E=s(w),re=c(w);return this._t(E,0,re,0,0,1,0,0,-re,0,E,0,0,0,0,1)}function k(w){if(w===0)return this;var E=s(w),re=c(w);return this._t(E,-re,0,0,re,E,0,0,0,0,1,0,0,0,0,1)}function $(w,E){return this._t(1,E,w,1,0,0)}function U(w,E){return this.shear(d(w),d(E))}function te(w,E){var re=s(E),X=c(E);return this._t(re,X,0,0,-X,re,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,d(w),1,0,0,0,0,1,0,0,0,0,1)._t(re,-X,0,0,X,re,0,0,0,0,1,0,0,0,0,1)}function O(w,E,re){return!re&&re!==0&&(re=1),w===1&&E===1&&re===1?this:this._t(w,0,0,0,0,E,0,0,0,0,re,0,0,0,0,1)}function z(w,E,re,X,be,De,Ve,Xe,Je,bt,Jt,Gr,Zt,Lt,ur,it){return this.props[0]=w,this.props[1]=E,this.props[2]=re,this.props[3]=X,this.props[4]=be,this.props[5]=De,this.props[6]=Ve,this.props[7]=Xe,this.props[8]=Je,this.props[9]=bt,this.props[10]=Jt,this.props[11]=Gr,this.props[12]=Zt,this.props[13]=Lt,this.props[14]=ur,this.props[15]=it,this}function Q(w,E,re){return re=re||0,w!==0||E!==0||re!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,w,E,re,1):this}function q(w,E,re,X,be,De,Ve,Xe,Je,bt,Jt,Gr,Zt,Lt,ur,it){var Oe=this.props;if(w===1&&E===0&&re===0&&X===0&&be===0&&De===1&&Ve===0&&Xe===0&&Je===0&&bt===0&&Jt===1&&Gr===0)return Oe[12]=Oe[12]*w+Oe[15]*Zt,Oe[13]=Oe[13]*De+Oe[15]*Lt,Oe[14]=Oe[14]*Jt+Oe[15]*ur,Oe[15]*=it,this._identityCalculated=!1,this;var dn=Oe[0],Bn=Oe[1],hn=Oe[2],Qr=Oe[3],pn=Oe[4],vn=Oe[5],er=Oe[6],Un=Oe[7],zn=Oe[8],Ar=Oe[9],Wn=Oe[10],Mr=Oe[11],Ci=Oe[12],fl=Oe[13],dl=Oe[14],hl=Oe[15];return Oe[0]=dn*w+Bn*be+hn*Je+Qr*Zt,Oe[1]=dn*E+Bn*De+hn*bt+Qr*Lt,Oe[2]=dn*re+Bn*Ve+hn*Jt+Qr*ur,Oe[3]=dn*X+Bn*Xe+hn*Gr+Qr*it,Oe[4]=pn*w+vn*be+er*Je+Un*Zt,Oe[5]=pn*E+vn*De+er*bt+Un*Lt,Oe[6]=pn*re+vn*Ve+er*Jt+Un*ur,Oe[7]=pn*X+vn*Xe+er*Gr+Un*it,Oe[8]=zn*w+Ar*be+Wn*Je+Mr*Zt,Oe[9]=zn*E+Ar*De+Wn*bt+Mr*Lt,Oe[10]=zn*re+Ar*Ve+Wn*Jt+Mr*ur,Oe[11]=zn*X+Ar*Xe+Wn*Gr+Mr*it,Oe[12]=Ci*w+fl*be+dl*Je+hl*Zt,Oe[13]=Ci*E+fl*De+dl*bt+hl*Lt,Oe[14]=Ci*re+fl*Ve+dl*Jt+hl*ur,Oe[15]=Ci*X+fl*Xe+dl*Gr+hl*it,this._identityCalculated=!1,this}function J(w){var E=w.props;return this.transform(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15])}function B(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function F(w){for(var E=0;E<16;){if(w.props[E]!==this.props[E])return!1;E+=1}return!0}function C(w){var E;for(E=0;E<16;E+=1)w.props[E]=this.props[E];return w}function I(w){var E;for(E=0;E<16;E+=1)this.props[E]=w[E]}function V(w,E,re){return{x:w*this.props[0]+E*this.props[4]+re*this.props[8]+this.props[12],y:w*this.props[1]+E*this.props[5]+re*this.props[9]+this.props[13],z:w*this.props[2]+E*this.props[6]+re*this.props[10]+this.props[14]}}function K(w,E,re){return w*this.props[0]+E*this.props[4]+re*this.props[8]+this.props[12]}function Z(w,E,re){return w*this.props[1]+E*this.props[5]+re*this.props[9]+this.props[13]}function ne(w,E,re){return w*this.props[2]+E*this.props[6]+re*this.props[10]+this.props[14]}function he(){var w=this.props[0]*this.props[5]-this.props[1]*this.props[4],E=this.props[5]/w,re=-this.props[1]/w,X=-this.props[4]/w,be=this.props[0]/w,De=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/w,Ve=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/w,Xe=new Dt;return Xe.props[0]=E,Xe.props[1]=re,Xe.props[4]=X,Xe.props[5]=be,Xe.props[12]=De,Xe.props[13]=Ve,Xe}function $e(w){var E=this.getInverseMatrix();return E.applyToPointArray(w[0],w[1],w[2]||0)}function Re(w){var E,re=w.length,X=[];for(E=0;E<re;E+=1)X[E]=$e(w[E]);return X}function ye(w,E,re){var X=P("float32",6);if(this.isIdentity())X[0]=w[0],X[1]=w[1],X[2]=E[0],X[3]=E[1],X[4]=re[0],X[5]=re[1];else{var be=this.props[0],De=this.props[1],Ve=this.props[4],Xe=this.props[5],Je=this.props[12],bt=this.props[13];X[0]=w[0]*be+w[1]*Ve+Je,X[1]=w[0]*De+w[1]*Xe+bt,X[2]=E[0]*be+E[1]*Ve+Je,X[3]=E[0]*De+E[1]*Xe+bt,X[4]=re[0]*be+re[1]*Ve+Je,X[5]=re[0]*De+re[1]*Xe+bt}return X}function Be(w,E,re){var X;return this.isIdentity()?X=[w,E,re]:X=[w*this.props[0]+E*this.props[4]+re*this.props[8]+this.props[12],w*this.props[1]+E*this.props[5]+re*this.props[9]+this.props[13],w*this.props[2]+E*this.props[6]+re*this.props[10]+this.props[14]],X}function xe(w,E){if(this.isIdentity())return w+","+E;var re=this.props;return Math.round((w*re[0]+E*re[4]+re[12])*100)/100+","+Math.round((w*re[1]+E*re[5]+re[13])*100)/100}function de(){for(var w=0,E=this.props,re="matrix3d(",X=1e4;w<16;)re+=h(E[w]*X)/X,re+=w===15?")":",",w+=1;return re}function D(w){var E=1e4;return w<1e-6&&w>0||w>-1e-6&&w<0?h(w*E)/E:w}function G(){var w=this.props,E=D(w[0]),re=D(w[1]),X=D(w[4]),be=D(w[5]),De=D(w[12]),Ve=D(w[13]);return"matrix("+E+","+re+","+X+","+be+","+De+","+Ve+")"}return function(){this.reset=g,this.rotate=v,this.rotateX=S,this.rotateY=j,this.rotateZ=k,this.skew=U,this.skewFromAxis=te,this.shear=$,this.scale=O,this.setTransform=z,this.translate=Q,this.transform=q,this.multiply=J,this.applyToPoint=V,this.applyToX=K,this.applyToY=Z,this.applyToZ=ne,this.applyToPointArray=Be,this.applyToTriplePoints=ye,this.applyToPointStringified=xe,this.toCSS=de,this.to2dCSS=G,this.clone=C,this.cloneFromProps=I,this.equals=F,this.inversePoints=Re,this.inversePoint=$e,this.getInverseMatrix=he,this._t=this.transform,this.isIdentity=B,this._identity=!0,this._identityCalculated=!1,this.props=P("float32",16),this.reset()}}();function al(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(d){return typeof d}:al=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},al(s)}var et={};function pP(s){u(s)}function lm(){Pt.searchAnimations()}function vP(s){Ue(s)}function mP(s){Hu(s)}function gP(s){return Pt.loadAnimation(s)}function yP(s){if(typeof s=="string")switch(s){case"high":In(200);break;default:case"medium":In(50);break;case"low":In(10);break}else!isNaN(s)&&s>1&&In(s)}function _P(){return typeof navigator<"u"}function wP(s,c){s==="expressions"&&nt(c)}function SP(s){switch(s){case"propertyFactory":return Se;case"shapePropertyFactory":return il;case"matrix":return Dt;default:return null}}et.play=Pt.play,et.pause=Pt.pause,et.setLocationHref=pP,et.togglePause=Pt.togglePause,et.setSpeed=Pt.setSpeed,et.setDirection=Pt.setDirection,et.stop=Pt.stop,et.searchAnimations=lm,et.registerAnimation=Pt.registerAnimation,et.loadAnimation=gP,et.setSubframeRendering=vP,et.resize=Pt.resize,et.goToAndStop=Pt.goToAndStop,et.destroy=Pt.destroy,et.setQuality=yP,et.inBrowser=_P,et.installPlugin=wP,et.freeze=Pt.freeze,et.unfreeze=Pt.unfreeze,et.setVolume=Pt.setVolume,et.mute=Pt.mute,et.unmute=Pt.unmute,et.getRegisteredAnimations=Pt.getRegisteredAnimations,et.useWebWorker=o,et.setIDPrefix=mP,et.__getFactory=SP,et.version="5.12.2";function kP(){document.readyState==="complete"&&(clearInterval(EP),lm())}function bP(s){for(var c=cm.split("&"),d=0;d<c.length;d+=1){var h=c[d].split("=");if(decodeURIComponent(h[0])==s)return decodeURIComponent(h[1])}return null}var cm="";{var um=document.getElementsByTagName("script"),TP=um.length-1,fm=um[TP]||{src:""};cm=fm.src?fm.src.replace(/^[^\?]+\??/,""):"",bP("renderer")}var EP=setInterval(kP,100);try{al(t)!=="object"&&(window.bodymovin=et)}catch{}var jn=function(){var s={},c={};s.registerModifier=d,s.getModifier=h;function d(g,v){c[g]||(c[g]=v)}function h(g,v,S){return new c[g](v,S)}return s}();function _r(){}_r.prototype.initModifierProperties=function(){},_r.prototype.addShapeToModifier=function(){},_r.prototype.addShape=function(s){if(!this.closed){s.sh.container.addDynamicProperty(s.sh);var c={shape:s.sh,data:s,localShapeCollection:sa.newShapeCollection()};this.shapes.push(c),this.addShapeToModifier(c),this._isAnimated&&s.setAsAnimated()}},_r.prototype.init=function(s,c){this.shapes=[],this.elem=s,this.initDynamicPropertyContainer(s),this.initModifierProperties(s,c),this.frameId=a,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},_r.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},m([Rt],_r);function Lr(){}m([_r],Lr),Lr.prototype.initModifierProperties=function(s,c){this.s=Se.getProp(s,c.s,0,.01,this),this.e=Se.getProp(s,c.e,0,.01,this),this.o=Se.getProp(s,c.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=c.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},Lr.prototype.addShapeToModifier=function(s){s.pathsData=[]},Lr.prototype.calculateShapeEdges=function(s,c,d,h,g){var v=[];c<=1?v.push({s,e:c}):s>=1?v.push({s:s-1,e:c-1}):(v.push({s,e:1}),v.push({s:0,e:c-1}));var S=[],j,k=v.length,$;for(j=0;j<k;j+=1)if($=v[j],!($.e*g<h||$.s*g>h+d)){var U,te;$.s*g<=h?U=0:U=($.s*g-h)/d,$.e*g>=h+d?te=1:te=($.e*g-h)/d,S.push([U,te])}return S.length||S.push([0,0]),S},Lr.prototype.releasePathsData=function(s){var c,d=s.length;for(c=0;c<d;c+=1)nm.release(s[c]);return s.length=0,s},Lr.prototype.processShapes=function(s){var c,d;if(this._mdf||s){var h=this.o.v%360/360;if(h<0&&(h+=1),this.s.v>1?c=1+h:this.s.v<0?c=0+h:c=this.s.v+h,this.e.v>1?d=1+h:this.e.v<0?d=0+h:d=this.e.v+h,c>d){var g=c;c=d,d=g}c=Math.round(c*1e4)*1e-4,d=Math.round(d*1e4)*1e-4,this.sValue=c,this.eValue=d}else c=this.sValue,d=this.eValue;var v,S,j=this.shapes.length,k,$,U,te,O,z=0;if(d===c)for(S=0;S<j;S+=1)this.shapes[S].localShapeCollection.releaseShapes(),this.shapes[S].shape._mdf=!0,this.shapes[S].shape.paths=this.shapes[S].localShapeCollection,this._mdf&&(this.shapes[S].pathsData.length=0);else if(d===1&&c===0||d===0&&c===1){if(this._mdf)for(S=0;S<j;S+=1)this.shapes[S].pathsData.length=0,this.shapes[S].shape._mdf=!0}else{var Q=[],q,J;for(S=0;S<j;S+=1)if(q=this.shapes[S],!q.shape._mdf&&!this._mdf&&!s&&this.m!==2)q.shape.paths=q.localShapeCollection;else{if(v=q.shape.paths,$=v._length,O=0,!q.shape._mdf&&q.pathsData.length)O=q.totalShapeLength;else{for(U=this.releasePathsData(q.pathsData),k=0;k<$;k+=1)te=Hr.getSegmentsLength(v.shapes[k]),U.push(te),O+=te.totalLength;q.totalShapeLength=O,q.pathsData=U}z+=O,q.shape._mdf=!0}var B=c,F=d,C=0,I;for(S=j-1;S>=0;S-=1)if(q=this.shapes[S],q.shape._mdf){for(J=q.localShapeCollection,J.releaseShapes(),this.m===2&&j>1?(I=this.calculateShapeEdges(c,d,q.totalShapeLength,C,z),C+=q.totalShapeLength):I=[[B,F]],$=I.length,k=0;k<$;k+=1){B=I[k][0],F=I[k][1],Q.length=0,F<=1?Q.push({s:q.totalShapeLength*B,e:q.totalShapeLength*F}):B>=1?Q.push({s:q.totalShapeLength*(B-1),e:q.totalShapeLength*(F-1)}):(Q.push({s:q.totalShapeLength*B,e:q.totalShapeLength}),Q.push({s:0,e:q.totalShapeLength*(F-1)}));var V=this.addShapes(q,Q[0]);if(Q[0].s!==Q[0].e){if(Q.length>1){var K=q.shape.paths.shapes[q.shape.paths._length-1];if(K.c){var Z=V.pop();this.addPaths(V,J),V=this.addShapes(q,Q[1],Z)}else this.addPaths(V,J),V=this.addShapes(q,Q[1])}this.addPaths(V,J)}}q.shape.paths=J}}},Lr.prototype.addPaths=function(s,c){var d,h=s.length;for(d=0;d<h;d+=1)c.addShape(s[d])},Lr.prototype.addSegment=function(s,c,d,h,g,v,S){g.setXYAt(c[0],c[1],"o",v),g.setXYAt(d[0],d[1],"i",v+1),S&&g.setXYAt(s[0],s[1],"v",v),g.setXYAt(h[0],h[1],"v",v+1)},Lr.prototype.addSegmentFromArray=function(s,c,d,h){c.setXYAt(s[1],s[5],"o",d),c.setXYAt(s[2],s[6],"i",d+1),h&&c.setXYAt(s[0],s[4],"v",d),c.setXYAt(s[3],s[7],"v",d+1)},Lr.prototype.addShapes=function(s,c,d){var h=s.pathsData,g=s.shape.paths.shapes,v,S=s.shape.paths._length,j,k,$=0,U,te,O,z,Q=[],q,J=!0;for(d?(te=d._length,q=d._length):(d=Nt.newElement(),te=0,q=0),Q.push(d),v=0;v<S;v+=1){for(O=h[v].lengths,d.c=g[v].c,k=g[v].c?O.length:O.length+1,j=1;j<k;j+=1)if(U=O[j-1],$+U.addedLength<c.s)$+=U.addedLength,d.c=!1;else if($>c.e){d.c=!1;break}else c.s<=$&&c.e>=$+U.addedLength?(this.addSegment(g[v].v[j-1],g[v].o[j-1],g[v].i[j],g[v].v[j],d,te,J),J=!1):(z=Hr.getNewSegment(g[v].v[j-1],g[v].v[j],g[v].o[j-1],g[v].i[j],(c.s-$)/U.addedLength,(c.e-$)/U.addedLength,O[j-1]),this.addSegmentFromArray(z,d,te,J),J=!1,d.c=!1),$+=U.addedLength,te+=1;if(g[v].c&&O.length){if(U=O[j-1],$<=c.e){var B=O[j-1].addedLength;c.s<=$&&c.e>=$+B?(this.addSegment(g[v].v[j-1],g[v].o[j-1],g[v].i[0],g[v].v[0],d,te,J),J=!1):(z=Hr.getNewSegment(g[v].v[j-1],g[v].v[0],g[v].o[j-1],g[v].i[0],(c.s-$)/B,(c.e-$)/B,O[j-1]),this.addSegmentFromArray(z,d,te,J),J=!1,d.c=!1)}else d.c=!1;$+=U.addedLength,te+=1}if(d._length&&(d.setXYAt(d.v[q][0],d.v[q][1],"i",q),d.setXYAt(d.v[d._length-1][0],d.v[d._length-1][1],"o",d._length-1)),$>c.e)break;v<S-1&&(d=Nt.newElement(),J=!0,Q.push(d),te=0)}return Q};function yo(){}m([_r],yo),yo.prototype.initModifierProperties=function(s,c){this.getValue=this.processKeys,this.amount=Se.getProp(s,c.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},yo.prototype.processPath=function(s,c){var d=c/100,h=[0,0],g=s._length,v=0;for(v=0;v<g;v+=1)h[0]+=s.v[v][0],h[1]+=s.v[v][1];h[0]/=g,h[1]/=g;var S=Nt.newElement();S.c=s.c;var j,k,$,U,te,O;for(v=0;v<g;v+=1)j=s.v[v][0]+(h[0]-s.v[v][0])*d,k=s.v[v][1]+(h[1]-s.v[v][1])*d,$=s.o[v][0]+(h[0]-s.o[v][0])*-d,U=s.o[v][1]+(h[1]-s.o[v][1])*-d,te=s.i[v][0]+(h[0]-s.i[v][0])*-d,O=s.i[v][1]+(h[1]-s.i[v][1])*-d,S.setTripleAt(j,k,$,U,te,O,v);return S},yo.prototype.processShapes=function(s){var c,d,h=this.shapes.length,g,v,S=this.amount.v;if(S!==0){var j,k;for(d=0;d<h;d+=1){if(j=this.shapes[d],k=j.localShapeCollection,!(!j.shape._mdf&&!this._mdf&&!s))for(k.releaseShapes(),j.shape._mdf=!0,c=j.shape.paths.shapes,v=j.shape.paths._length,g=0;g<v;g+=1)k.addShape(this.processPath(c[g],S));j.shape.paths=j.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var Gu=function(){var s=[0,0];function c(k){var $=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||$,this.a&&k.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&k.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&k.skewFromAxis(-this.sk.v,this.sa.v),this.r?k.rotate(-this.r.v):k.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?k.translate(this.px.v,this.py.v,-this.pz.v):k.translate(this.px.v,this.py.v,0):k.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function d(k){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||k){var $;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var U,te;if($=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(U=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/$,0),te=this.p.getValueAtTime(this.p.keyframes[0].t/$,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(U=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/$,0),te=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/$,0)):(U=this.p.pv,te=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/$,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){U=[],te=[];var O=this.px,z=this.py;O._caching.lastFrame+O.offsetTime<=O.keyframes[0].t?(U[0]=O.getValueAtTime((O.keyframes[0].t+.01)/$,0),U[1]=z.getValueAtTime((z.keyframes[0].t+.01)/$,0),te[0]=O.getValueAtTime(O.keyframes[0].t/$,0),te[1]=z.getValueAtTime(z.keyframes[0].t/$,0)):O._caching.lastFrame+O.offsetTime>=O.keyframes[O.keyframes.length-1].t?(U[0]=O.getValueAtTime(O.keyframes[O.keyframes.length-1].t/$,0),U[1]=z.getValueAtTime(z.keyframes[z.keyframes.length-1].t/$,0),te[0]=O.getValueAtTime((O.keyframes[O.keyframes.length-1].t-.01)/$,0),te[1]=z.getValueAtTime((z.keyframes[z.keyframes.length-1].t-.01)/$,0)):(U=[O.pv,z.pv],te[0]=O.getValueAtTime((O._caching.lastFrame+O.offsetTime-.01)/$,O.offsetTime),te[1]=z.getValueAtTime((z._caching.lastFrame+z.offsetTime-.01)/$,z.offsetTime))}else te=s,U=te;this.v.rotate(-Math.atan2(U[1]-te[1],U[0]-te[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function h(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function g(){}function v(k){this._addDynamicProperty(k),this.elem.addDynamicProperty(k),this._isDirty=!0}function S(k,$,U){if(this.elem=k,this.frameId=-1,this.propType="transform",this.data=$,this.v=new Dt,this.pre=new Dt,this.appliedTransformations=0,this.initDynamicPropertyContainer(U||k),$.p&&$.p.s?(this.px=Se.getProp(k,$.p.x,0,0,this),this.py=Se.getProp(k,$.p.y,0,0,this),$.p.z&&(this.pz=Se.getProp(k,$.p.z,0,0,this))):this.p=Se.getProp(k,$.p||{k:[0,0,0]},1,0,this),$.rx){if(this.rx=Se.getProp(k,$.rx,0,ae,this),this.ry=Se.getProp(k,$.ry,0,ae,this),this.rz=Se.getProp(k,$.rz,0,ae,this),$.or.k[0].ti){var te,O=$.or.k.length;for(te=0;te<O;te+=1)$.or.k[te].to=null,$.or.k[te].ti=null}this.or=Se.getProp(k,$.or,1,ae,this),this.or.sh=!0}else this.r=Se.getProp(k,$.r||{k:0},0,ae,this);$.sk&&(this.sk=Se.getProp(k,$.sk,0,ae,this),this.sa=Se.getProp(k,$.sa,0,ae,this)),this.a=Se.getProp(k,$.a||{k:[0,0,0]},1,0,this),this.s=Se.getProp(k,$.s||{k:[100,100,100]},1,.01,this),$.o?this.o=Se.getProp(k,$.o,0,.01,k):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}S.prototype={applyToMatrix:c,getValue:d,precalculateMatrix:h,autoOrient:g},m([Rt],S),S.prototype.addDynamicProperty=v,S.prototype._addDynamicProperty=Rt.prototype.addDynamicProperty;function j(k,$,U){return new S(k,$,U)}return{getTransformProperty:j}}();function qr(){}m([_r],qr),qr.prototype.initModifierProperties=function(s,c){this.getValue=this.processKeys,this.c=Se.getProp(s,c.c,0,null,this),this.o=Se.getProp(s,c.o,0,null,this),this.tr=Gu.getTransformProperty(s,c.tr,this),this.so=Se.getProp(s,c.tr.so,0,.01,this),this.eo=Se.getProp(s,c.tr.eo,0,.01,this),this.data=c,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Dt,this.rMatrix=new Dt,this.sMatrix=new Dt,this.tMatrix=new Dt,this.matrix=new Dt},qr.prototype.applyTransforms=function(s,c,d,h,g,v){var S=v?-1:1,j=h.s.v[0]+(1-h.s.v[0])*(1-g),k=h.s.v[1]+(1-h.s.v[1])*(1-g);s.translate(h.p.v[0]*S*g,h.p.v[1]*S*g,h.p.v[2]),c.translate(-h.a.v[0],-h.a.v[1],h.a.v[2]),c.rotate(-h.r.v*S*g),c.translate(h.a.v[0],h.a.v[1],h.a.v[2]),d.translate(-h.a.v[0],-h.a.v[1],h.a.v[2]),d.scale(v?1/j:j,v?1/k:k),d.translate(h.a.v[0],h.a.v[1],h.a.v[2])},qr.prototype.init=function(s,c,d,h){for(this.elem=s,this.arr=c,this.pos=d,this.elemsData=h,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(s),this.initModifierProperties(s,c[d]);d>0;)d-=1,this._elements.unshift(c[d]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},qr.prototype.resetElements=function(s){var c,d=s.length;for(c=0;c<d;c+=1)s[c]._processed=!1,s[c].ty==="gr"&&this.resetElements(s[c].it)},qr.prototype.cloneElements=function(s){var c=JSON.parse(JSON.stringify(s));return this.resetElements(c),c},qr.prototype.changeGroupRender=function(s,c){var d,h=s.length;for(d=0;d<h;d+=1)s[d]._render=c,s[d].ty==="gr"&&this.changeGroupRender(s[d].it,c)},qr.prototype.processShapes=function(s){var c,d,h,g,v,S=!1;if(this._mdf||s){var j=Math.ceil(this.c.v);if(this._groups.length<j){for(;this._groups.length<j;){var k={it:this.cloneElements(this._elements),ty:"gr"};k.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,k),this._groups.splice(0,0,k),this._currentCopies+=1}this.elem.reloadShapes(),S=!0}v=0;var $;for(h=0;h<=this._groups.length-1;h+=1){if($=v<j,this._groups[h]._render=$,this.changeGroupRender(this._groups[h].it,$),!$){var U=this.elemsData[h].it,te=U[U.length-1];te.transform.op.v!==0?(te.transform.op._mdf=!0,te.transform.op.v=0):te.transform.op._mdf=!1}v+=1}this._currentCopies=j;var O=this.o.v,z=O%1,Q=O>0?Math.floor(O):Math.ceil(O),q=this.pMatrix.props,J=this.rMatrix.props,B=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var F=0;if(O>0){for(;F<Q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),F+=1;z&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,z,!1),F+=z)}else if(O<0){for(;F>Q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),F-=1;z&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-z,!0),F-=z)}h=this.data.m===1?0:this._currentCopies-1,g=this.data.m===1?1:-1,v=this._currentCopies;for(var C,I;v;){if(c=this.elemsData[h].it,d=c[c.length-1].transform.mProps.v.props,I=d.length,c[c.length-1].transform.mProps._mdf=!0,c[c.length-1].transform.op._mdf=!0,c[c.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(h/(this._currentCopies-1)),F!==0){for((h!==0&&g===1||h!==this._currentCopies-1&&g===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],J[8],J[9],J[10],J[11],J[12],J[13],J[14],J[15]),this.matrix.transform(B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],B[8],B[9],B[10],B[11],B[12],B[13],B[14],B[15]),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),C=0;C<I;C+=1)d[C]=this.matrix.props[C];this.matrix.reset()}else for(this.matrix.reset(),C=0;C<I;C+=1)d[C]=this.matrix.props[C];F+=1,v-=1,h+=g}}else for(v=this._currentCopies,h=0,g=1;v;)c=this.elemsData[h].it,d=c[c.length-1].transform.mProps.v.props,c[c.length-1].transform.mProps._mdf=!1,c[c.length-1].transform.op._mdf=!1,v-=1,h+=g;return S},qr.prototype.addShape=function(){};function _o(){}m([_r],_o),_o.prototype.initModifierProperties=function(s,c){this.getValue=this.processKeys,this.rd=Se.getProp(s,c.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},_o.prototype.processPath=function(s,c){var d=Nt.newElement();d.c=s.c;var h,g=s._length,v,S,j,k,$,U,te=0,O,z,Q,q,J,B;for(h=0;h<g;h+=1)v=s.v[h],j=s.o[h],S=s.i[h],v[0]===j[0]&&v[1]===j[1]&&v[0]===S[0]&&v[1]===S[1]?(h===0||h===g-1)&&!s.c?(d.setTripleAt(v[0],v[1],j[0],j[1],S[0],S[1],te),te+=1):(h===0?k=s.v[g-1]:k=s.v[h-1],$=Math.sqrt(Math.pow(v[0]-k[0],2)+Math.pow(v[1]-k[1],2)),U=$?Math.min($/2,c)/$:0,J=v[0]+(k[0]-v[0])*U,O=J,B=v[1]-(v[1]-k[1])*U,z=B,Q=O-(O-v[0])*ce,q=z-(z-v[1])*ce,d.setTripleAt(O,z,Q,q,J,B,te),te+=1,h===g-1?k=s.v[0]:k=s.v[h+1],$=Math.sqrt(Math.pow(v[0]-k[0],2)+Math.pow(v[1]-k[1],2)),U=$?Math.min($/2,c)/$:0,Q=v[0]+(k[0]-v[0])*U,O=Q,q=v[1]+(k[1]-v[1])*U,z=q,J=O-(O-v[0])*ce,B=z-(z-v[1])*ce,d.setTripleAt(O,z,Q,q,J,B,te),te+=1):(d.setTripleAt(s.v[h][0],s.v[h][1],s.o[h][0],s.o[h][1],s.i[h][0],s.i[h][1],te),te+=1);return d},_o.prototype.processShapes=function(s){var c,d,h=this.shapes.length,g,v,S=this.rd.v;if(S!==0){var j,k;for(d=0;d<h;d+=1){if(j=this.shapes[d],k=j.localShapeCollection,!(!j.shape._mdf&&!this._mdf&&!s))for(k.releaseShapes(),j.shape._mdf=!0,c=j.shape.paths.shapes,v=j.shape.paths._length,g=0;g<v;g+=1)k.addShape(this.processPath(c[g],S));j.shape.paths=j.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function ol(s,c){return Math.abs(s-c)*1e5<=Math.min(Math.abs(s),Math.abs(c))}function Qu(s){return Math.abs(s)<=1e-5}function dm(s,c,d){return s*(1-d)+c*d}function Nn(s,c,d){return[dm(s[0],c[0],d),dm(s[1],c[1],d)]}function PP(s,c,d){if(s===0)return[];var h=c*c-4*s*d;if(h<0)return[];var g=-c/(2*s);if(h===0)return[g];var v=Math.sqrt(h)/(2*s);return[g-v,g+v]}function hm(s,c,d,h){return[-s+3*c-3*d+h,3*s-6*c+3*d,-3*s+3*c,s]}function pm(s){return new yt(s,s,s,s,!1)}function yt(s,c,d,h,g){g&&ca(s,c)&&(c=Nn(s,h,1/3)),g&&ca(d,h)&&(d=Nn(s,h,2/3));var v=hm(s[0],c[0],d[0],h[0]),S=hm(s[1],c[1],d[1],h[1]);this.a=[v[0],S[0]],this.b=[v[1],S[1]],this.c=[v[2],S[2]],this.d=[v[3],S[3]],this.points=[s,c,d,h]}yt.prototype.point=function(s){return[((this.a[0]*s+this.b[0])*s+this.c[0])*s+this.d[0],((this.a[1]*s+this.b[1])*s+this.c[1])*s+this.d[1]]},yt.prototype.derivative=function(s){return[(3*s*this.a[0]+2*this.b[0])*s+this.c[0],(3*s*this.a[1]+2*this.b[1])*s+this.c[1]]},yt.prototype.tangentAngle=function(s){var c=this.derivative(s);return Math.atan2(c[1],c[0])},yt.prototype.normalAngle=function(s){var c=this.derivative(s);return Math.atan2(c[0],c[1])},yt.prototype.inflectionPoints=function(){var s=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(Qu(s))return[];var c=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/s,d=c*c-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/s;if(d<0)return[];var h=Math.sqrt(d);return Qu(h)?h>0&&h<1?[c]:[]:[c-h,c+h].filter(function(g){return g>0&&g<1})},yt.prototype.split=function(s){if(s<=0)return[pm(this.points[0]),this];if(s>=1)return[this,pm(this.points[this.points.length-1])];var c=Nn(this.points[0],this.points[1],s),d=Nn(this.points[1],this.points[2],s),h=Nn(this.points[2],this.points[3],s),g=Nn(c,d,s),v=Nn(d,h,s),S=Nn(g,v,s);return[new yt(this.points[0],c,g,S,!0),new yt(S,v,h,this.points[3],!0)]};function vm(s,c){var d=s.points[0][c],h=s.points[s.points.length-1][c];if(d>h){var g=h;h=d,d=g}for(var v=PP(3*s.a[c],2*s.b[c],s.c[c]),S=0;S<v.length;S+=1)if(v[S]>0&&v[S]<1){var j=s.point(v[S])[c];j<d?d=j:j>h&&(h=j)}return{min:d,max:h}}yt.prototype.bounds=function(){return{x:vm(this,0),y:vm(this,1)}},yt.prototype.boundingBox=function(){var s=this.bounds();return{left:s.x.min,right:s.x.max,top:s.y.min,bottom:s.y.max,width:s.x.max-s.x.min,height:s.y.max-s.y.min,cx:(s.x.max+s.x.min)/2,cy:(s.y.max+s.y.min)/2}};function sl(s,c,d){var h=s.boundingBox();return{cx:h.cx,cy:h.cy,width:h.width,height:h.height,bez:s,t:(c+d)/2,t1:c,t2:d}}function mm(s){var c=s.bez.split(.5);return[sl(c[0],s.t1,s.t),sl(c[1],s.t,s.t2)]}function CP(s,c){return Math.abs(s.cx-c.cx)*2<s.width+c.width&&Math.abs(s.cy-c.cy)*2<s.height+c.height}function wo(s,c,d,h,g,v){if(CP(s,c)){if(d>=v||s.width<=h&&s.height<=h&&c.width<=h&&c.height<=h){g.push([s.t,c.t]);return}var S=mm(s),j=mm(c);wo(S[0],j[0],d+1,h,g,v),wo(S[0],j[1],d+1,h,g,v),wo(S[1],j[0],d+1,h,g,v),wo(S[1],j[1],d+1,h,g,v)}}yt.prototype.intersections=function(s,c,d){c===void 0&&(c=2),d===void 0&&(d=7);var h=[];return wo(sl(this,0,1),sl(s,0,1),0,c,h,d),h},yt.shapeSegment=function(s,c){var d=(c+1)%s.length();return new yt(s.v[c],s.o[c],s.i[d],s.v[d],!0)},yt.shapeSegmentInverted=function(s,c){var d=(c+1)%s.length();return new yt(s.v[d],s.i[d],s.o[c],s.v[c],!0)};function Ku(s,c){return[s[1]*c[2]-s[2]*c[1],s[2]*c[0]-s[0]*c[2],s[0]*c[1]-s[1]*c[0]]}function ll(s,c,d,h){var g=[s[0],s[1],1],v=[c[0],c[1],1],S=[d[0],d[1],1],j=[h[0],h[1],1],k=Ku(Ku(g,v),Ku(S,j));return Qu(k[2])?null:[k[0]/k[2],k[1]/k[2]]}function la(s,c,d){return[s[0]+Math.cos(c)*d,s[1]-Math.sin(c)*d]}function Yu(s,c){return Math.hypot(s[0]-c[0],s[1]-c[1])}function ca(s,c){return ol(s[0],c[0])&&ol(s[1],c[1])}function So(){}m([_r],So),So.prototype.initModifierProperties=function(s,c){this.getValue=this.processKeys,this.amplitude=Se.getProp(s,c.s,0,null,this),this.frequency=Se.getProp(s,c.r,0,null,this),this.pointsType=Se.getProp(s,c.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function gm(s,c,d,h,g,v,S){var j=d-Math.PI/2,k=d+Math.PI/2,$=c[0]+Math.cos(d)*h*g,U=c[1]-Math.sin(d)*h*g;s.setTripleAt($,U,$+Math.cos(j)*v,U-Math.sin(j)*v,$+Math.cos(k)*S,U-Math.sin(k)*S,s.length())}function xP(s,c){var d=[c[0]-s[0],c[1]-s[1]],h=-Math.PI*.5,g=[Math.cos(h)*d[0]-Math.sin(h)*d[1],Math.sin(h)*d[0]+Math.cos(h)*d[1]];return g}function OP(s,c){var d=c===0?s.length()-1:c-1,h=(c+1)%s.length(),g=s.v[d],v=s.v[h],S=xP(g,v);return Math.atan2(0,1)-Math.atan2(S[1],S[0])}function ym(s,c,d,h,g,v,S){var j=OP(c,d),k=c.v[d%c._length],$=c.v[d===0?c._length-1:d-1],U=c.v[(d+1)%c._length],te=v===2?Math.sqrt(Math.pow(k[0]-$[0],2)+Math.pow(k[1]-$[1],2)):0,O=v===2?Math.sqrt(Math.pow(k[0]-U[0],2)+Math.pow(k[1]-U[1],2)):0;gm(s,c.v[d%c._length],j,S,h,O/((g+1)*2),te/((g+1)*2))}function RP(s,c,d,h,g,v){for(var S=0;S<h;S+=1){var j=(S+1)/(h+1),k=g===2?Math.sqrt(Math.pow(c.points[3][0]-c.points[0][0],2)+Math.pow(c.points[3][1]-c.points[0][1],2)):0,$=c.normalAngle(j),U=c.point(j);gm(s,U,$,v,d,k/((h+1)*2),k/((h+1)*2)),v=-v}return v}So.prototype.processPath=function(s,c,d,h){var g=s._length,v=Nt.newElement();if(v.c=s.c,s.c||(g-=1),g===0)return v;var S=-1,j=yt.shapeSegment(s,0);ym(v,s,0,c,d,h,S);for(var k=0;k<g;k+=1)S=RP(v,j,c,d,h,-S),k===g-1&&!s.c?j=null:j=yt.shapeSegment(s,(k+1)%g),ym(v,s,k+1,c,d,h,S);return v},So.prototype.processShapes=function(s){var c,d,h=this.shapes.length,g,v,S=this.amplitude.v,j=Math.max(0,Math.round(this.frequency.v)),k=this.pointsType.v;if(S!==0){var $,U;for(d=0;d<h;d+=1){if($=this.shapes[d],U=$.localShapeCollection,!(!$.shape._mdf&&!this._mdf&&!s))for(U.releaseShapes(),$.shape._mdf=!0,c=$.shape.paths.shapes,v=$.shape.paths._length,g=0;g<v;g+=1)U.addShape(this.processPath(c[g],S,j,k));$.shape.paths=$.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function Xu(s,c,d){var h=Math.atan2(c[0]-s[0],c[1]-s[1]);return[la(s,h,d),la(c,h,d)]}function ua(s,c){var d,h,g,v,S,j,k;k=Xu(s.points[0],s.points[1],c),d=k[0],h=k[1],k=Xu(s.points[1],s.points[2],c),g=k[0],v=k[1],k=Xu(s.points[2],s.points[3],c),S=k[0],j=k[1];var $=ll(d,h,g,v);$===null&&($=h);var U=ll(S,j,g,v);return U===null&&(U=S),new yt(d,$,U,j)}function _m(s,c,d,h,g){var v=c.points[3],S=d.points[0];if(h===3||ca(v,S))return v;if(h===2){var j=-c.tangentAngle(1),k=-d.tangentAngle(0)+Math.PI,$=ll(v,la(v,j+Math.PI/2,100),S,la(S,j+Math.PI/2,100)),U=$?Yu($,v):Yu(v,S)/2,te=la(v,j,2*U*ce);return s.setXYAt(te[0],te[1],"o",s.length()-1),te=la(S,k,2*U*ce),s.setTripleAt(S[0],S[1],S[0],S[1],te[0],te[1],s.length()),S}var O=ca(v,c.points[2])?c.points[0]:c.points[2],z=ca(S,d.points[1])?d.points[3]:d.points[1],Q=ll(O,v,S,z);return Q&&Yu(Q,v)<g?(s.setTripleAt(Q[0],Q[1],Q[0],Q[1],Q[0],Q[1],s.length()),Q):v}function wm(s,c){var d=s.intersections(c);return d.length&&ol(d[0][0],1)&&d.shift(),d.length?d[0]:null}function Sm(s,c){var d=s.slice(),h=c.slice(),g=wm(s[s.length-1],c[0]);return g&&(d[s.length-1]=s[s.length-1].split(g[0])[0],h[0]=c[0].split(g[1])[1]),s.length>1&&c.length>1&&(g=wm(s[0],c[c.length-1]),g)?[[s[0].split(g[0])[0]],[c[c.length-1].split(g[1])[1]]]:[d,h]}function LP(s){for(var c,d=1;d<s.length;d+=1)c=Sm(s[d-1],s[d]),s[d-1]=c[0],s[d]=c[1];return s.length>1&&(c=Sm(s[s.length-1],s[0]),s[s.length-1]=c[0],s[0]=c[1]),s}function km(s,c){var d=s.inflectionPoints(),h,g,v,S;if(d.length===0)return[ua(s,c)];if(d.length===1||ol(d[1],1))return v=s.split(d[0]),h=v[0],g=v[1],[ua(h,c),ua(g,c)];v=s.split(d[0]),h=v[0];var j=(d[1]-d[0])/(1-d[0]);return v=v[1].split(j),S=v[0],g=v[1],[ua(h,c),ua(S,c),ua(g,c)]}function ko(){}m([_r],ko),ko.prototype.initModifierProperties=function(s,c){this.getValue=this.processKeys,this.amount=Se.getProp(s,c.a,0,null,this),this.miterLimit=Se.getProp(s,c.ml,0,null,this),this.lineJoin=c.lj,this._isAnimated=this.amount.effectsSequence.length!==0},ko.prototype.processPath=function(s,c,d,h){var g=Nt.newElement();g.c=s.c;var v=s.length();s.c||(v-=1);var S,j,k,$=[];for(S=0;S<v;S+=1)k=yt.shapeSegment(s,S),$.push(km(k,c));if(!s.c)for(S=v-1;S>=0;S-=1)k=yt.shapeSegmentInverted(s,S),$.push(km(k,c));$=LP($);var U=null,te=null;for(S=0;S<$.length;S+=1){var O=$[S];for(te&&(U=_m(g,te,O[0],d,h)),te=O[O.length-1],j=0;j<O.length;j+=1)k=O[j],U&&ca(k.points[0],U)?g.setXYAt(k.points[1][0],k.points[1][1],"o",g.length()-1):g.setTripleAt(k.points[0][0],k.points[0][1],k.points[1][0],k.points[1][1],k.points[0][0],k.points[0][1],g.length()),g.setTripleAt(k.points[3][0],k.points[3][1],k.points[3][0],k.points[3][1],k.points[2][0],k.points[2][1],g.length()),U=k.points[3]}return $.length&&_m(g,te,$[0][0],d,h),g},ko.prototype.processShapes=function(s){var c,d,h=this.shapes.length,g,v,S=this.amount.v,j=this.miterLimit.v,k=this.lineJoin;if(S!==0){var $,U;for(d=0;d<h;d+=1){if($=this.shapes[d],U=$.localShapeCollection,!(!$.shape._mdf&&!this._mdf&&!s))for(U.releaseShapes(),$.shape._mdf=!0,c=$.shape.paths.shapes,v=$.shape.paths._length,g=0;g<v;g+=1)U.addShape(this.processPath(c[g],S,k,j));$.shape.paths=$.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function bm(s){for(var c=s.fStyle?s.fStyle.split(" "):[],d="normal",h="normal",g=c.length,v,S=0;S<g;S+=1)switch(v=c[S].toLowerCase(),v){case"italic":h="italic";break;case"bold":d="700";break;case"black":d="900";break;case"medium":d="500";break;case"regular":case"normal":d="400";break;case"light":case"thin":d="200";break}return{style:h,weight:s.fWeight||d}}var Ti=function(){var s=5e3,c={w:0,size:0,shapes:[],data:{shapes:[]}},d=[];d=d.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var h=127988,g=917631,v=917601,S=917626,j=65039,k=8205,$=127462,U=127487,te=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function O(D){var G=D.split(","),w,E=G.length,re=[];for(w=0;w<E;w+=1)G[w]!=="sans-serif"&&G[w]!=="monospace"&&re.push(G[w]);return re.join(",")}function z(D,G){var w=p("span");w.setAttribute("aria-hidden",!0),w.style.fontFamily=G;var E=p("span");E.innerText="giItT1WQy@!-/#",w.style.position="absolute",w.style.left="-10000px",w.style.top="-10000px",w.style.fontSize="300px",w.style.fontVariant="normal",w.style.fontStyle="normal",w.style.fontWeight="normal",w.style.letterSpacing="0",w.appendChild(E),document.body.appendChild(w);var re=E.offsetWidth;return E.style.fontFamily=O(D)+", "+G,{node:E,w:re,parent:w}}function Q(){var D,G=this.fonts.length,w,E,re=G;for(D=0;D<G;D+=1)this.fonts[D].loaded?re-=1:this.fonts[D].fOrigin==="n"||this.fonts[D].origin===0?this.fonts[D].loaded=!0:(w=this.fonts[D].monoCase.node,E=this.fonts[D].monoCase.w,w.offsetWidth!==E?(re-=1,this.fonts[D].loaded=!0):(w=this.fonts[D].sansCase.node,E=this.fonts[D].sansCase.w,w.offsetWidth!==E&&(re-=1,this.fonts[D].loaded=!0)),this.fonts[D].loaded&&(this.fonts[D].sansCase.parent.parentNode.removeChild(this.fonts[D].sansCase.parent),this.fonts[D].monoCase.parent.parentNode.removeChild(this.fonts[D].monoCase.parent)));re!==0&&Date.now()-this.initTime<s?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function q(D,G){var w=document.body&&G?"svg":"canvas",E,re=bm(D);if(w==="svg"){var X=Fe("text");X.style.fontSize="100px",X.setAttribute("font-family",D.fFamily),X.setAttribute("font-style",re.style),X.setAttribute("font-weight",re.weight),X.textContent="1",D.fClass?(X.style.fontFamily="inherit",X.setAttribute("class",D.fClass)):X.style.fontFamily=D.fFamily,G.appendChild(X),E=X}else{var be=new OffscreenCanvas(500,500).getContext("2d");be.font=re.style+" "+re.weight+" 100px "+D.fFamily,E=be}function De(Ve){return w==="svg"?(E.textContent=Ve,E.getComputedTextLength()):E.measureText(Ve).width}return{measureText:De}}function J(D,G){if(!D){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=D.list;return}if(!document.body){this.isLoaded=!0,D.list.forEach(function(Jt){Jt.helper=q(Jt),Jt.cache={}}),this.fonts=D.list;return}var w=D.list,E,re=w.length,X=re;for(E=0;E<re;E+=1){var be=!0,De,Ve;if(w[E].loaded=!1,w[E].monoCase=z(w[E].fFamily,"monospace"),w[E].sansCase=z(w[E].fFamily,"sans-serif"),!w[E].fPath)w[E].loaded=!0,X-=1;else if(w[E].fOrigin==="p"||w[E].origin===3){if(De=document.querySelectorAll('style[f-forigin="p"][f-family="'+w[E].fFamily+'"], style[f-origin="3"][f-family="'+w[E].fFamily+'"]'),De.length>0&&(be=!1),be){var Xe=p("style");Xe.setAttribute("f-forigin",w[E].fOrigin),Xe.setAttribute("f-origin",w[E].origin),Xe.setAttribute("f-family",w[E].fFamily),Xe.type="text/css",Xe.innerText="@font-face {font-family: "+w[E].fFamily+"; font-style: normal; src: url('"+w[E].fPath+"');}",G.appendChild(Xe)}}else if(w[E].fOrigin==="g"||w[E].origin===1){for(De=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ve=0;Ve<De.length;Ve+=1)De[Ve].href.indexOf(w[E].fPath)!==-1&&(be=!1);if(be){var Je=p("link");Je.setAttribute("f-forigin",w[E].fOrigin),Je.setAttribute("f-origin",w[E].origin),Je.type="text/css",Je.rel="stylesheet",Je.href=w[E].fPath,document.body.appendChild(Je)}}else if(w[E].fOrigin==="t"||w[E].origin===2){for(De=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ve=0;Ve<De.length;Ve+=1)w[E].fPath===De[Ve].src&&(be=!1);if(be){var bt=p("link");bt.setAttribute("f-forigin",w[E].fOrigin),bt.setAttribute("f-origin",w[E].origin),bt.setAttribute("rel","stylesheet"),bt.setAttribute("href",w[E].fPath),G.appendChild(bt)}}w[E].helper=q(w[E],G),w[E].cache={},this.fonts.push(w[E])}X===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function B(D){if(D){this.chars||(this.chars=[]);var G,w=D.length,E,re=this.chars.length,X;for(G=0;G<w;G+=1){for(E=0,X=!1;E<re;)this.chars[E].style===D[G].style&&this.chars[E].fFamily===D[G].fFamily&&this.chars[E].ch===D[G].ch&&(X=!0),E+=1;X||(this.chars.push(D[G]),re+=1)}}}function F(D,G,w){for(var E=0,re=this.chars.length;E<re;){if(this.chars[E].ch===D&&this.chars[E].style===G&&this.chars[E].fFamily===w)return this.chars[E];E+=1}return(typeof D=="string"&&D.charCodeAt(0)!==13||!D)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",D,G,w)),c}function C(D,G,w){var E=this.getFontByName(G),re=D;if(!E.cache[re]){var X=E.helper;if(D===" "){var be=X.measureText("|"+D+"|"),De=X.measureText("||");E.cache[re]=(be-De)/100}else E.cache[re]=X.measureText(D)/100}return E.cache[re]*w}function I(D){for(var G=0,w=this.fonts.length;G<w;){if(this.fonts[G].fName===D)return this.fonts[G];G+=1}return this.fonts[0]}function V(D){var G=0,w=D.charCodeAt(0);if(w>=55296&&w<=56319){var E=D.charCodeAt(1);E>=56320&&E<=57343&&(G=(w-55296)*1024+E-56320+65536)}return G}function K(D,G){var w=D.toString(16)+G.toString(16);return te.indexOf(w)!==-1}function Z(D){return D===k}function ne(D){return D===j}function he(D){var G=V(D);return G>=$&&G<=U}function $e(D){return he(D.substr(0,2))&&he(D.substr(2,2))}function Re(D){return d.indexOf(D)!==-1}function ye(D,G){var w=V(D.substr(G,2));if(w!==h)return!1;var E=0;for(G+=2;E<5;){if(w=V(D.substr(G,2)),w<v||w>S)return!1;E+=1,G+=2}return V(D.substr(G,2))===g}function Be(){this.isLoaded=!0}var xe=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};xe.isModifier=K,xe.isZeroWidthJoiner=Z,xe.isFlagEmoji=$e,xe.isRegionalCode=he,xe.isCombinedCharacter=Re,xe.isRegionalFlag=ye,xe.isVariationSelector=ne,xe.BLACK_FLAG_CODE_POINT=h;var de={addChars:B,addFonts:J,getCharData:F,getFontByName:I,measureText:C,checkLoadedFonts:Q,setIsLoaded:Be};return xe.prototype=de,xe}();function Tm(s){this.animationData=s}Tm.prototype.getProp=function(s){return this.animationData.slots&&this.animationData.slots[s.sid]?Object.assign(s,this.animationData.slots[s.sid].p):s};function AP(s){return new Tm(s)}function cl(){}cl.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(c){this.renderableComponents.indexOf(c)===-1&&this.renderableComponents.push(c)},removeRenderableComponent:function(c){this.renderableComponents.indexOf(c)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(c),1)},prepareRenderableFrame:function(c){this.checkLayerLimits(c)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(c){this.data.ip-this.data.st<=c&&this.data.op-this.data.st>c?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var c,d=this.renderableComponents.length;for(c=0;c<d;c+=1)this.renderableComponents[c].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var Ju=function(){var s={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(c){return s[c]||""}}();function MP(s,c,d){this.p=Se.getProp(c,s.v,0,0,d)}function IP(s,c,d){this.p=Se.getProp(c,s.v,0,0,d)}function jP(s,c,d){this.p=Se.getProp(c,s.v,1,0,d)}function NP(s,c,d){this.p=Se.getProp(c,s.v,1,0,d)}function DP(s,c,d){this.p=Se.getProp(c,s.v,0,0,d)}function FP(s,c,d){this.p=Se.getProp(c,s.v,0,0,d)}function $P(s,c,d){this.p=Se.getProp(c,s.v,0,0,d)}function VP(){this.p={}}function Em(s,c){var d=s.ef||[];this.effectElements=[];var h,g=d.length,v;for(h=0;h<g;h+=1)v=new bo(d[h],c),this.effectElements.push(v)}function bo(s,c){this.init(s,c)}m([Rt],bo),bo.prototype.getValue=bo.prototype.iterateDynamicProperties,bo.prototype.init=function(s,c){this.data=s,this.effectElements=[],this.initDynamicPropertyContainer(c);var d,h=this.data.ef.length,g,v=this.data.ef;for(d=0;d<h;d+=1){switch(g=null,v[d].ty){case 0:g=new MP(v[d],c,this);break;case 1:g=new IP(v[d],c,this);break;case 2:g=new jP(v[d],c,this);break;case 3:g=new NP(v[d],c,this);break;case 4:case 7:g=new $P(v[d],c,this);break;case 10:g=new DP(v[d],c,this);break;case 11:g=new FP(v[d],c,this);break;case 5:g=new Em(v[d],c);break;default:g=new VP(v[d]);break}g&&this.effectElements.push(g)}};function Dn(){}Dn.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var c=0,d=this.data.masksProperties.length;c<d;){if(this.data.masksProperties[c].mode!=="n"&&this.data.masksProperties[c].cl!==!1)return!0;c+=1}return!1},initExpressions:function(){},setBlendMode:function(){var c=Ju(this.data.bm),d=this.baseElement||this.layerElement;d.style["mix-blend-mode"]=c},initBaseData:function(c,d,h){this.globalData=d,this.comp=h,this.data=c,this.layerId=oe(),this.data.sr||(this.data.sr=1),this.effectsManager=new Em(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function Fn(){}Fn.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(c,d){var h,g=this.dynamicProperties.length;for(h=0;h<g;h+=1)(d||this._isParent&&this.dynamicProperties[h].propType==="transform")&&(this.dynamicProperties[h].getValue(),this.dynamicProperties[h]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(c){this.dynamicProperties.indexOf(c)===-1&&this.dynamicProperties.push(c)}};function $n(s,c,d){this.initFrame(),this.initRenderable(),this.assetData=c.getAssetData(s.refId),this.footageData=c.imageLoader.getAsset(this.assetData),this.initBaseData(s,c,d)}$n.prototype.prepareFrame=function(){},m([cl,Dn,Fn],$n),$n.prototype.getBaseElement=function(){return null},$n.prototype.renderFrame=function(){},$n.prototype.destroy=function(){},$n.prototype.initExpressions=function(){},$n.prototype.getFootageData=function(){return this.footageData};function Xt(s,c,d){this.initFrame(),this.initRenderable(),this.assetData=c.getAssetData(s.refId),this.initBaseData(s,c,d),this._isPlaying=!1,this._canPlay=!1;var h=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(h),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=s.tm?Se.getProp(this,s.tm,0,c.frameRate,this):{_placeholder:!0},this.lv=Se.getProp(this,s.au&&s.au.lv?s.au.lv:{k:[100]},1,.01,this)}Xt.prototype.prepareFrame=function(s){if(this.prepareRenderableFrame(s,!0),this.prepareProperties(s,!0),this.tm._placeholder)this._currentTime=s/this.data.sr;else{var c=this.tm.v;this._currentTime=c}this._volume=this.lv.v[0];var d=this._volume*this._volumeMultiplier;this._previousVolume!==d&&(this._previousVolume=d,this.audio.volume(d))},m([cl,Dn,Fn],Xt),Xt.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},Xt.prototype.show=function(){},Xt.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},Xt.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},Xt.prototype.resume=function(){this._canPlay=!0},Xt.prototype.setRate=function(s){this.audio.rate(s)},Xt.prototype.volume=function(s){this._volumeMultiplier=s,this._previousVolume=s*this._volume,this.audio.volume(this._previousVolume)},Xt.prototype.getBaseElement=function(){return null},Xt.prototype.destroy=function(){},Xt.prototype.sourceRectAtTime=function(){},Xt.prototype.initExpressions=function(){};function Ft(){}Ft.prototype.checkLayers=function(s){var c,d=this.layers.length,h;for(this.completeLayers=!0,c=d-1;c>=0;c-=1)this.elements[c]||(h=this.layers[c],h.ip-h.st<=s-this.layers[c].st&&h.op-h.st>s-this.layers[c].st&&this.buildItem(c)),this.completeLayers=this.elements[c]?this.completeLayers:!1;this.checkPendingElements()},Ft.prototype.createItem=function(s){switch(s.ty){case 2:return this.createImage(s);case 0:return this.createComp(s);case 1:return this.createSolid(s);case 3:return this.createNull(s);case 4:return this.createShape(s);case 5:return this.createText(s);case 6:return this.createAudio(s);case 13:return this.createCamera(s);case 15:return this.createFootage(s);default:return this.createNull(s)}},Ft.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},Ft.prototype.createAudio=function(s){return new Xt(s,this.globalData,this)},Ft.prototype.createFootage=function(s){return new $n(s,this.globalData,this)},Ft.prototype.buildAllItems=function(){var s,c=this.layers.length;for(s=0;s<c;s+=1)this.buildItem(s);this.checkPendingElements()},Ft.prototype.includeLayers=function(s){this.completeLayers=!1;var c,d=s.length,h,g=this.layers.length;for(c=0;c<d;c+=1)for(h=0;h<g;){if(this.layers[h].id===s[c].id){this.layers[h]=s[c];break}h+=1}},Ft.prototype.setProjectInterface=function(s){this.globalData.projectInterface=s},Ft.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},Ft.prototype.buildElementParenting=function(s,c,d){for(var h=this.elements,g=this.layers,v=0,S=g.length;v<S;)g[v].ind==c&&(!h[v]||h[v]===!0?(this.buildItem(v),this.addPendingElement(s)):(d.push(h[v]),h[v].setAsParent(),g[v].parent!==void 0?this.buildElementParenting(s,g[v].parent,d):s.setHierarchy(d))),v+=1},Ft.prototype.addPendingElement=function(s){this.pendingElements.push(s)},Ft.prototype.searchExtraCompositions=function(s){var c,d=s.length;for(c=0;c<d;c+=1)if(s[c].xt){var h=this.createComp(s[c]);h.initExpressions(),this.globalData.projectInterface.registerComposition(h)}},Ft.prototype.getElementById=function(s){var c,d=this.elements.length;for(c=0;c<d;c+=1)if(this.elements[c].data.ind===s)return this.elements[c];return null},Ft.prototype.getElementByPath=function(s){var c=s.shift(),d;if(typeof c=="number")d=this.elements[c];else{var h,g=this.elements.length;for(h=0;h<g;h+=1)if(this.elements[h].data.nm===c){d=this.elements[h];break}}return s.length===0?d:d.getElementByPath(s)},Ft.prototype.setupGlobalData=function(s,c){this.globalData.fontManager=new Ti,this.globalData.slotManager=AP(s),this.globalData.fontManager.addChars(s.chars),this.globalData.fontManager.addFonts(s.fonts,c),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=s.fr,this.globalData.nm=s.nm,this.globalData.compSize={w:s.w,h:s.h}};var BP={TRANSFORM_EFFECT:"transformEFfect"};function fa(){}fa.prototype={initTransform:function(){var c=new Dt;this.finalTransform={mProp:this.data.ks?Gu.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:c,localMat:c,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var c,d=this.finalTransform.mat,h=0,g=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;h<g;){if(this.hierarchy[h].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}h+=1}if(this.finalTransform._matMdf)for(c=this.finalTransform.mProp.v.props,d.cloneFromProps(c),h=0;h<g;h+=1)d.multiply(this.hierarchy[h].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var c=0,d=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;c<d;)this.localTransforms[c]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[c]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),c+=1;if(this.finalTransform._localMatMdf){var h=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(h),c=1;c<d;c+=1){var g=this.localTransforms[c].matrix;h.multiply(g)}h.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var v=this.finalTransform.localOpacity;for(c=0;c<d;c+=1)v*=this.localTransforms[c].opacity*.01;this.finalTransform.localOpacity=v}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var c=this.renderableEffectsManager.getEffects(BP.TRANSFORM_EFFECT);if(c.length){this.localTransforms=[],this.finalTransform.localMat=new Dt;var d=0,h=c.length;for(d=0;d<h;d+=1)this.localTransforms.push(c[d])}}},globalToLocal:function(c){var d=[];d.push(this.finalTransform);for(var h=!0,g=this.comp;h;)g.finalTransform?(g.data.hasMask&&d.splice(0,0,g.finalTransform),g=g.comp):h=!1;var v,S=d.length,j;for(v=0;v<S;v+=1)j=d[v].mat.applyToPointArray(0,0,0),c=[c[0]-j[0],c[1]-j[1],0];return c},mHelper:new Dt};function Ei(s,c,d){this.data=s,this.element=c,this.globalData=d,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var h=this.globalData.defs,g,v=this.masksProperties?this.masksProperties.length:0;this.viewData=L(v),this.solidPath="";var S,j=this.masksProperties,k=0,$=[],U,te,O=oe(),z,Q,q,J,B="clipPath",F="clip-path";for(g=0;g<v;g+=1)if((j[g].mode!=="a"&&j[g].mode!=="n"||j[g].inv||j[g].o.k!==100||j[g].o.x)&&(B="mask",F="mask"),(j[g].mode==="s"||j[g].mode==="i")&&k===0?(z=Fe("rect"),z.setAttribute("fill","#ffffff"),z.setAttribute("width",this.element.comp.data.w||0),z.setAttribute("height",this.element.comp.data.h||0),$.push(z)):z=null,S=Fe("path"),j[g].mode==="n")this.viewData[g]={op:Se.getProp(this.element,j[g].o,0,.01,this.element),prop:il.getShapeProp(this.element,j[g],3),elem:S,lastPath:""},h.appendChild(S);else{k+=1,S.setAttribute("fill",j[g].mode==="s"?"#000000":"#ffffff"),S.setAttribute("clip-rule","nonzero");var C;if(j[g].x.k!==0?(B="mask",F="mask",J=Se.getProp(this.element,j[g].x,0,null,this.element),C=oe(),Q=Fe("filter"),Q.setAttribute("id",C),q=Fe("feMorphology"),q.setAttribute("operator","erode"),q.setAttribute("in","SourceGraphic"),q.setAttribute("radius","0"),Q.appendChild(q),h.appendChild(Q),S.setAttribute("stroke",j[g].mode==="s"?"#000000":"#ffffff")):(q=null,J=null),this.storedData[g]={elem:S,x:J,expan:q,lastPath:"",lastOperator:"",filterId:C,lastRadius:0},j[g].mode==="i"){te=$.length;var I=Fe("g");for(U=0;U<te;U+=1)I.appendChild($[U]);var V=Fe("mask");V.setAttribute("mask-type","alpha"),V.setAttribute("id",O+"_"+k),V.appendChild(S),h.appendChild(V),I.setAttribute("mask","url("+f()+"#"+O+"_"+k+")"),$.length=0,$.push(I)}else $.push(S);j[g].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[g]={elem:S,lastPath:"",op:Se.getProp(this.element,j[g].o,0,.01,this.element),prop:il.getShapeProp(this.element,j[g],3),invRect:z},this.viewData[g].prop.k||this.drawPath(j[g],this.viewData[g].prop.v,this.viewData[g])}for(this.maskElement=Fe(B),v=$.length,g=0;g<v;g+=1)this.maskElement.appendChild($[g]);k>0&&(this.maskElement.setAttribute("id",O),this.element.maskedElement.setAttribute(F,"url("+f()+"#"+O+")"),h.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}Ei.prototype.getMaskProperty=function(s){return this.viewData[s].prop},Ei.prototype.renderFrame=function(s){var c=this.element.finalTransform.mat,d,h=this.masksProperties.length;for(d=0;d<h;d+=1)if((this.viewData[d].prop._mdf||s)&&this.drawPath(this.masksProperties[d],this.viewData[d].prop.v,this.viewData[d]),(this.viewData[d].op._mdf||s)&&this.viewData[d].elem.setAttribute("fill-opacity",this.viewData[d].op.v),this.masksProperties[d].mode!=="n"&&(this.viewData[d].invRect&&(this.element.finalTransform.mProp._mdf||s)&&this.viewData[d].invRect.setAttribute("transform",c.getInverseMatrix().to2dCSS()),this.storedData[d].x&&(this.storedData[d].x._mdf||s))){var g=this.storedData[d].expan;this.storedData[d].x.v<0?(this.storedData[d].lastOperator!=="erode"&&(this.storedData[d].lastOperator="erode",this.storedData[d].elem.setAttribute("filter","url("+f()+"#"+this.storedData[d].filterId+")")),g.setAttribute("radius",-this.storedData[d].x.v)):(this.storedData[d].lastOperator!=="dilate"&&(this.storedData[d].lastOperator="dilate",this.storedData[d].elem.setAttribute("filter",null)),this.storedData[d].elem.setAttribute("stroke-width",this.storedData[d].x.v*2))}},Ei.prototype.getMaskelement=function(){return this.maskElement},Ei.prototype.createLayerSolidPath=function(){var s="M0,0 ";return s+=" h"+this.globalData.compSize.w,s+=" v"+this.globalData.compSize.h,s+=" h-"+this.globalData.compSize.w,s+=" v-"+this.globalData.compSize.h+" ",s},Ei.prototype.drawPath=function(s,c,d){var h=" M"+c.v[0][0]+","+c.v[0][1],g,v;for(v=c._length,g=1;g<v;g+=1)h+=" C"+c.o[g-1][0]+","+c.o[g-1][1]+" "+c.i[g][0]+","+c.i[g][1]+" "+c.v[g][0]+","+c.v[g][1];if(c.c&&v>1&&(h+=" C"+c.o[g-1][0]+","+c.o[g-1][1]+" "+c.i[0][0]+","+c.i[0][1]+" "+c.v[0][0]+","+c.v[0][1]),d.lastPath!==h){var S="";d.elem&&(c.c&&(S=s.inv?this.solidPath+h:h),d.elem.setAttribute("d",S)),d.lastPath=h}},Ei.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var To=function(){var s={};s.createFilter=c,s.createAlphaToLuminanceFilter=d;function c(h,g){var v=Fe("filter");return v.setAttribute("id",h),g!==!0&&(v.setAttribute("filterUnits","objectBoundingBox"),v.setAttribute("x","0%"),v.setAttribute("y","0%"),v.setAttribute("width","100%"),v.setAttribute("height","100%")),v}function d(){var h=Fe("feColorMatrix");return h.setAttribute("type","matrix"),h.setAttribute("color-interpolation-filters","sRGB"),h.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),h}return s}(),Pm=function(){var s={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(s.maskType=!1),/firefox/i.test(navigator.userAgent)&&(s.svgLumaHidden=!1),s}(),Zu={},Cm="filter_result_";function ef(s){var c,d="SourceGraphic",h=s.data.ef?s.data.ef.length:0,g=oe(),v=To.createFilter(g,!0),S=0;this.filters=[];var j;for(c=0;c<h;c+=1){j=null;var k=s.data.ef[c].ty;if(Zu[k]){var $=Zu[k].effect;j=new $(v,s.effectsManager.effectElements[c],s,Cm+S,d),d=Cm+S,Zu[k].countsAsEffect&&(S+=1)}j&&this.filters.push(j)}S&&(s.globalData.defs.appendChild(v),s.layerElement.setAttribute("filter","url("+f()+"#"+g+")")),this.filters.length&&s.addRenderableComponent(this)}ef.prototype.renderFrame=function(s){var c,d=this.filters.length;for(c=0;c<d;c+=1)this.filters[c].renderFrame(s)},ef.prototype.getEffects=function(s){var c,d=this.filters.length,h=[];for(c=0;c<d;c+=1)this.filters[c].type===s&&h.push(this.filters[c]);return h};function Eo(){}Eo.prototype={initRendererElement:function(){this.layerElement=Fe("g")},createContainerElements:function(){this.matteElement=Fe("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var c=null;if(this.data.td){this.matteMasks={};var d=Fe("g");d.setAttribute("id",this.layerId),d.appendChild(this.layerElement),c=d,this.globalData.defs.appendChild(d)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),c=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var h=Fe("clipPath"),g=Fe("path");g.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var v=oe();if(h.setAttribute("id",v),h.appendChild(g),this.globalData.defs.appendChild(h),this.checkMasks()){var S=Fe("g");S.setAttribute("clip-path","url("+f()+"#"+v+")"),S.appendChild(this.layerElement),this.transformedElement=S,c?c.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+f()+"#"+v+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new Ei(this.data,this,this.globalData),this.renderableEffectsManager=new ef(this),this.searchEffectTransforms()},getMatte:function(c){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[c]){var d=this.layerId+"_"+c,h,g,v,S;if(c===1||c===3){var j=Fe("mask");j.setAttribute("id",d),j.setAttribute("mask-type",c===3?"luminance":"alpha"),v=Fe("use"),v.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),j.appendChild(v),this.globalData.defs.appendChild(j),!Pm.maskType&&c===1&&(j.setAttribute("mask-type","luminance"),h=oe(),g=To.createFilter(h),this.globalData.defs.appendChild(g),g.appendChild(To.createAlphaToLuminanceFilter()),S=Fe("g"),S.appendChild(v),j.appendChild(S),S.setAttribute("filter","url("+f()+"#"+h+")"))}else if(c===2){var k=Fe("mask");k.setAttribute("id",d),k.setAttribute("mask-type","alpha");var $=Fe("g");k.appendChild($),h=oe(),g=To.createFilter(h);var U=Fe("feComponentTransfer");U.setAttribute("in","SourceGraphic"),g.appendChild(U);var te=Fe("feFuncA");te.setAttribute("type","table"),te.setAttribute("tableValues","1.0 0.0"),U.appendChild(te),this.globalData.defs.appendChild(g);var O=Fe("rect");O.setAttribute("width",this.comp.data.w),O.setAttribute("height",this.comp.data.h),O.setAttribute("x","0"),O.setAttribute("y","0"),O.setAttribute("fill","#ffffff"),O.setAttribute("opacity","0"),$.setAttribute("filter","url("+f()+"#"+h+")"),$.appendChild(O),v=Fe("use"),v.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),$.appendChild(v),Pm.maskType||(k.setAttribute("mask-type","luminance"),g.appendChild(To.createAlphaToLuminanceFilter()),S=Fe("g"),$.appendChild(O),S.appendChild(this.layerElement),$.appendChild(S)),this.globalData.defs.appendChild(k)}this.matteMasks[c]=d}return this.matteMasks[c]},setMatte:function(c){this.matteElement&&this.matteElement.setAttribute("mask","url("+f()+"#"+c+")")}};function da(){}da.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(c){this.hierarchy=c},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function Po(){}(function(){var s={initElement:function(d,h,g){this.initFrame(),this.initBaseData(d,h,g),this.initTransform(d,h,g),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var d=this.baseElement||this.layerElement;d.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var d=this.baseElement||this.layerElement;d.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(d){this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};m([cl,y(s)],Po)})();function Co(s,c,d){this.assetData=c.getAssetData(s.refId),this.assetData&&this.assetData.sid&&(this.assetData=c.slotManager.getProp(this.assetData)),this.initElement(s,c,d),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}m([Dn,fa,Eo,da,Fn,Po],Co),Co.prototype.createContent=function(){var s=this.globalData.getAssetsPath(this.assetData);this.innerElem=Fe("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",s),this.layerElement.appendChild(this.innerElem)},Co.prototype.sourceRectAtTime=function(){return this.sourceRect};function UP(s,c){this.elem=s,this.pos=c}function xm(){}xm.prototype={addShapeToModifiers:function(c){var d,h=this.shapeModifiers.length;for(d=0;d<h;d+=1)this.shapeModifiers[d].addShape(c)},isShapeInAnimatedModifiers:function(c){for(var d=0,h=this.shapeModifiers.length;d<h;)if(this.shapeModifiers[d].isAnimatedWithShape(c))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var c,d=this.shapes.length;for(c=0;c<d;c+=1)this.shapes[c].sh.reset();d=this.shapeModifiers.length;var h;for(c=d-1;c>=0&&(h=this.shapeModifiers[c].processShapes(this._isFirstFrame),!h);c-=1);}},searchProcessedElement:function(c){for(var d=this.processedElements,h=0,g=d.length;h<g;){if(d[h].elem===c)return d[h].pos;h+=1}return 0},addProcessedElement:function(c,d){for(var h=this.processedElements,g=h.length;g;)if(g-=1,h[g].elem===c){h[g].pos=d;return}h.push(new UP(c,d))},prepareFrame:function(c){this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange)}};var Om={1:"butt",2:"round",3:"square"},Rm={1:"miter",2:"round",3:"bevel"};function Lm(s,c,d){this.caches=[],this.styles=[],this.transformers=s,this.lStr="",this.sh=d,this.lvl=c,this._isAnimated=!!d.k;for(var h=0,g=s.length;h<g;){if(s[h].mProps.dynamicProperties.length){this._isAnimated=!0;break}h+=1}}Lm.prototype.setAsAnimated=function(){this._isAnimated=!0};function Am(s,c){this.data=s,this.type=s.ty,this.d="",this.lvl=c,this._mdf=!1,this.closed=s.hd===!0,this.pElem=Fe("path"),this.msElem=null}Am.prototype.reset=function(){this.d="",this._mdf=!1};function ul(s,c,d,h){this.elem=s,this.frameId=-1,this.dataProps=L(c.length),this.renderer=d,this.k=!1,this.dashStr="",this.dashArray=P("float32",c.length?c.length-1:0),this.dashoffset=P("float32",1),this.initDynamicPropertyContainer(h);var g,v=c.length||0,S;for(g=0;g<v;g+=1)S=Se.getProp(s,c[g].v,0,0,this),this.k=S.k||this.k,this.dataProps[g]={n:c[g].n,p:S};this.k||this.getValue(!0),this._isAnimated=this.k}ul.prototype.getValue=function(s){if(!(this.elem.globalData.frameId===this.frameId&&!s)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||s,this._mdf)){var c=0,d=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),c=0;c<d;c+=1)this.dataProps[c].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[c].p.v:this.dashArray[c]=this.dataProps[c].p.v:this.dashoffset[0]=this.dataProps[c].p.v}},m([Rt],ul);function Mm(s,c,d){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.o=Se.getProp(s,c.o,0,.01,this),this.w=Se.getProp(s,c.w,0,null,this),this.d=new ul(s,c.d||{},"svg",this),this.c=Se.getProp(s,c.c,1,255,this),this.style=d,this._isAnimated=!!this._isAnimated}m([Rt],Mm);function Im(s,c,d){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.o=Se.getProp(s,c.o,0,.01,this),this.c=Se.getProp(s,c.c,1,255,this),this.style=d}m([Rt],Im);function jm(s,c,d){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.style=d}m([Rt],jm);function xo(s,c,d){this.data=c,this.c=P("uint8c",c.p*4);var h=c.k.k[0].s?c.k.k[0].s.length-c.p*4:c.k.k.length-c.p*4;this.o=P("float32",h),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=h,this.initDynamicPropertyContainer(d),this.prop=Se.getProp(s,c.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}xo.prototype.comparePoints=function(s,c){for(var d=0,h=this.o.length/2,g;d<h;){if(g=Math.abs(s[d*4]-s[c*4+d*2]),g>.01)return!1;d+=1}return!0},xo.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var s=0,c=this.data.k.k.length;s<c;){if(!this.comparePoints(this.data.k.k[s].s,this.data.p))return!1;s+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},xo.prototype.getValue=function(s){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||s){var c,d=this.data.p*4,h,g;for(c=0;c<d;c+=1)h=c%4===0?100:255,g=Math.round(this.prop.v[c]*h),this.c[c]!==g&&(this.c[c]=g,this._cmdf=!s);if(this.o.length)for(d=this.prop.v.length,c=this.data.p*4;c<d;c+=1)h=c%2===0?100:1,g=c%2===0?Math.round(this.prop.v[c]*100):this.prop.v[c],this.o[c-this.data.p*4]!==g&&(this.o[c-this.data.p*4]=g,this._omdf=!s);this._mdf=!s}},m([Rt],xo);function ha(s,c,d){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.initGradientData(s,c,d)}ha.prototype.initGradientData=function(s,c,d){this.o=Se.getProp(s,c.o,0,.01,this),this.s=Se.getProp(s,c.s,1,null,this),this.e=Se.getProp(s,c.e,1,null,this),this.h=Se.getProp(s,c.h||{k:0},0,.01,this),this.a=Se.getProp(s,c.a||{k:0},0,ae,this),this.g=new xo(s,c.g,this),this.style=d,this.stops=[],this.setGradientData(d.pElem,c),this.setGradientOpacity(c,d),this._isAnimated=!!this._isAnimated},ha.prototype.setGradientData=function(s,c){var d=oe(),h=Fe(c.t===1?"linearGradient":"radialGradient");h.setAttribute("id",d),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse");var g=[],v,S,j;for(j=c.g.p*4,S=0;S<j;S+=4)v=Fe("stop"),h.appendChild(v),g.push(v);s.setAttribute(c.ty==="gf"?"fill":"stroke","url("+f()+"#"+d+")"),this.gf=h,this.cst=g},ha.prototype.setGradientOpacity=function(s,c){if(this.g._hasOpacity&&!this.g._collapsable){var d,h,g,v=Fe("mask"),S=Fe("path");v.appendChild(S);var j=oe(),k=oe();v.setAttribute("id",k);var $=Fe(s.t===1?"linearGradient":"radialGradient");$.setAttribute("id",j),$.setAttribute("spreadMethod","pad"),$.setAttribute("gradientUnits","userSpaceOnUse"),g=s.g.k.k[0].s?s.g.k.k[0].s.length:s.g.k.k.length;var U=this.stops;for(h=s.g.p*4;h<g;h+=2)d=Fe("stop"),d.setAttribute("stop-color","rgb(255,255,255)"),$.appendChild(d),U.push(d);S.setAttribute(s.ty==="gf"?"fill":"stroke","url("+f()+"#"+j+")"),s.ty==="gs"&&(S.setAttribute("stroke-linecap",Om[s.lc||2]),S.setAttribute("stroke-linejoin",Rm[s.lj||2]),s.lj===1&&S.setAttribute("stroke-miterlimit",s.ml)),this.of=$,this.ms=v,this.ost=U,this.maskId=k,c.msElem=S}},m([Rt],ha);function Nm(s,c,d){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.w=Se.getProp(s,c.w,0,null,this),this.d=new ul(s,c.d||{},"svg",this),this.initGradientData(s,c,d),this._isAnimated=!!this._isAnimated}m([ha,Rt],Nm);function zP(){this.it=[],this.prevViewData=[],this.gr=Fe("g")}function WP(s,c,d){this.transform={mProps:s,op:c,container:d},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var Dm=function(c,d,h,g){if(d===0)return"";var v=c.o,S=c.i,j=c.v,k,$=" M"+g.applyToPointStringified(j[0][0],j[0][1]);for(k=1;k<d;k+=1)$+=" C"+g.applyToPointStringified(v[k-1][0],v[k-1][1])+" "+g.applyToPointStringified(S[k][0],S[k][1])+" "+g.applyToPointStringified(j[k][0],j[k][1]);return h&&d&&($+=" C"+g.applyToPointStringified(v[k-1][0],v[k-1][1])+" "+g.applyToPointStringified(S[0][0],S[0][1])+" "+g.applyToPointStringified(j[0][0],j[0][1]),$+="z"),$},HP=function(){var s=new Dt,c=new Dt,d={createRenderFunction:h};function h(te){switch(te.ty){case"fl":return j;case"gf":return $;case"gs":return k;case"st":return U;case"sh":case"el":case"rc":case"sr":return S;case"tr":return g;case"no":return v;default:return null}}function g(te,O,z){(z||O.transform.op._mdf)&&O.transform.container.setAttribute("opacity",O.transform.op.v),(z||O.transform.mProps._mdf)&&O.transform.container.setAttribute("transform",O.transform.mProps.v.to2dCSS())}function v(){}function S(te,O,z){var Q,q,J,B,F,C,I=O.styles.length,V=O.lvl,K,Z,ne,he;for(C=0;C<I;C+=1){if(B=O.sh._mdf||z,O.styles[C].lvl<V){for(Z=c.reset(),ne=V-O.styles[C].lvl,he=O.transformers.length-1;!B&&ne>0;)B=O.transformers[he].mProps._mdf||B,ne-=1,he-=1;if(B)for(ne=V-O.styles[C].lvl,he=O.transformers.length-1;ne>0;)Z.multiply(O.transformers[he].mProps.v),ne-=1,he-=1}else Z=s;if(K=O.sh.paths,q=K._length,B){for(J="",Q=0;Q<q;Q+=1)F=K.shapes[Q],F&&F._length&&(J+=Dm(F,F._length,F.c,Z));O.caches[C]=J}else J=O.caches[C];O.styles[C].d+=te.hd===!0?"":J,O.styles[C]._mdf=B||O.styles[C]._mdf}}function j(te,O,z){var Q=O.style;(O.c._mdf||z)&&Q.pElem.setAttribute("fill","rgb("+H(O.c.v[0])+","+H(O.c.v[1])+","+H(O.c.v[2])+")"),(O.o._mdf||z)&&Q.pElem.setAttribute("fill-opacity",O.o.v)}function k(te,O,z){$(te,O,z),U(te,O,z)}function $(te,O,z){var Q=O.gf,q=O.g._hasOpacity,J=O.s.v,B=O.e.v;if(O.o._mdf||z){var F=te.ty==="gf"?"fill-opacity":"stroke-opacity";O.style.pElem.setAttribute(F,O.o.v)}if(O.s._mdf||z){var C=te.t===1?"x1":"cx",I=C==="x1"?"y1":"cy";Q.setAttribute(C,J[0]),Q.setAttribute(I,J[1]),q&&!O.g._collapsable&&(O.of.setAttribute(C,J[0]),O.of.setAttribute(I,J[1]))}var V,K,Z,ne;if(O.g._cmdf||z){V=O.cst;var he=O.g.c;for(Z=V.length,K=0;K<Z;K+=1)ne=V[K],ne.setAttribute("offset",he[K*4]+"%"),ne.setAttribute("stop-color","rgb("+he[K*4+1]+","+he[K*4+2]+","+he[K*4+3]+")")}if(q&&(O.g._omdf||z)){var $e=O.g.o;for(O.g._collapsable?V=O.cst:V=O.ost,Z=V.length,K=0;K<Z;K+=1)ne=V[K],O.g._collapsable||ne.setAttribute("offset",$e[K*2]+"%"),ne.setAttribute("stop-opacity",$e[K*2+1])}if(te.t===1)(O.e._mdf||z)&&(Q.setAttribute("x2",B[0]),Q.setAttribute("y2",B[1]),q&&!O.g._collapsable&&(O.of.setAttribute("x2",B[0]),O.of.setAttribute("y2",B[1])));else{var Re;if((O.s._mdf||O.e._mdf||z)&&(Re=Math.sqrt(Math.pow(J[0]-B[0],2)+Math.pow(J[1]-B[1],2)),Q.setAttribute("r",Re),q&&!O.g._collapsable&&O.of.setAttribute("r",Re)),O.e._mdf||O.h._mdf||O.a._mdf||z){Re||(Re=Math.sqrt(Math.pow(J[0]-B[0],2)+Math.pow(J[1]-B[1],2)));var ye=Math.atan2(B[1]-J[1],B[0]-J[0]),Be=O.h.v;Be>=1?Be=.99:Be<=-1&&(Be=-.99);var xe=Re*Be,de=Math.cos(ye+O.a.v)*xe+J[0],D=Math.sin(ye+O.a.v)*xe+J[1];Q.setAttribute("fx",de),Q.setAttribute("fy",D),q&&!O.g._collapsable&&(O.of.setAttribute("fx",de),O.of.setAttribute("fy",D))}}}function U(te,O,z){var Q=O.style,q=O.d;q&&(q._mdf||z)&&q.dashStr&&(Q.pElem.setAttribute("stroke-dasharray",q.dashStr),Q.pElem.setAttribute("stroke-dashoffset",q.dashoffset[0])),O.c&&(O.c._mdf||z)&&Q.pElem.setAttribute("stroke","rgb("+H(O.c.v[0])+","+H(O.c.v[1])+","+H(O.c.v[2])+")"),(O.o._mdf||z)&&Q.pElem.setAttribute("stroke-opacity",O.o.v),(O.w._mdf||z)&&(Q.pElem.setAttribute("stroke-width",O.w.v),Q.msElem&&Q.msElem.setAttribute("stroke-width",O.w.v))}return d}();function wt(s,c,d){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(s,c,d),this.prevViewData=[]}m([Dn,fa,Eo,xm,da,Fn,Po],wt),wt.prototype.initSecondaryElement=function(){},wt.prototype.identityMatrix=new Dt,wt.prototype.buildExpressionInterface=function(){},wt.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},wt.prototype.filterUniqueShapes=function(){var s,c=this.shapes.length,d,h,g=this.stylesList.length,v,S=[],j=!1;for(h=0;h<g;h+=1){for(v=this.stylesList[h],j=!1,S.length=0,s=0;s<c;s+=1)d=this.shapes[s],d.styles.indexOf(v)!==-1&&(S.push(d),j=d._isAnimated||j);S.length>1&&j&&this.setShapesAsAnimated(S)}},wt.prototype.setShapesAsAnimated=function(s){var c,d=s.length;for(c=0;c<d;c+=1)s[c].setAsAnimated()},wt.prototype.createStyleElement=function(s,c){var d,h=new Am(s,c),g=h.pElem;if(s.ty==="st")d=new Mm(this,s,h);else if(s.ty==="fl")d=new Im(this,s,h);else if(s.ty==="gf"||s.ty==="gs"){var v=s.ty==="gf"?ha:Nm;d=new v(this,s,h),this.globalData.defs.appendChild(d.gf),d.maskId&&(this.globalData.defs.appendChild(d.ms),this.globalData.defs.appendChild(d.of),g.setAttribute("mask","url("+f()+"#"+d.maskId+")"))}else s.ty==="no"&&(d=new jm(this,s,h));return(s.ty==="st"||s.ty==="gs")&&(g.setAttribute("stroke-linecap",Om[s.lc||2]),g.setAttribute("stroke-linejoin",Rm[s.lj||2]),g.setAttribute("fill-opacity","0"),s.lj===1&&g.setAttribute("stroke-miterlimit",s.ml)),s.r===2&&g.setAttribute("fill-rule","evenodd"),s.ln&&g.setAttribute("id",s.ln),s.cl&&g.setAttribute("class",s.cl),s.bm&&(g.style["mix-blend-mode"]=Ju(s.bm)),this.stylesList.push(h),this.addToAnimatedContents(s,d),d},wt.prototype.createGroupElement=function(s){var c=new zP;return s.ln&&c.gr.setAttribute("id",s.ln),s.cl&&c.gr.setAttribute("class",s.cl),s.bm&&(c.gr.style["mix-blend-mode"]=Ju(s.bm)),c},wt.prototype.createTransformElement=function(s,c){var d=Gu.getTransformProperty(this,s,this),h=new WP(d,d.o,c);return this.addToAnimatedContents(s,h),h},wt.prototype.createShapeElement=function(s,c,d){var h=4;s.ty==="rc"?h=5:s.ty==="el"?h=6:s.ty==="sr"&&(h=7);var g=il.getShapeProp(this,s,h,this),v=new Lm(c,d,g);return this.shapes.push(v),this.addShapeToModifiers(v),this.addToAnimatedContents(s,v),v},wt.prototype.addToAnimatedContents=function(s,c){for(var d=0,h=this.animatedContents.length;d<h;){if(this.animatedContents[d].element===c)return;d+=1}this.animatedContents.push({fn:HP.createRenderFunction(s),element:c,data:s})},wt.prototype.setElementStyles=function(s){var c=s.styles,d,h=this.stylesList.length;for(d=0;d<h;d+=1)this.stylesList[d].closed||c.push(this.stylesList[d])},wt.prototype.reloadShapes=function(){this._isFirstFrame=!0;var s,c=this.itemsData.length;for(s=0;s<c;s+=1)this.prevViewData[s]=this.itemsData[s];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),c=this.dynamicProperties.length,s=0;s<c;s+=1)this.dynamicProperties[s].getValue();this.renderModifiers()},wt.prototype.searchShapes=function(s,c,d,h,g,v,S){var j=[].concat(v),k,$=s.length-1,U,te,O=[],z=[],Q,q,J;for(k=$;k>=0;k-=1){if(J=this.searchProcessedElement(s[k]),J?c[k]=d[J-1]:s[k]._render=S,s[k].ty==="fl"||s[k].ty==="st"||s[k].ty==="gf"||s[k].ty==="gs"||s[k].ty==="no")J?c[k].style.closed=!1:c[k]=this.createStyleElement(s[k],g),s[k]._render&&c[k].style.pElem.parentNode!==h&&h.appendChild(c[k].style.pElem),O.push(c[k].style);else if(s[k].ty==="gr"){if(!J)c[k]=this.createGroupElement(s[k]);else for(te=c[k].it.length,U=0;U<te;U+=1)c[k].prevViewData[U]=c[k].it[U];this.searchShapes(s[k].it,c[k].it,c[k].prevViewData,c[k].gr,g+1,j,S),s[k]._render&&c[k].gr.parentNode!==h&&h.appendChild(c[k].gr)}else s[k].ty==="tr"?(J||(c[k]=this.createTransformElement(s[k],h)),Q=c[k].transform,j.push(Q)):s[k].ty==="sh"||s[k].ty==="rc"||s[k].ty==="el"||s[k].ty==="sr"?(J||(c[k]=this.createShapeElement(s[k],j,g)),this.setElementStyles(c[k])):s[k].ty==="tm"||s[k].ty==="rd"||s[k].ty==="ms"||s[k].ty==="pb"||s[k].ty==="zz"||s[k].ty==="op"?(J?(q=c[k],q.closed=!1):(q=jn.getModifier(s[k].ty),q.init(this,s[k]),c[k]=q,this.shapeModifiers.push(q)),z.push(q)):s[k].ty==="rp"&&(J?(q=c[k],q.closed=!0):(q=jn.getModifier(s[k].ty),c[k]=q,q.init(this,s,k,c),this.shapeModifiers.push(q),S=!1),z.push(q));this.addProcessedElement(s[k],k+1)}for($=O.length,k=0;k<$;k+=1)O[k].closed=!0;for($=z.length,k=0;k<$;k+=1)z[k].closed=!0},wt.prototype.renderInnerContent=function(){this.renderModifiers();var s,c=this.stylesList.length;for(s=0;s<c;s+=1)this.stylesList[s].reset();for(this.renderShape(),s=0;s<c;s+=1)(this.stylesList[s]._mdf||this._isFirstFrame)&&(this.stylesList[s].msElem&&(this.stylesList[s].msElem.setAttribute("d",this.stylesList[s].d),this.stylesList[s].d="M0 0"+this.stylesList[s].d),this.stylesList[s].pElem.setAttribute("d",this.stylesList[s].d||"M0 0"))},wt.prototype.renderShape=function(){var s,c=this.animatedContents.length,d;for(s=0;s<c;s+=1)d=this.animatedContents[s],(this._isFirstFrame||d.element._isAnimated)&&d.data!==!0&&d.fn(d.data,d.element,this._isFirstFrame)},wt.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function tf(s,c,d,h,g,v){this.o=s,this.sw=c,this.sc=d,this.fc=h,this.m=g,this.p=v,this._mdf={o:!0,sw:!!c,sc:!!d,fc:!!h,m:!0,p:!0}}tf.prototype.update=function(s,c,d,h,g,v){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var S=!1;return this.o!==s&&(this.o=s,this._mdf.o=!0,S=!0),this.sw!==c&&(this.sw=c,this._mdf.sw=!0,S=!0),this.sc!==d&&(this.sc=d,this._mdf.sc=!0,S=!0),this.fc!==h&&(this.fc=h,this._mdf.fc=!0,S=!0),this.m!==g&&(this.m=g,this._mdf.m=!0,S=!0),v.length&&(this.p[0]!==v[0]||this.p[1]!==v[1]||this.p[4]!==v[4]||this.p[5]!==v[5]||this.p[12]!==v[12]||this.p[13]!==v[13])&&(this.p=v,this._mdf.p=!0,S=!0),S};function Wt(s,c){this._frameId=a,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,c.d&&c.d.sid&&(c.d=s.globalData.slotManager.getProp(c.d)),this.data=c,this.elem=s,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}Wt.prototype.defaultBoxWidth=[0,0],Wt.prototype.copyData=function(s,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d]);return s},Wt.prototype.setCurrentData=function(s){s.__complete||this.completeTextData(s),this.currentData=s,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},Wt.prototype.searchProperty=function(){return this.searchKeyframes()},Wt.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},Wt.prototype.addEffect=function(s){this.effectsSequence.push(s),this.elem.addDynamicProperty(this)},Wt.prototype.getValue=function(s){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!s)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var c=this.currentData,d=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var h,g=this.effectsSequence.length,v=s||this.data.d.k[this.keysIndex].s;for(h=0;h<g;h+=1)d!==this.keysIndex?v=this.effectsSequence[h](v,v.t):v=this.effectsSequence[h](this.currentData,v.t);c!==v&&this.setCurrentData(v),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},Wt.prototype.getKeyframeValue=function(){for(var s=this.data.d.k,c=this.elem.comp.renderedFrame,d=0,h=s.length;d<=h-1&&!(d===h-1||s[d+1].t>c);)d+=1;return this.keysIndex!==d&&(this.keysIndex=d),this.data.d.k[this.keysIndex].s},Wt.prototype.buildFinalText=function(s){for(var c=[],d=0,h=s.length,g,v,S=!1,j=!1,k="";d<h;)S=j,j=!1,g=s.charCodeAt(d),k=s.charAt(d),Ti.isCombinedCharacter(g)?S=!0:g>=55296&&g<=56319?Ti.isRegionalFlag(s,d)?k=s.substr(d,14):(v=s.charCodeAt(d+1),v>=56320&&v<=57343&&(Ti.isModifier(g,v)?(k=s.substr(d,2),S=!0):Ti.isFlagEmoji(s.substr(d,4))?k=s.substr(d,4):k=s.substr(d,2))):g>56319?(v=s.charCodeAt(d+1),Ti.isVariationSelector(g)&&(S=!0)):Ti.isZeroWidthJoiner(g)&&(S=!0,j=!0),S?(c[c.length-1]+=k,S=!1):c.push(k),d+=k.length;return c},Wt.prototype.completeTextData=function(s){s.__complete=!0;var c=this.elem.globalData.fontManager,d=this.data,h=[],g,v,S,j=0,k,$=d.m.g,U=0,te=0,O=0,z=[],Q=0,q=0,J,B,F=c.getFontByName(s.f),C,I=0,V=bm(F);s.fWeight=V.weight,s.fStyle=V.style,s.finalSize=s.s,s.finalText=this.buildFinalText(s.t),v=s.finalText.length,s.finalLineHeight=s.lh;var K=s.tr/1e3*s.finalSize,Z;if(s.sz)for(var ne=!0,he=s.sz[0],$e=s.sz[1],Re,ye;ne;){ye=this.buildFinalText(s.t),Re=0,Q=0,v=ye.length,K=s.tr/1e3*s.finalSize;var Be=-1;for(g=0;g<v;g+=1)Z=ye[g].charCodeAt(0),S=!1,ye[g]===" "?Be=g:(Z===13||Z===3)&&(Q=0,S=!0,Re+=s.finalLineHeight||s.finalSize*1.2),c.chars?(C=c.getCharData(ye[g],F.fStyle,F.fFamily),I=S?0:C.w*s.finalSize/100):I=c.measureText(ye[g],s.f,s.finalSize),Q+I>he&&ye[g]!==" "?(Be===-1?v+=1:g=Be,Re+=s.finalLineHeight||s.finalSize*1.2,ye.splice(g,Be===g?1:0,"\r"),Be=-1,Q=0):(Q+=I,Q+=K);Re+=F.ascent*s.finalSize/100,this.canResize&&s.finalSize>this.minimumFontSize&&$e<Re?(s.finalSize-=1,s.finalLineHeight=s.finalSize*s.lh/s.s):(s.finalText=ye,v=s.finalText.length,ne=!1)}Q=-K,I=0;var xe=0,de;for(g=0;g<v;g+=1)if(S=!1,de=s.finalText[g],Z=de.charCodeAt(0),Z===13||Z===3?(xe=0,z.push(Q),q=Q>q?Q:q,Q=-2*K,k="",S=!0,O+=1):k=de,c.chars?(C=c.getCharData(de,F.fStyle,c.getFontByName(s.f).fFamily),I=S?0:C.w*s.finalSize/100):I=c.measureText(k,s.f,s.finalSize),de===" "?xe+=I+K:(Q+=I+K+xe,xe=0),h.push({l:I,an:I,add:U,n:S,anIndexes:[],val:k,line:O,animatorJustifyOffset:0}),$==2){if(U+=I,k===""||k===" "||g===v-1){for((k===""||k===" ")&&(U-=I);te<=g;)h[te].an=U,h[te].ind=j,h[te].extra=I,te+=1;j+=1,U=0}}else if($==3){if(U+=I,k===""||g===v-1){for(k===""&&(U-=I);te<=g;)h[te].an=U,h[te].ind=j,h[te].extra=I,te+=1;U=0,j+=1}}else h[j].ind=j,h[j].extra=0,j+=1;if(s.l=h,q=Q>q?Q:q,z.push(Q),s.sz)s.boxWidth=s.sz[0],s.justifyOffset=0;else switch(s.boxWidth=q,s.j){case 1:s.justifyOffset=-s.boxWidth;break;case 2:s.justifyOffset=-s.boxWidth/2;break;default:s.justifyOffset=0}s.lineWidths=z;var D=d.a,G,w;B=D.length;var E,re,X=[];for(J=0;J<B;J+=1){for(G=D[J],G.a.sc&&(s.strokeColorAnim=!0),G.a.sw&&(s.strokeWidthAnim=!0),(G.a.fc||G.a.fh||G.a.fs||G.a.fb)&&(s.fillColorAnim=!0),re=0,E=G.s.b,g=0;g<v;g+=1)w=h[g],w.anIndexes[J]=re,(E==1&&w.val!==""||E==2&&w.val!==""&&w.val!==" "||E==3&&(w.n||w.val==" "||g==v-1)||E==4&&(w.n||g==v-1))&&(G.s.rn===1&&X.push(re),re+=1);d.a[J].s.totalChars=re;var be=-1,De;if(G.s.rn===1)for(g=0;g<v;g+=1)w=h[g],be!=w.anIndexes[J]&&(be=w.anIndexes[J],De=X.splice(Math.floor(Math.random()*X.length),1)[0]),w.anIndexes[J]=De}s.yOffset=s.finalLineHeight||s.finalSize*1.2,s.ls=s.ls||0,s.ascent=F.ascent*s.finalSize/100},Wt.prototype.updateDocumentData=function(s,c){c=c===void 0?this.keysIndex:c;var d=this.copyData({},this.data.d.k[c].s);d=this.copyData(d,s),this.data.d.k[c].s=d,this.recalculate(c),this.setCurrentData(d),this.elem.addDynamicProperty(this)},Wt.prototype.recalculate=function(s){var c=this.data.d.k[s].s;c.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(c)},Wt.prototype.canResizeFont=function(s){this.canResize=s,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},Wt.prototype.setMinimumFontSize=function(s){this.minimumFontSize=Math.floor(s)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var qP=function(){var s=Math.max,c=Math.min,d=Math.floor;function h(v,S){this._currentTextLength=-1,this.k=!1,this.data=S,this.elem=v,this.comp=v.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(v),this.s=Se.getProp(v,S.s||{k:0},0,0,this),"e"in S?this.e=Se.getProp(v,S.e,0,0,this):this.e={v:100},this.o=Se.getProp(v,S.o||{k:0},0,0,this),this.xe=Se.getProp(v,S.xe||{k:0},0,0,this),this.ne=Se.getProp(v,S.ne||{k:0},0,0,this),this.sm=Se.getProp(v,S.sm||{k:100},0,0,this),this.a=Se.getProp(v,S.a,0,.01,this),this.dynamicProperties.length||this.getValue()}h.prototype={getMult:function(S){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var j=0,k=0,$=1,U=1;this.ne.v>0?j=this.ne.v/100:k=-this.ne.v/100,this.xe.v>0?$=1-this.xe.v/100:U=1+this.xe.v/100;var te=go.getBezierEasing(j,k,$,U).get,O=0,z=this.finalS,Q=this.finalE,q=this.data.sh;if(q===2)Q===z?O=S>=Q?1:0:O=s(0,c(.5/(Q-z)+(S-z)/(Q-z),1)),O=te(O);else if(q===3)Q===z?O=S>=Q?0:1:O=1-s(0,c(.5/(Q-z)+(S-z)/(Q-z),1)),O=te(O);else if(q===4)Q===z?O=0:(O=s(0,c(.5/(Q-z)+(S-z)/(Q-z),1)),O<.5?O*=2:O=1-2*(O-.5)),O=te(O);else if(q===5){if(Q===z)O=0;else{var J=Q-z;S=c(s(0,S+.5-z),Q-z);var B=-J/2+S,F=J/2;O=Math.sqrt(1-B*B/(F*F))}O=te(O)}else q===6?(Q===z?O=0:(S=c(s(0,S+.5-z),Q-z),O=(1+Math.cos(Math.PI+Math.PI*2*S/(Q-z)))/2),O=te(O)):(S>=d(z)&&(S-z<0?O=s(0,c(c(Q,1)-(z-S),1)):O=s(0,c(Q-S,1))),O=te(O));if(this.sm.v!==100){var C=this.sm.v*.01;C===0&&(C=1e-8);var I=.5-C*.5;O<I?O=0:(O=(O-I)/C,O>1&&(O=1))}return O*this.a.v},getValue:function(S){this.iterateDynamicProperties(),this._mdf=S||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,S&&this.data.r===2&&(this.e.v=this._currentTextLength);var j=this.data.r===2?1:100/this.data.totalChars,k=this.o.v/j,$=this.s.v/j+k,U=this.e.v/j+k;if($>U){var te=$;$=U,U=te}this.finalS=$,this.finalE=U}},m([Rt],h);function g(v,S,j){return new h(v,S)}return{getTextSelectorProp:g}}();function GP(s,c,d){var h={propType:!1},g=Se.getProp,v=c.a;this.a={r:v.r?g(s,v.r,0,ae,d):h,rx:v.rx?g(s,v.rx,0,ae,d):h,ry:v.ry?g(s,v.ry,0,ae,d):h,sk:v.sk?g(s,v.sk,0,ae,d):h,sa:v.sa?g(s,v.sa,0,ae,d):h,s:v.s?g(s,v.s,1,.01,d):h,a:v.a?g(s,v.a,1,0,d):h,o:v.o?g(s,v.o,0,.01,d):h,p:v.p?g(s,v.p,1,0,d):h,sw:v.sw?g(s,v.sw,0,0,d):h,sc:v.sc?g(s,v.sc,1,0,d):h,fc:v.fc?g(s,v.fc,1,0,d):h,fh:v.fh?g(s,v.fh,0,0,d):h,fs:v.fs?g(s,v.fs,0,.01,d):h,fb:v.fb?g(s,v.fb,0,.01,d):h,t:v.t?g(s,v.t,0,0,d):h},this.s=qP.getTextSelectorProp(s,c.s,d),this.s.t=c.s.t}function Pi(s,c,d){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=s,this._renderType=c,this._elem=d,this._animatorsData=L(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(d)}Pi.prototype.searchProperties=function(){var s,c=this._textData.a.length,d,h=Se.getProp;for(s=0;s<c;s+=1)d=this._textData.a[s],this._animatorsData[s]=new GP(this._elem,d,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:h(this._elem,this._textData.p.a,0,0,this),f:h(this._elem,this._textData.p.f,0,0,this),l:h(this._elem,this._textData.p.l,0,0,this),r:h(this._elem,this._textData.p.r,0,0,this),p:h(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=h(this._elem,this._textData.m.a,1,0,this)},Pi.prototype.getMeasures=function(s,c){if(this.lettersChangedFlag=c,!(!this._mdf&&!this._isFirstFrame&&!c&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var d=this._moreOptions.alignment.v,h=this._animatorsData,g=this._textData,v=this.mHelper,S=this._renderType,j=this.renderedLetters.length,k,$,U,te,O=s.l,z,Q,q,J,B,F,C,I,V,K,Z,ne,he,$e,Re;if(this._hasMaskedPath){if(Re=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ye=Re.v;this._pathData.r.v&&(ye=ye.reverse()),z={tLength:0,segments:[]},te=ye._length-1;var Be;for(ne=0,U=0;U<te;U+=1)Be=Hr.buildBezierData(ye.v[U],ye.v[U+1],[ye.o[U][0]-ye.v[U][0],ye.o[U][1]-ye.v[U][1]],[ye.i[U+1][0]-ye.v[U+1][0],ye.i[U+1][1]-ye.v[U+1][1]]),z.tLength+=Be.segmentLength,z.segments.push(Be),ne+=Be.segmentLength;U=te,Re.v.c&&(Be=Hr.buildBezierData(ye.v[U],ye.v[0],[ye.o[U][0]-ye.v[U][0],ye.o[U][1]-ye.v[U][1]],[ye.i[0][0]-ye.v[0][0],ye.i[0][1]-ye.v[0][1]]),z.tLength+=Be.segmentLength,z.segments.push(Be),ne+=Be.segmentLength),this._pathData.pi=z}if(z=this._pathData.pi,Q=this._pathData.f.v,C=0,F=1,J=0,B=!0,K=z.segments,Q<0&&Re.v.c)for(z.tLength<Math.abs(Q)&&(Q=-Math.abs(Q)%z.tLength),C=K.length-1,V=K[C].points,F=V.length-1;Q<0;)Q+=V[F].partialLength,F-=1,F<0&&(C-=1,V=K[C].points,F=V.length-1);V=K[C].points,I=V[F-1],q=V[F],Z=q.partialLength}te=O.length,k=0,$=0;var xe=s.finalSize*1.2*.714,de=!0,D,G,w,E,re;E=h.length;var X,be=-1,De,Ve,Xe,Je=Q,bt=C,Jt=F,Gr=-1,Zt,Lt,ur,it,Oe,dn,Bn,hn,Qr="",pn=this.defaultPropsArray,vn;if(s.j===2||s.j===1){var er=0,Un=0,zn=s.j===2?-.5:-1,Ar=0,Wn=!0;for(U=0;U<te;U+=1)if(O[U].n){for(er&&(er+=Un);Ar<U;)O[Ar].animatorJustifyOffset=er,Ar+=1;er=0,Wn=!0}else{for(w=0;w<E;w+=1)D=h[w].a,D.t.propType&&(Wn&&s.j===2&&(Un+=D.t.v*zn),G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),X.length?er+=D.t.v*X[0]*zn:er+=D.t.v*X*zn);Wn=!1}for(er&&(er+=Un);Ar<U;)O[Ar].animatorJustifyOffset=er,Ar+=1}for(U=0;U<te;U+=1){if(v.reset(),Zt=1,O[U].n)k=0,$+=s.yOffset,$+=de?1:0,Q=Je,de=!1,this._hasMaskedPath&&(C=bt,F=Jt,V=K[C].points,I=V[F-1],q=V[F],Z=q.partialLength,J=0),Qr="",hn="",dn="",vn="",pn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Gr!==O[U].line){switch(s.j){case 1:Q+=ne-s.lineWidths[O[U].line];break;case 2:Q+=(ne-s.lineWidths[O[U].line])/2;break}Gr=O[U].line}be!==O[U].ind&&(O[be]&&(Q+=O[be].extra),Q+=O[U].an/2,be=O[U].ind),Q+=d[0]*O[U].an*.005;var Mr=0;for(w=0;w<E;w+=1)D=h[w].a,D.p.propType&&(G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),X.length?Mr+=D.p.v[0]*X[0]:Mr+=D.p.v[0]*X),D.a.propType&&(G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),X.length?Mr+=D.a.v[0]*X[0]:Mr+=D.a.v[0]*X);for(B=!0,this._pathData.a.v&&(Q=O[0].an*.5+(ne-this._pathData.f.v-O[0].an*.5-O[O.length-1].an*.5)*be/(te-1),Q+=this._pathData.f.v);B;)J+Z>=Q+Mr||!V?(he=(Q+Mr-J)/q.partialLength,Ve=I.point[0]+(q.point[0]-I.point[0])*he,Xe=I.point[1]+(q.point[1]-I.point[1])*he,v.translate(-d[0]*O[U].an*.005,-(d[1]*xe)*.01),B=!1):V&&(J+=q.partialLength,F+=1,F>=V.length&&(F=0,C+=1,K[C]?V=K[C].points:Re.v.c?(F=0,C=0,V=K[C].points):(J-=q.partialLength,V=null)),V&&(I=q,q=V[F],Z=q.partialLength));De=O[U].an/2-O[U].add,v.translate(-De,0,0)}else De=O[U].an/2-O[U].add,v.translate(-De,0,0),v.translate(-d[0]*O[U].an*.005,-d[1]*xe*.01,0);for(w=0;w<E;w+=1)D=h[w].a,D.t.propType&&(G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),(k!==0||s.j!==0)&&(this._hasMaskedPath?X.length?Q+=D.t.v*X[0]:Q+=D.t.v*X:X.length?k+=D.t.v*X[0]:k+=D.t.v*X));for(s.strokeWidthAnim&&(ur=s.sw||0),s.strokeColorAnim&&(s.sc?Lt=[s.sc[0],s.sc[1],s.sc[2]]:Lt=[0,0,0]),s.fillColorAnim&&s.fc&&(it=[s.fc[0],s.fc[1],s.fc[2]]),w=0;w<E;w+=1)D=h[w].a,D.a.propType&&(G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),X.length?v.translate(-D.a.v[0]*X[0],-D.a.v[1]*X[1],D.a.v[2]*X[2]):v.translate(-D.a.v[0]*X,-D.a.v[1]*X,D.a.v[2]*X));for(w=0;w<E;w+=1)D=h[w].a,D.s.propType&&(G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),X.length?v.scale(1+(D.s.v[0]-1)*X[0],1+(D.s.v[1]-1)*X[1],1):v.scale(1+(D.s.v[0]-1)*X,1+(D.s.v[1]-1)*X,1));for(w=0;w<E;w+=1){if(D=h[w].a,G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),D.sk.propType&&(X.length?v.skewFromAxis(-D.sk.v*X[0],D.sa.v*X[1]):v.skewFromAxis(-D.sk.v*X,D.sa.v*X)),D.r.propType&&(X.length?v.rotateZ(-D.r.v*X[2]):v.rotateZ(-D.r.v*X)),D.ry.propType&&(X.length?v.rotateY(D.ry.v*X[1]):v.rotateY(D.ry.v*X)),D.rx.propType&&(X.length?v.rotateX(D.rx.v*X[0]):v.rotateX(D.rx.v*X)),D.o.propType&&(X.length?Zt+=(D.o.v*X[0]-Zt)*X[0]:Zt+=(D.o.v*X-Zt)*X),s.strokeWidthAnim&&D.sw.propType&&(X.length?ur+=D.sw.v*X[0]:ur+=D.sw.v*X),s.strokeColorAnim&&D.sc.propType)for(Oe=0;Oe<3;Oe+=1)X.length?Lt[Oe]+=(D.sc.v[Oe]-Lt[Oe])*X[0]:Lt[Oe]+=(D.sc.v[Oe]-Lt[Oe])*X;if(s.fillColorAnim&&s.fc){if(D.fc.propType)for(Oe=0;Oe<3;Oe+=1)X.length?it[Oe]+=(D.fc.v[Oe]-it[Oe])*X[0]:it[Oe]+=(D.fc.v[Oe]-it[Oe])*X;D.fh.propType&&(X.length?it=Ke(it,D.fh.v*X[0]):it=Ke(it,D.fh.v*X)),D.fs.propType&&(X.length?it=je(it,D.fs.v*X[0]):it=je(it,D.fs.v*X)),D.fb.propType&&(X.length?it=qe(it,D.fb.v*X[0]):it=qe(it,D.fb.v*X))}}for(w=0;w<E;w+=1)D=h[w].a,D.p.propType&&(G=h[w].s,X=G.getMult(O[U].anIndexes[w],g.a[w].s.totalChars),this._hasMaskedPath?X.length?v.translate(0,D.p.v[1]*X[0],-D.p.v[2]*X[1]):v.translate(0,D.p.v[1]*X,-D.p.v[2]*X):X.length?v.translate(D.p.v[0]*X[0],D.p.v[1]*X[1],-D.p.v[2]*X[2]):v.translate(D.p.v[0]*X,D.p.v[1]*X,-D.p.v[2]*X));if(s.strokeWidthAnim&&(dn=ur<0?0:ur),s.strokeColorAnim&&(Bn="rgb("+Math.round(Lt[0]*255)+","+Math.round(Lt[1]*255)+","+Math.round(Lt[2]*255)+")"),s.fillColorAnim&&s.fc&&(hn="rgb("+Math.round(it[0]*255)+","+Math.round(it[1]*255)+","+Math.round(it[2]*255)+")"),this._hasMaskedPath){if(v.translate(0,-s.ls),v.translate(0,d[1]*xe*.01+$,0),this._pathData.p.v){$e=(q.point[1]-I.point[1])/(q.point[0]-I.point[0]);var Ci=Math.atan($e)*180/Math.PI;q.point[0]<I.point[0]&&(Ci+=180),v.rotate(-Ci*Math.PI/180)}v.translate(Ve,Xe,0),Q-=d[0]*O[U].an*.005,O[U+1]&&be!==O[U+1].ind&&(Q+=O[U].an/2,Q+=s.tr*.001*s.finalSize)}else{switch(v.translate(k,$,0),s.ps&&v.translate(s.ps[0],s.ps[1]+s.ascent,0),s.j){case 1:v.translate(O[U].animatorJustifyOffset+s.justifyOffset+(s.boxWidth-s.lineWidths[O[U].line]),0,0);break;case 2:v.translate(O[U].animatorJustifyOffset+s.justifyOffset+(s.boxWidth-s.lineWidths[O[U].line])/2,0,0);break}v.translate(0,-s.ls),v.translate(De,0,0),v.translate(d[0]*O[U].an*.005,d[1]*xe*.01,0),k+=O[U].l+s.tr*.001*s.finalSize}S==="html"?Qr=v.toCSS():S==="svg"?Qr=v.to2dCSS():pn=[v.props[0],v.props[1],v.props[2],v.props[3],v.props[4],v.props[5],v.props[6],v.props[7],v.props[8],v.props[9],v.props[10],v.props[11],v.props[12],v.props[13],v.props[14],v.props[15]],vn=Zt}j<=U?(re=new tf(vn,dn,Bn,hn,Qr,pn),this.renderedLetters.push(re),j+=1,this.lettersChangedFlag=!0):(re=this.renderedLetters[U],this.lettersChangedFlag=re.update(vn,dn,Bn,hn,Qr,pn)||this.lettersChangedFlag)}}},Pi.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},Pi.prototype.mHelper=new Dt,Pi.prototype.defaultPropsArray=[],m([Rt],Pi);function wr(){}wr.prototype.initElement=function(s,c,d){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(s,c,d),this.textProperty=new Wt(this,s.t,this.dynamicProperties),this.textAnimator=new Pi(s.t,this.renderType,this),this.initTransform(s,c,d),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},wr.prototype.prepareFrame=function(s){this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange)},wr.prototype.createPathShape=function(s,c){var d,h=c.length,g,v="";for(d=0;d<h;d+=1)c[d].ty==="sh"&&(g=c[d].ks.k,v+=Dm(g,g.i.length,!0,s));return v},wr.prototype.updateDocumentData=function(s,c){this.textProperty.updateDocumentData(s,c)},wr.prototype.canResizeFont=function(s){this.textProperty.canResizeFont(s)},wr.prototype.setMinimumFontSize=function(s){this.textProperty.setMinimumFontSize(s)},wr.prototype.applyTextPropertiesToMatrix=function(s,c,d,h,g){switch(s.ps&&c.translate(s.ps[0],s.ps[1]+s.ascent,0),c.translate(0,-s.ls,0),s.j){case 1:c.translate(s.justifyOffset+(s.boxWidth-s.lineWidths[d]),0,0);break;case 2:c.translate(s.justifyOffset+(s.boxWidth-s.lineWidths[d])/2,0,0);break}c.translate(h,g,0)},wr.prototype.buildColor=function(s){return"rgb("+Math.round(s[0]*255)+","+Math.round(s[1]*255)+","+Math.round(s[2]*255)+")"},wr.prototype.emptyProp=new tf,wr.prototype.destroy=function(){},wr.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var QP={shapes:[]};function un(s,c,d){this.textSpans=[],this.renderType="svg",this.initElement(s,c,d)}m([Dn,fa,Eo,da,Fn,Po,wr],un),un.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=Fe("text"))},un.prototype.buildTextContents=function(s){for(var c=0,d=s.length,h=[],g="";c<d;)s[c]==="\r"||s[c]===""?(h.push(g),g=""):g+=s[c],c+=1;return h.push(g),h},un.prototype.buildShapeData=function(s,c){if(s.shapes&&s.shapes.length){var d=s.shapes[0];if(d.it){var h=d.it[d.it.length-1];h.s&&(h.s.k[0]=c,h.s.k[1]=c)}}return s},un.prototype.buildNewText=function(){this.addDynamicProperty(this);var s,c,d=this.textProperty.currentData;this.renderedLetters=L(d?d.l.length:0),d.fc?this.layerElement.setAttribute("fill",this.buildColor(d.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),d.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(d.sc)),this.layerElement.setAttribute("stroke-width",d.sw)),this.layerElement.setAttribute("font-size",d.finalSize);var h=this.globalData.fontManager.getFontByName(d.f);if(h.fClass)this.layerElement.setAttribute("class",h.fClass);else{this.layerElement.setAttribute("font-family",h.fFamily);var g=d.fWeight,v=d.fStyle;this.layerElement.setAttribute("font-style",v),this.layerElement.setAttribute("font-weight",g)}this.layerElement.setAttribute("aria-label",d.t);var S=d.l||[],j=!!this.globalData.fontManager.chars;c=S.length;var k,$=this.mHelper,U="",te=this.data.singleShape,O=0,z=0,Q=!0,q=d.tr*.001*d.finalSize;if(te&&!j&&!d.sz){var J=this.textContainer,B="start";switch(d.j){case 1:B="end";break;case 2:B="middle";break;default:B="start";break}J.setAttribute("text-anchor",B),J.setAttribute("letter-spacing",q);var F=this.buildTextContents(d.finalText);for(c=F.length,z=d.ps?d.ps[1]+d.ascent:0,s=0;s<c;s+=1)k=this.textSpans[s].span||Fe("tspan"),k.textContent=F[s],k.setAttribute("x",0),k.setAttribute("y",z),k.style.display="inherit",J.appendChild(k),this.textSpans[s]||(this.textSpans[s]={span:null,glyph:null}),this.textSpans[s].span=k,z+=d.finalLineHeight;this.layerElement.appendChild(J)}else{var C=this.textSpans.length,I;for(s=0;s<c;s+=1){if(this.textSpans[s]||(this.textSpans[s]={span:null,childSpan:null,glyph:null}),!j||!te||s===0){if(k=C>s?this.textSpans[s].span:Fe(j?"g":"text"),C<=s){if(k.setAttribute("stroke-linecap","butt"),k.setAttribute("stroke-linejoin","round"),k.setAttribute("stroke-miterlimit","4"),this.textSpans[s].span=k,j){var V=Fe("g");k.appendChild(V),this.textSpans[s].childSpan=V}this.textSpans[s].span=k,this.layerElement.appendChild(k)}k.style.display="inherit"}if($.reset(),te&&(S[s].n&&(O=-q,z+=d.yOffset,z+=Q?1:0,Q=!1),this.applyTextPropertiesToMatrix(d,$,S[s].line,O,z),O+=S[s].l||0,O+=q),j){I=this.globalData.fontManager.getCharData(d.finalText[s],h.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily);var K;if(I.t===1)K=new Oo(I.data,this.globalData,this);else{var Z=QP;I.data&&I.data.shapes&&(Z=this.buildShapeData(I.data,d.finalSize)),K=new wt(Z,this.globalData,this)}if(this.textSpans[s].glyph){var ne=this.textSpans[s].glyph;this.textSpans[s].childSpan.removeChild(ne.layerElement),ne.destroy()}this.textSpans[s].glyph=K,K._debug=!0,K.prepareFrame(0),K.renderFrame(),this.textSpans[s].childSpan.appendChild(K.layerElement),I.t===1&&this.textSpans[s].childSpan.setAttribute("transform","scale("+d.finalSize/100+","+d.finalSize/100+")")}else te&&k.setAttribute("transform","translate("+$.props[12]+","+$.props[13]+")"),k.textContent=S[s].val,k.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}te&&k&&k.setAttribute("d",U)}for(;s<this.textSpans.length;)this.textSpans[s].span.style.display="none",s+=1;this._sizeChanged=!0},un.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var s=this.layerElement.getBBox();this.bbox={top:s.y,left:s.x,width:s.width,height:s.height}}return this.bbox},un.prototype.getValue=function(){var s,c=this.textSpans.length,d;for(this.renderedFrame=this.comp.renderedFrame,s=0;s<c;s+=1)d=this.textSpans[s].glyph,d&&(d.prepareFrame(this.comp.renderedFrame-this.data.st),d._mdf&&(this._mdf=!0))},un.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var s,c,d=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;c=h.length;var g,v,S;for(s=0;s<c;s+=1)h[s].n||(g=d[s],v=this.textSpans[s].span,S=this.textSpans[s].glyph,S&&S.renderFrame(),g._mdf.m&&v.setAttribute("transform",g.m),g._mdf.o&&v.setAttribute("opacity",g.o),g._mdf.sw&&v.setAttribute("stroke-width",g.sw),g._mdf.sc&&v.setAttribute("stroke",g.sc),g._mdf.fc&&v.setAttribute("fill",g.fc))}};function rf(s,c,d){this.initElement(s,c,d)}m([Co],rf),rf.prototype.createContent=function(){var s=Fe("rect");s.setAttribute("width",this.data.sw),s.setAttribute("height",this.data.sh),s.setAttribute("fill",this.data.sc),this.layerElement.appendChild(s)};function Vn(s,c,d){this.initFrame(),this.initBaseData(s,c,d),this.initFrame(),this.initTransform(s,c,d),this.initHierarchy()}Vn.prototype.prepareFrame=function(s){this.prepareProperties(s,!0)},Vn.prototype.renderFrame=function(){},Vn.prototype.getBaseElement=function(){return null},Vn.prototype.destroy=function(){},Vn.prototype.sourceRectAtTime=function(){},Vn.prototype.hide=function(){},m([Dn,fa,da,Fn],Vn);function Ct(){}m([Ft],Ct),Ct.prototype.createNull=function(s){return new Vn(s,this.globalData,this)},Ct.prototype.createShape=function(s){return new wt(s,this.globalData,this)},Ct.prototype.createText=function(s){return new un(s,this.globalData,this)},Ct.prototype.createImage=function(s){return new Co(s,this.globalData,this)},Ct.prototype.createSolid=function(s){return new rf(s,this.globalData,this)},Ct.prototype.configAnimation=function(s){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+s.w+" "+s.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",s.w),this.svgElement.setAttribute("height",s.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var c=this.globalData.defs;this.setupGlobalData(s,c),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=s;var d=Fe("clipPath"),h=Fe("rect");h.setAttribute("width",s.w),h.setAttribute("height",s.h),h.setAttribute("x",0),h.setAttribute("y",0);var g=oe();d.setAttribute("id",g),d.appendChild(h),this.layerElement.setAttribute("clip-path","url("+f()+"#"+g+")"),c.appendChild(d),this.layers=s.layers,this.elements=L(s.layers.length)},Ct.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var s,c=this.layers?this.layers.length:0;for(s=0;s<c;s+=1)this.elements[s]&&this.elements[s].destroy&&this.elements[s].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},Ct.prototype.updateContainerSize=function(){},Ct.prototype.findIndexByInd=function(s){var c=0,d=this.layers.length;for(c=0;c<d;c+=1)if(this.layers[c].ind===s)return c;return-1},Ct.prototype.buildItem=function(s){var c=this.elements;if(!(c[s]||this.layers[s].ty===99)){c[s]=!0;var d=this.createItem(this.layers[s]);if(c[s]=d,gt()&&(this.layers[s].ty===0&&this.globalData.projectInterface.registerComposition(d),d.initExpressions()),this.appendElementInPos(d,s),this.layers[s].tt){var h="tp"in this.layers[s]?this.findIndexByInd(this.layers[s].tp):s-1;if(h===-1)return;if(!this.elements[h]||this.elements[h]===!0)this.buildItem(h),this.addPendingElement(d);else{var g=c[h],v=g.getMatte(this.layers[s].tt);d.setMatte(v)}}}},Ct.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();if(s.checkParenting(),s.data.tt)for(var c=0,d=this.elements.length;c<d;){if(this.elements[c]===s){var h="tp"in s.data?this.findIndexByInd(s.data.tp):c-1,g=this.elements[h],v=g.getMatte(this.layers[c].tt);s.setMatte(v);break}c+=1}}},Ct.prototype.renderFrame=function(s){if(!(this.renderedFrame===s||this.destroyed)){s===null?s=this.renderedFrame:this.renderedFrame=s,this.globalData.frameNum=s,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=s,this.globalData._mdf=!1;var c,d=this.layers.length;for(this.completeLayers||this.checkLayers(s),c=d-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&this.elements[c].prepareFrame(s-this.layers[c].st);if(this.globalData._mdf)for(c=0;c<d;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame()}},Ct.prototype.appendElementInPos=function(s,c){var d=s.getBaseElement();if(d){for(var h=0,g;h<c;)this.elements[h]&&this.elements[h]!==!0&&this.elements[h].getBaseElement()&&(g=this.elements[h].getBaseElement()),h+=1;g?this.layerElement.insertBefore(d,g):this.layerElement.appendChild(d)}},Ct.prototype.hide=function(){this.layerElement.style.display="none"},Ct.prototype.show=function(){this.layerElement.style.display="block"};function fn(){}m([Dn,fa,da,Fn,Po],fn),fn.prototype.initElement=function(s,c,d){this.initFrame(),this.initBaseData(s,c,d),this.initTransform(s,c,d),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!c.progressiveLoad)&&this.buildAllItems(),this.hide()},fn.prototype.prepareFrame=function(s){if(this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=s/this.data.sr;else{var c=this.tm.v;c===this.data.op&&(c=this.data.op-1),this.renderedFrame=c}var d,h=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),d=h-1;d>=0;d-=1)(this.completeLayers||this.elements[d])&&(this.elements[d].prepareFrame(this.renderedFrame-this.layers[d].st),this.elements[d]._mdf&&(this._mdf=!0))}},fn.prototype.renderInnerContent=function(){var s,c=this.layers.length;for(s=0;s<c;s+=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()},fn.prototype.setElements=function(s){this.elements=s},fn.prototype.getElements=function(){return this.elements},fn.prototype.destroyElements=function(){var s,c=this.layers.length;for(s=0;s<c;s+=1)this.elements[s]&&this.elements[s].destroy()},fn.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function Oo(s,c,d){this.layers=s.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?L(this.layers.length):[],this.initElement(s,c,d),this.tm=s.tm?Se.getProp(this,s.tm,0,c.frameRate,this):{_placeholder:!0}}m([Ct,fn,Eo],Oo),Oo.prototype.createComp=function(s){return new Oo(s,this.globalData,this)};function nf(s,c){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.svgElement=Fe("svg");var d="";if(c&&c.title){var h=Fe("title"),g=oe();h.setAttribute("id",g),h.textContent=c.title,this.svgElement.appendChild(h),d+=g}if(c&&c.description){var v=Fe("desc"),S=oe();v.setAttribute("id",S),v.textContent=c.description,this.svgElement.appendChild(v),d+=" "+S}d&&this.svgElement.setAttribute("aria-labelledby",d);var j=Fe("defs");this.svgElement.appendChild(j);var k=Fe("g");this.svgElement.appendChild(k),this.layerElement=k,this.renderConfig={preserveAspectRatio:c&&c.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:c&&c.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:c&&c.contentVisibility||"visible",progressiveLoad:c&&c.progressiveLoad||!1,hideOnTransparent:!(c&&c.hideOnTransparent===!1),viewBoxOnly:c&&c.viewBoxOnly||!1,viewBoxSize:c&&c.viewBoxSize||!1,className:c&&c.className||"",id:c&&c.id||"",focusable:c&&c.focusable,filterSize:{width:c&&c.filterSize&&c.filterSize.width||"100%",height:c&&c.filterSize&&c.filterSize.height||"100%",x:c&&c.filterSize&&c.filterSize.x||"0%",y:c&&c.filterSize&&c.filterSize.y||"0%"},width:c&&c.width,height:c&&c.height,runExpressions:!c||c.runExpressions===void 0||c.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:j,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}return m([Ct],nf),nf.prototype.createComp=function(s){return new Oo(s,this.globalData,this)},iP("svg",nf),jn.registerModifier("tm",Lr),jn.registerModifier("pb",yo),jn.registerModifier("rp",qr),jn.registerModifier("rd",_o),jn.registerModifier("zz",So),jn.registerModifier("op",ko),et})})(_y,_y.exports);const oA=()=>{const[e,t]=ee.useState(!1),r=Or(),n=ee.useRef([]),i=()=>{t(!0)},a=()=>{t(!1)};return ee.useEffect(()=>{const o={threshold:.1},l=new IntersectionObserver(u=>{u.forEach(f=>{f.isIntersecting?f.target.classList.add("visible"):f.target.classList.remove("visible")})},o);return n.current.forEach(u=>{u&&l.observe(u)}),()=>{n.current.forEach(u=>{u&&l.unobserve(u)})}},[]),T.jsxs("div",{className:"landing-container",children:[T.jsx("div",{className:"logo-container"}),T.jsx("br",{}),T.jsxs("section",{className:"button-container",children:[T.jsxs("button",{className:"btn therapist-button",onClick:()=>r("/host"),children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/uwixxspd.json",trigger:"morph",colors:"primary:#000000,secondary:#3a3347,tertiary:#faddd1,quaternary:#e5e0e9,quinary:#545454,senary:#87ceed",className:"therapist-icon",style:{width:"140px",height:"140px"}}),"I'M A THERAPIST"]}),T.jsxs("button",{className:"btn child-button",onClick:i,children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/cfbvvbil.json",trigger:"morph",colors:"primary:#000000,secondary:#faddd1,tertiary:#3a3347,quaternary:#f28ba8,quinary:#f49cc8",className:"child-icon",style:{width:"140px",height:"140px"}}),"I'M A CHILD"]})]}),T.jsx("br",{}),e&&T.jsx(aA,{onClose:a}),T.jsx("br",{}),T.jsxs("div",{className:"footer-container",children:[T.jsxs("div",{className:"footer-section about",ref:o=>n.current[0]=o,children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/ofzpbawy.json",trigger:"loop",delay:"4000",stroke:"bold",colors:"primary:#121331,secondary:#ebe6ef,tertiary:#e4e4e4,quaternary:#87ceed",className:"footer-icon",style:{width:"140px",height:"140px"}}),T.jsx("h2",{children:"Community & Inclusion"}),T.jsx("p",{children:"The gray puzzle symbolizes the community, and the sky-blue piece represents each autistic child joining it. AutismSense helps children with High-Functioning Autism (HFA) connect and engage with others comfortably."})]}),T.jsxs("div",{className:"footer-section mission",ref:o=>n.current[1]=o,children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/fmjvulyw.json",trigger:"loop",delay:"4000",stroke:"bold",colors:"primary:#121331,secondary:#ffffff,tertiary:#3a3347,quaternary:#87ceed,quinary:#f9c9c0,senary:#f24c00",className:"footer-icon",style:{width:"140px",height:"140px"}}),T.jsx("h2",{children:"Our Vision"}),T.jsx("p",{children:"We envision a world where children with High-Functioning Autism (HFA) can connect with others effortlessly. Through AutismSense, we use technology to make communication accessible, engaging, and secure, creating inclusive spaces for all families."})]}),T.jsxs("div",{className:"footer-section features",ref:o=>n.current[2]=o,children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/eewfjpmj.json",trigger:"loop",delay:"4000",stroke:"bold",colors:"primary:#121331,secondary:#ffffff,tertiary:#e8e230,quaternary:#9cc2f4",className:"footer-icon",style:{width:"140px",height:"140px"}}),T.jsx("h2",{children:"Key Features"}),T.jsxs("p",{className:"features-list",children:[T.jsx("span",{children:"Facial Expression Analysis to aid in understanding cues."}),T.jsx("span",{children:"Conversation Transcription for accessible communication."}),T.jsx("span",{children:"Gamified Learning to build social skills in a fun way."})]})]})]})]})},sA=({onLogout:e,onProfileClick:t,childData:r})=>{Or();const n=(r==null?void 0:r.photo)||Vc,i=r?`${r.firstName} ${r.lastName}`:"First Name Last Name",a={navbar:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#B4E9FF",padding:"5px 20px",borderBottom:"2px solid black",width:"100%",position:"fixed",top:0,left:0,zIndex:1e3,boxSizing:"border-box"},navbarSection:{display:"flex",alignItems:"center"},separator:{width:"2px",height:"100%",backgroundColor:"black",margin:"0 20px"},profileImage:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",boxShadow:"none"},profileSection:{display:"flex",alignItems:"center",color:"#333",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",transition:"transform 0.3s ease",backgroundColor:"transparent",border:"none",padding:"0"},profileName:{marginLeft:"10px"},logoutButton:{backgroundColor:"#FF4D4D",color:"black",border:"2px solid black",padding:"5px 10px",fontSize:"14px",fontWeight:"bold",transition:"background-color 0.3s ease",boxSizing:"border-box",borderRadius:"0",outline:"none",boxShadow:"none"}};return T.jsxs("header",{style:a.navbar,children:[T.jsx("div",{style:a.navbarSection,children:T.jsx("lord-icon",{src:"https://cdn.lordicon.com/ofzpbawy.json",trigger:"hover",stroke:"bold",colors:"primary:#121331,secondary:#ebe6ef,tertiary:#e4e4e4,quaternary:#86ceed",style:{width:"70px",height:"70px"}})}),T.jsx("div",{style:a.separator})," ",T.jsxs("div",{style:a.profileSection,onClick:t,onMouseEnter:o=>o.currentTarget.style.transform="scale(1.4)",onMouseLeave:o=>o.currentTarget.style.transform="scale(1)",children:[T.jsx("div",{children:T.jsx("img",{src:n,alt:"Profile",style:a.profileImage})}),T.jsx("span",{style:a.profileName,children:i})]}),T.jsx("div",{style:a.separator})," ",T.jsx("div",{style:a.navbarSection,children:T.jsx("button",{style:a.logoutButton,onMouseEnter:o=>o.target.style.backgroundColor="#FF3333",onMouseLeave:o=>o.target.style.backgroundColor="#FF4D4D",onClick:e,children:"Logout"})})]})},lA=({children:e,onClose:t})=>T.jsx("div",{className:"auth-modal",onClick:t,children:T.jsxs("div",{className:"auth-modal-content",onClick:r=>r.stopPropagation(),children:[T.jsx("button",{className:"close-button",onClick:t,children:"X"}),e]})}),CS="http://localhost:5001",cA=async(e,t)=>{try{return(await Ze.put(`${CS}/api/child/update-child/${e}`,t,{withCredentials:!0})).data}catch(r){throw console.error("Error updating child data:",r),r}},uA=async e=>{try{return(await Ze.delete(`${CS}/api/child/delete-child/${e}`,{withCredentials:!0})).data}catch(t){throw console.error("Error deleting child account:",t),t}},xS=({child:e,childId:t,onClose:r,onSave:n})=>{const i=Or(),[a,o]=ee.useState(!1),[l,u]=ee.useState(""),[f,p]=ee.useState((e==null?void 0:e.firstName)||""),[m,y]=ee.useState((e==null?void 0:e.lastName)||""),[x,P]=ee.useState(new Date(e==null?void 0:e.dob).getDate()||""),[L,M]=ee.useState(new Date(e==null?void 0:e.dob).getMonth()+1||""),[R,_]=ee.useState(new Date(e==null?void 0:e.dob).getFullYear()||""),[b,N]=ee.useState((e==null?void 0:e.email)||""),[W,H]=ee.useState((e==null?void 0:e.photo)||Vc),[Y,ie]=ee.useState(""),[ae,ce]=ee.useState(""),[_e,ue]=ee.useState(""),[pe,le]=ee.useState(""),ge=(Ue,He,nt)=>{const gt=new Date;return new Date(nt,He-1,Ue)<=gt},fe=Ue=>{const He=Ue.target.files[0];if(He){const nt=new FileReader;nt.onloadend=()=>H(nt.result),nt.readAsDataURL(He)}},we=async Ue=>{Ue.preventDefault();const He=`${R}-${L.toString().padStart(2,"0")}-${x.toString().padStart(2,"0")}`;if(ge(x,L,R))ue("");else{ue("Date of birth cannot be in the future.");return}const nt={firstName:f,lastName:m,dob:He,email:b,photo:W};try{const gt=await cA(t,nt);n(gt),o(!1),window.alert("Changes saved successfully.")}catch{u("Failed to save changes. Please try again.")}},oe=async()=>{if(window.confirm("Are you sure you want to delete this account?"))try{await uA(t),alert("Account deleted successfully."),r(),i("/")}catch{u("Failed to delete the account. Please try again.")}},ke=Ue=>{const He=Ue.target.value;p(He),ie(/^[A-Za-z]{2,}$/.test(He)?"":"First name should be at least two letters long.")},Te=Ue=>{const He=Ue.target.value;y(He),ce(/^[A-Za-z]{2,}$/.test(He)?"":"Last name should be at least two letters long.")},je=Ue=>{const He=Ue.target.value;N(He),le(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(He)?"":"Please enter a valid email address.")},qe=new Date().getFullYear(),Ke=new Date().getMonth()+1;return new Date().getDate(),T.jsx("div",{className:"auth-modal",children:T.jsxs("div",{className:"auth-modal-content",children:[T.jsx("button",{className:"close-button",onClick:r,children:"X"}),T.jsx("header",{className:"form-photo",children:T.jsxs("div",{className:"photo-ring",children:[T.jsx("img",{src:W||Vc,alt:"Profile",className:"photo-img"}),a&&T.jsxs("label",{htmlFor:"photo-input",className:"photo-pencil",children:[T.jsx(bS,{})," Change Image"]})]})}),T.jsx("section",{className:"profile-details",children:a?T.jsxs("form",{onSubmit:we,className:"form-container",children:[T.jsx("div",{className:"form-photo",children:T.jsx("input",{type:"file",id:"photo-input",accept:"image/*",onChange:fe,className:"photo-input"})}),T.jsxs("div",{className:"form-group",children:[T.jsx("input",{type:"text",value:f,onChange:ke,placeholder:"First Name",className:"input-field"}),Y&&T.jsx("p",{children:Y})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("input",{type:"text",value:m,onChange:Te,placeholder:"Last Name",className:"input-field"}),ae&&T.jsx("p",{children:ae})]}),T.jsxs("div",{className:"form-group dob-field-container",children:[T.jsx("label",{children:"Date of Birth:"}),T.jsxs("div",{style:{display:"flex",gap:"5px"},children:[T.jsxs("select",{value:x,onChange:Ue=>P(Ue.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Day"}),[...Array(31)].map((Ue,He)=>T.jsx("option",{value:He+1,children:He+1},He+1))]}),T.jsxs("select",{value:L,onChange:Ue=>M(Ue.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Month"}),[...Array(12)].map((Ue,He)=>T.jsx("option",{value:He+1,disabled:R===qe&&He+1>Ke,children:He+1},He+1))]}),T.jsxs("select",{value:R,onChange:Ue=>_(Ue.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Year"}),[...Array(100)].map((Ue,He)=>{const nt=qe-He;return T.jsx("option",{value:nt,children:nt},nt)})]})]}),_e&&T.jsx("p",{children:_e})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("input",{type:"email",value:b,onChange:je,className:"input-field"}),pe&&T.jsx("p",{children:pe})]}),T.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"})]}):T.jsxs(T.Fragment,{children:[T.jsx("h2",{children:`${f} ${m}`}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",b]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Date of Birth:"})," ",`${x}/${L}/${R}`]})]})}),T.jsxs("footer",{className:"profile-footer",children:[l&&T.jsx("p",{className:"error-message",children:l}),a?null:T.jsxs("div",{className:"form-buttons",children:[T.jsx("button",{className:"delete-btn",onClick:oe,children:"Delete Account"}),T.jsx("button",{className:"edit-btn",onClick:()=>{o(!0)},children:"Edit Profile"})]})]})]})})},fA=()=>{const e=Or(),[t,r]=ee.useState(()=>{const y=localStorage.getItem("childData");return y?JSON.parse(y):null}),[n,i]=ee.useState(!1),[a,o]=ee.useState("");ee.useEffect(()=>{t&&localStorage.setItem("childData",JSON.stringify(t))},[t]);const l=async()=>{try{await YL(),localStorage.removeItem("childData"),e("/")}catch{o("Logout failed. Please try again.")}},u=()=>i(!0),f=()=>i(!1),p=y=>{const x=y.data;x?(r(x),i(!1)):o("Profile update failed. Please try again.")},m=()=>e("/guest");return T.jsxs("div",{className:"container",children:[a&&T.jsx("p",{className:"error-message",children:a}),T.jsx(sA,{onLogout:l,onProfileClick:u,childData:t}),T.jsxs("section",{className:"button-container",children:[T.jsxs("button",{className:"btn",onClick:()=>e("/reportsPage"),children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/ofcynlwa.json",trigger:"hover",colors:"primary:#121131,secondary:#d1fad7,tertiary:#d1f3fa,quaternary:#f4f19c",style:{width:"240px",height:"240px"}}),T.jsx("h2",{children:"Reports"})]}),T.jsxs("button",{className:"btn",onClick:m,children:[T.jsx("lord-icon",{src:"https://cdn.lordicon.com/kiynvdns.json",trigger:"hover",colors:"primary:#121331,secondary:#e4e4e4,tertiary:#e4e4e4,quaternary:#d1fad7,quinary:#d1f3fa",style:{width:"240px",height:"240px"}}),T.jsx("h2",{children:"Join Meeting"})]})]}),n&&T.jsx(lA,{onClose:f,children:T.jsx(xS,{child:t,childId:(t==null?void 0:t._id)||(t==null?void 0:t.id),onClose:f,onSave:p})}),T.jsx("footer",{className:"footer",children:T.jsx("nav",{className:"bottom-bar",children:T.jsx("p",{children:"© 2024 AutismSense. All rights reserved."})})})]})},dA=()=>{const e=Or(),t=()=>{e("/")};return T.jsxs("div",{className:"container",children:[T.jsxs("header",{className:"header",children:[T.jsx("h1",{children:"Welcome to AutismSense"}),T.jsx("p",{children:"Your companion in creating a supportive environment for children with Autism."})]}),T.jsxs("section",{className:"content",children:[T.jsx("p",{children:"AutismSense is dedicated to creating a supportive environment for children with High-Functioning Autism (HFA). Our platform offers tools to assist in online interactions, making them more accessible and engaging for children with HFA. We believe that every child deserves the opportunity to connect with others in a way that is comfortable and supportive."}),T.jsx("p",{children:"Our team is passionate about using technology to make a positive impact in the lives of children and their families. We are committed to providing a platform that is both user-friendly and effective in helping children with HFA navigate the challenges of online communication."}),T.jsx("p",{children:"Features"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Facial Expression Analysis"}),T.jsx("li",{children:"Conversation Transcription"}),T.jsx("li",{children:"Gamified Learning Modules"}),T.jsx("li",{children:"Profile Management"})]})]}),T.jsx("button",{className:"btn",onClick:t,children:"Back"}),T.jsx("footer",{className:"landing-footer",children:T.jsx("p",{children:"© 2024 AutismSense. All rights reserved."})})]})},hA=({onClose:e})=>{const{token:t}=YO(),[r,n]=ee.useState(""),[i,a]=ee.useState(""),[o,l]=ee.useState(""),u=Or(),f=P=>{n(P.target.value)},p=P=>{a(P.target.value)},m=P=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(P)?null:"Password must be at least 8 characters long, and contain at least one uppercase letter, one lowercase letter, and one number.",y=async P=>{P.preventDefault();const L=m(r);if(L){l(L);return}if(r!==i){l("Passwords do not match.");return}try{const M=await KL(t,r);alert("Password has been reset. You can now log in with your new password."),u("/")}catch(M){M.response&&M.response.status===400?l("Invalid or expired token."):l("Unable to reset password. Please try again later."),console.error(M)}},x=()=>{u("/",{replace:!0})};return T.jsx("div",{className:"auth-modal",children:T.jsxs("div",{className:"auth-modal-content",children:[T.jsx("button",{className:"close-button",onClick:x,children:"×"}),T.jsxs("div",{className:"form-container",children:[T.jsx("h2",{children:"Reset Your Password"}),T.jsxs("form",{onSubmit:y,children:[T.jsx("div",{className:"form-group",children:T.jsx("input",{type:"password",placeholder:"New Password",value:r,onChange:f,required:!0,className:"input-field"})}),T.jsx("div",{className:"form-group",children:T.jsx("input",{type:"password",placeholder:"Confirm New Password",value:i,onChange:p,required:!0,className:"input-field"})}),o&&T.jsx("p",{className:"error-message",children:o}),T.jsx("div",{className:"form-buttons",style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:T.jsx("button",{type:"submit",className:"reset-btn",children:"Reset Password"})})]})]})]})})};var At=[];for(var Nf=0;Nf<256;++Nf)At.push((Nf+256).toString(16).slice(1));function pA(e,t=0){return(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase()}var Ll,vA=new Uint8Array(16);function mA(){if(!Ll&&(Ll=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ll))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ll(vA)}var gA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const wy={randomUUID:gA};function yA(e,t,r){if(wy.randomUUID&&!t&&!e)return wy.randomUUID();e=e||{};var n=e.random||(e.rng||mA)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,pA(n)}/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _A(e,t,r){return(t=SA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(r),!0).forEach(function(n){_A(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SA(e){var t=wA(e,"string");return typeof t=="symbol"?t:t+""}const ky=()=>{};let sv={},OS={},RS=null,LS={mark:ky,measure:ky};try{typeof window<"u"&&(sv=window),typeof document<"u"&&(OS=document),typeof MutationObserver<"u"&&(RS=MutationObserver),typeof performance<"u"&&(LS=performance)}catch{}const{userAgent:by=""}=sv.navigator||{},pi=sv,ut=OS,Ty=RS,Al=LS;pi.document;const Rn=!!ut.documentElement&&!!ut.head&&typeof ut.addEventListener=="function"&&typeof ut.createElement=="function",AS=~by.indexOf("MSIE")||~by.indexOf("Trident/");var kA=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,bA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,MS={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},TA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},IS=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],zt="classic",wu="duotone",EA="sharp",PA="sharp-duotone",jS=[zt,wu,EA,PA],CA={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},xA={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},OA=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),RA={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},LA=["fak","fa-kit","fakd","fa-kit-duotone"],Ey={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},AA=["kit"],MA={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},IA=["fak","fakd"],jA={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},Py={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ml={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},NA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],DA=["fak","fa-kit","fakd","fa-kit-duotone"],FA={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},$A={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},VA={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},kh={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},BA=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],bh=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...NA,...BA],UA=["solid","regular","light","thin","duotone","brands"],NS=[1,2,3,4,5,6,7,8,9,10],zA=NS.concat([11,12,13,14,15,16,17,18,19,20]),WA=[...Object.keys(VA),...UA,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ml.GROUP,Ml.SWAP_OPACITY,Ml.PRIMARY,Ml.SECONDARY].concat(NS.map(e=>"".concat(e,"x"))).concat(zA.map(e=>"w-".concat(e))),HA={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Cn="___FONT_AWESOME___",Th=16,DS="fa",FS="svg-inline--fa",Xi="data-fa-i2svg",Eh="data-fa-pseudo-element",qA="data-fa-pseudo-element-pending",lv="data-prefix",cv="data-icon",Cy="fontawesome-i2svg",GA="async",QA=["HTML","HEAD","STYLE","SCRIPT"],$S=(()=>{try{return!0}catch{return!1}})();function Hs(e){return new Proxy(e,{get(t,r){return r in t?t[r]:t[zt]}})}const VS=ve({},MS);VS[zt]=ve(ve(ve(ve({},{"fa-duotone":"duotone"}),MS[zt]),Ey.kit),Ey["kit-duotone"]);const KA=Hs(VS),Ph=ve({},RA);Ph[zt]=ve(ve(ve(ve({},{duotone:"fad"}),Ph[zt]),Py.kit),Py["kit-duotone"]);const xy=Hs(Ph),Ch=ve({},kh);Ch[zt]=ve(ve({},Ch[zt]),jA.kit);const uv=Hs(Ch),xh=ve({},$A);xh[zt]=ve(ve({},xh[zt]),MA.kit);Hs(xh);const YA=kA,BS="fa-layers-text",XA=bA,JA=ve({},CA);Hs(JA);const ZA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Df=TA,e2=[...AA,...WA],as=pi.FontAwesomeConfig||{};function t2(e){var t=ut.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function r2(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}ut&&typeof ut.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[r,n]=t;const i=r2(t2(r));i!=null&&(as[n]=i)});const US={styleDefault:"solid",familyDefault:zt,cssPrefix:DS,replacementClass:FS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};as.familyPrefix&&(as.cssPrefix=as.familyPrefix);const Ja=ve(ve({},US),as);Ja.autoReplaceSvg||(Ja.observeMutations=!1);const Le={};Object.keys(US).forEach(e=>{Object.defineProperty(Le,e,{enumerable:!0,set:function(t){Ja[e]=t,os.forEach(r=>r(Le))},get:function(){return Ja[e]}})});Object.defineProperty(Le,"familyPrefix",{enumerable:!0,set:function(e){Ja.cssPrefix=e,os.forEach(t=>t(Le))},get:function(){return Ja.cssPrefix}});pi.FontAwesomeConfig=Le;const os=[];function n2(e){return os.push(e),()=>{os.splice(os.indexOf(e),1)}}const Gn=Th,en={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function i2(e){if(!e||!Rn)return;const t=ut.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const r=ut.head.childNodes;let n=null;for(let i=r.length-1;i>-1;i--){const a=r[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=a)}return ut.head.insertBefore(t,n),e}const a2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function xs(){let e=12,t="";for(;e-- >0;)t+=a2[Math.random()*62|0];return t}function lo(e){const t=[];for(let r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function fv(e){return e.classList?lo(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function zS(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o2(e){return Object.keys(e||{}).reduce((t,r)=>t+"".concat(r,'="').concat(zS(e[r]),'" '),"").trim()}function Su(e){return Object.keys(e||{}).reduce((t,r)=>t+"".concat(r,": ").concat(e[r].trim(),";"),"")}function dv(e){return e.size!==en.size||e.x!==en.x||e.y!==en.y||e.rotate!==en.rotate||e.flipX||e.flipY}function s2(e){let{transform:t,containerWidth:r,iconWidth:n}=e;const i={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),u={transform:"".concat(a," ").concat(o," ").concat(l)},f={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:u,path:f}}function l2(e){let{transform:t,width:r=Th,height:n=Th,startCentered:i=!1}=e,a="";return i&&AS?a+="translate(".concat(t.x/Gn-r/2,"em, ").concat(t.y/Gn-n/2,"em) "):i?a+="translate(calc(-50% + ".concat(t.x/Gn,"em), calc(-50% + ").concat(t.y/Gn,"em)) "):a+="translate(".concat(t.x/Gn,"em, ").concat(t.y/Gn,"em) "),a+="scale(".concat(t.size/Gn*(t.flipX?-1:1),", ").concat(t.size/Gn*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}var c2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function WS(){const e=DS,t=FS,r=Le.cssPrefix,n=Le.replacementClass;let i=c2;if(r!==e||n!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(l,".".concat(n))}return i}let Oy=!1;function Ff(){Le.autoAddCss&&!Oy&&(i2(WS()),Oy=!0)}var u2={mixout(){return{dom:{css:WS,insertCss:Ff}}},hooks(){return{beforeDOMElementCreation(){Ff()},beforeI2svg(){Ff()}}}};const xn=pi||{};xn[Cn]||(xn[Cn]={});xn[Cn].styles||(xn[Cn].styles={});xn[Cn].hooks||(xn[Cn].hooks={});xn[Cn].shims||(xn[Cn].shims=[]);var tn=xn[Cn];const HS=[],qS=function(){ut.removeEventListener("DOMContentLoaded",qS),zc=1,HS.map(e=>e())};let zc=!1;Rn&&(zc=(ut.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ut.readyState),zc||ut.addEventListener("DOMContentLoaded",qS));function f2(e){Rn&&(zc?setTimeout(e,0):HS.push(e))}function qs(e){const{tag:t,attributes:r={},children:n=[]}=e;return typeof e=="string"?zS(e):"<".concat(t," ").concat(o2(r),">").concat(n.map(qs).join(""),"</").concat(t,">")}function Ry(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var $f=function(t,r,n,i){var a=Object.keys(t),o=a.length,l=r,u,f,p;for(n===void 0?(u=1,p=t[a[0]]):(u=0,p=n);u<o;u++)f=a[u],p=l(p,t[f],f,t);return p};function d2(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const a=e.charCodeAt(r++);(a&64512)==56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}function Oh(e){const t=d2(e);return t.length===1?t[0].toString(16):null}function h2(e,t){const r=e.length;let n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&r>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function Ly(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return!!n.icon?t[n.iconName]=n.icon:t[r]=n,t},{})}function Rh(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=r,i=Ly(t);typeof tn.hooks.addPack=="function"&&!n?tn.hooks.addPack(e,Ly(t)):tn.styles[e]=ve(ve({},tn.styles[e]||{}),i),e==="fas"&&Rh("fa",t)}const{styles:Os,shims:p2}=tn,GS=Object.keys(uv),v2=GS.reduce((e,t)=>(e[t]=Object.keys(uv[t]),e),{});let hv=null,QS={},KS={},YS={},XS={},JS={};function m2(e){return~e2.indexOf(e)}function g2(e,t){const r=t.split("-"),n=r[0],i=r.slice(1).join("-");return n===e&&i!==""&&!m2(i)?i:null}const ZS=()=>{const e=n=>$f(Os,(i,a,o)=>(i[o]=$f(a,n,{}),i),{});QS=e((n,i,a)=>(i[3]&&(n[i[3]]=a),i[2]&&i[2].filter(l=>typeof l=="number").forEach(l=>{n[l.toString(16)]=a}),n)),KS=e((n,i,a)=>(n[a]=a,i[2]&&i[2].filter(l=>typeof l=="string").forEach(l=>{n[l]=a}),n)),JS=e((n,i,a)=>{const o=i[2];return n[a]=a,o.forEach(l=>{n[l]=a}),n});const t="far"in Os||Le.autoFetchSvg,r=$f(p2,(n,i)=>{const a=i[0];let o=i[1];const l=i[2];return o==="far"&&!t&&(o="fas"),typeof a=="string"&&(n.names[a]={prefix:o,iconName:l}),typeof a=="number"&&(n.unicodes[a.toString(16)]={prefix:o,iconName:l}),n},{names:{},unicodes:{}});YS=r.names,XS=r.unicodes,hv=ku(Le.styleDefault,{family:Le.familyDefault})};n2(e=>{hv=ku(e.styleDefault,{family:Le.familyDefault})});ZS();function pv(e,t){return(QS[e]||{})[t]}function y2(e,t){return(KS[e]||{})[t]}function Vi(e,t){return(JS[e]||{})[t]}function ek(e){return YS[e]||{prefix:null,iconName:null}}function _2(e){const t=XS[e],r=pv("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function vi(){return hv}const tk=()=>({prefix:null,iconName:null,rest:[]});function w2(e){let t=zt;const r=GS.reduce((n,i)=>(n[i]="".concat(Le.cssPrefix,"-").concat(i),n),{});return jS.forEach(n=>{(e.includes(r[n])||e.some(i=>v2[n].includes(i)))&&(t=n)}),t}function ku(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=zt}=t,n=KA[r][e];if(r===wu&&!e)return"fad";const i=xy[r][e]||xy[r][n],a=e in tn.styles?e:null;return i||a||null}function S2(e){let t=[],r=null;return e.forEach(n=>{const i=g2(Le.cssPrefix,n);i?r=i:n&&t.push(n)}),{iconName:r,rest:t}}function Ay(e){return e.sort().filter((t,r,n)=>n.indexOf(t)===r)}function bu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=t;let n=null;const i=bh.concat(DA),a=Ay(e.filter(m=>i.includes(m))),o=Ay(e.filter(m=>!bh.includes(m))),l=a.filter(m=>(n=m,!IS.includes(m))),[u=null]=l,f=w2(a),p=ve(ve({},S2(o)),{},{prefix:ku(u,{family:f})});return ve(ve(ve({},p),E2({values:e,family:f,styles:Os,config:Le,canonical:p,givenPrefix:n})),k2(r,n,p))}function k2(e,t,r){let{prefix:n,iconName:i}=r;if(e||!n||!i)return{prefix:n,iconName:i};const a=t==="fa"?ek(i):{},o=Vi(n,i);return i=a.iconName||o||i,n=a.prefix||n,n==="far"&&!Os.far&&Os.fas&&!Le.autoFetchSvg&&(n="fas"),{prefix:n,iconName:i}}const b2=jS.filter(e=>e!==zt||e!==wu),T2=Object.keys(kh).filter(e=>e!==zt).map(e=>Object.keys(kh[e])).flat();function E2(e){const{values:t,family:r,canonical:n,givenPrefix:i="",styles:a={},config:o={}}=e,l=r===wu,u=t.includes("fa-duotone")||t.includes("fad"),f=o.familyDefault==="duotone",p=n.prefix==="fad"||n.prefix==="fa-duotone";if(!l&&(u||f||p)&&(n.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(n.prefix="fab"),!n.prefix&&b2.includes(r)&&(Object.keys(a).find(y=>T2.includes(y))||o.autoFetchSvg)){const y=OA.get(r).defaultShortPrefixId;n.prefix=y,n.iconName=Vi(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||i==="fa")&&(n.prefix=vi()||"fas"),n}class P2{constructor(){this.definitions={}}add(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const i=r.reduce(this._pullDefinitions,{});Object.keys(i).forEach(a=>{this.definitions[a]=ve(ve({},this.definitions[a]||{}),i[a]),Rh(a,i[a]);const o=uv[zt][a];o&&Rh(o,i[a]),ZS()})}reset(){this.definitions={}}_pullDefinitions(t,r){const n=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(n).map(i=>{const{prefix:a,iconName:o,icon:l}=n[i],u=l[2];t[a]||(t[a]={}),u.length>0&&u.forEach(f=>{typeof f=="string"&&(t[a][f]=l)}),t[a][o]=l}),t}}let My=[],Ma={};const Ua={},C2=Object.keys(Ua);function x2(e,t){let{mixoutsTo:r}=t;return My=e,Ma={},Object.keys(Ua).forEach(n=>{C2.indexOf(n)===-1&&delete Ua[n]}),My.forEach(n=>{const i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(a=>{typeof i[a]=="function"&&(r[a]=i[a]),typeof i[a]=="object"&&Object.keys(i[a]).forEach(o=>{r[a]||(r[a]={}),r[a][o]=i[a][o]})}),n.hooks){const a=n.hooks();Object.keys(a).forEach(o=>{Ma[o]||(Ma[o]=[]),Ma[o].push(a[o])})}n.provides&&n.provides(Ua)}),r}function Lh(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return(Ma[e]||[]).forEach(o=>{t=o.apply(null,[t,...n])}),t}function Ji(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(Ma[e]||[]).forEach(a=>{a.apply(null,r)})}function mi(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ua[e]?Ua[e].apply(null,t):void 0}function Ah(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const r=e.prefix||vi();if(t)return t=Vi(r,t)||t,Ry(rk.definitions,r,t)||Ry(tn.styles,r,t)}const rk=new P2,O2=()=>{Le.autoReplaceSvg=!1,Le.observeMutations=!1,Ji("noAuto")},R2={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Rn?(Ji("beforeI2svg",e),mi("pseudoElements2svg",e),mi("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;Le.autoReplaceSvg===!1&&(Le.autoReplaceSvg=!0),Le.observeMutations=!0,f2(()=>{A2({autoReplaceSvgRoot:t}),Ji("watch",e)})}},L2={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Vi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=ku(e[0]);return{prefix:r,iconName:Vi(r,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(Le.cssPrefix,"-"))>-1||e.match(YA))){const t=bu(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||vi(),iconName:Vi(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=vi();return{prefix:t,iconName:Vi(t,e)||e}}}},yr={noAuto:O2,config:Le,dom:R2,parse:L2,library:rk,findIconDefinition:Ah,toHtml:qs},A2=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ut}=e;(Object.keys(tn.styles).length>0||Le.autoFetchSvg)&&Rn&&Le.autoReplaceSvg&&yr.dom.i2svg({node:t})};function Tu(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(r=>qs(r))}}),Object.defineProperty(e,"node",{get:function(){if(!Rn)return;const r=ut.createElement("div");return r.innerHTML=e.html,r.children}}),e}function M2(e){let{children:t,main:r,mask:n,attributes:i,styles:a,transform:o}=e;if(dv(o)&&r.found&&!n.found){const{width:l,height:u}=r,f={x:l/u/2,y:.5};i.style=Su(ve(ve({},a),{},{"transform-origin":"".concat(f.x+o.x/16,"em ").concat(f.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function I2(e){let{prefix:t,iconName:r,children:n,attributes:i,symbol:a}=e;const o=a===!0?"".concat(t,"-").concat(Le.cssPrefix,"-").concat(r):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ve(ve({},i),{},{id:o}),children:n}]}]}function vv(e){const{icons:{main:t,mask:r},prefix:n,iconName:i,transform:a,symbol:o,title:l,maskId:u,titleId:f,extra:p,watchable:m=!1}=e,{width:y,height:x}=r.found?r:t,P=IA.includes(n),L=[Le.replacementClass,i?"".concat(Le.cssPrefix,"-").concat(i):""].filter(W=>p.classes.indexOf(W)===-1).filter(W=>W!==""||!!W).concat(p.classes).join(" ");let M={children:[],attributes:ve(ve({},p.attributes),{},{"data-prefix":n,"data-icon":i,class:L,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(x)})};const R=P&&!~p.classes.indexOf("fa-fw")?{width:"".concat(y/x*16*.0625,"em")}:{};m&&(M.attributes[Xi]=""),l&&(M.children.push({tag:"title",attributes:{id:M.attributes["aria-labelledby"]||"title-".concat(f||xs())},children:[l]}),delete M.attributes.title);const _=ve(ve({},M),{},{prefix:n,iconName:i,main:t,mask:r,maskId:u,transform:a,symbol:o,styles:ve(ve({},R),p.styles)}),{children:b,attributes:N}=r.found&&t.found?mi("generateAbstractMask",_)||{children:[],attributes:{}}:mi("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=b,_.attributes=N,o?I2(_):M2(_)}function Iy(e){const{content:t,width:r,height:n,transform:i,title:a,extra:o,watchable:l=!1}=e,u=ve(ve(ve({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});l&&(u[Xi]="");const f=ve({},o.styles);dv(i)&&(f.transform=l2({transform:i,startCentered:!0,width:r,height:n}),f["-webkit-transform"]=f.transform);const p=Su(f);p.length>0&&(u.style=p);const m=[];return m.push({tag:"span",attributes:u,children:[t]}),a&&m.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),m}function j2(e){const{content:t,title:r,extra:n}=e,i=ve(ve(ve({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),a=Su(n.styles);a.length>0&&(i.style=a);const o=[];return o.push({tag:"span",attributes:i,children:[t]}),r&&o.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),o}const{styles:Vf}=tn;function Mh(e){const t=e[0],r=e[1],[n]=e.slice(4);let i=null;return Array.isArray(n)?i={tag:"g",attributes:{class:"".concat(Le.cssPrefix,"-").concat(Df.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Le.cssPrefix,"-").concat(Df.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Le.cssPrefix,"-").concat(Df.PRIMARY),fill:"currentColor",d:n[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:r,icon:i}}const N2={found:!1,width:512,height:512};function D2(e,t){!$S&&!Le.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Ih(e,t){let r=t;return t==="fa"&&Le.styleDefault!==null&&(t=vi()),new Promise((n,i)=>{if(r==="fa"){const a=ek(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Vf[t]&&Vf[t][e]){const a=Vf[t][e];return n(Mh(a))}D2(e,t),n(ve(ve({},N2),{},{icon:Le.showMissingIcons&&e?mi("missingIconAbstract")||{}:{}}))})}const jy=()=>{},jh=Le.measurePerformance&&Al&&Al.mark&&Al.measure?Al:{mark:jy,measure:jy},qo='FA "6.7.1"',F2=e=>(jh.mark("".concat(qo," ").concat(e," begins")),()=>nk(e)),nk=e=>{jh.mark("".concat(qo," ").concat(e," ends")),jh.measure("".concat(qo," ").concat(e),"".concat(qo," ").concat(e," begins"),"".concat(qo," ").concat(e," ends"))};var mv={begin:F2,end:nk};const sc=()=>{};function Ny(e){return typeof(e.getAttribute?e.getAttribute(Xi):null)=="string"}function $2(e){const t=e.getAttribute?e.getAttribute(lv):null,r=e.getAttribute?e.getAttribute(cv):null;return t&&r}function V2(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Le.replacementClass)}function B2(){return Le.autoReplaceSvg===!0?lc.replace:lc[Le.autoReplaceSvg]||lc.replace}function U2(e){return ut.createElementNS("http://www.w3.org/2000/svg",e)}function z2(e){return ut.createElement(e)}function ik(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=e.tag==="svg"?U2:z2}=t;if(typeof e=="string")return ut.createTextNode(e);const n=r(e.tag);return Object.keys(e.attributes||[]).forEach(function(a){n.setAttribute(a,e.attributes[a])}),(e.children||[]).forEach(function(a){n.appendChild(ik(a,{ceFn:r}))}),n}function W2(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const lc={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(r=>{t.parentNode.insertBefore(ik(r),t)}),t.getAttribute(Xi)===null&&Le.keepOriginalSource){let r=ut.createComment(W2(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){const t=e[0],r=e[1];if(~fv(t).indexOf(Le.replacementClass))return lc.replace(e);const n=new RegExp("".concat(Le.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const a=r[0].attributes.class.split(" ").reduce((o,l)=>(l===Le.replacementClass||l.match(n)?o.toSvg.push(l):o.toNode.push(l),o),{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}const i=r.map(a=>qs(a)).join(`
`);t.setAttribute(Xi,""),t.innerHTML=i}};function Dy(e){e()}function ak(e,t){const r=typeof t=="function"?t:sc;if(e.length===0)r();else{let n=Dy;Le.mutateApproach===GA&&(n=pi.requestAnimationFrame||Dy),n(()=>{const i=B2(),a=mv.begin("mutate");e.map(i),a(),r()})}}let gv=!1;function ok(){gv=!0}function Nh(){gv=!1}let Wc=null;function Fy(e){if(!Ty||!Le.observeMutations)return;const{treeCallback:t=sc,nodeCallback:r=sc,pseudoElementsCallback:n=sc,observeMutationsRoot:i=ut}=e;Wc=new Ty(a=>{if(gv)return;const o=vi();lo(a).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!Ny(l.addedNodes[0])&&(Le.searchPseudoElements&&n(l.target),t(l.target)),l.type==="attributes"&&l.target.parentNode&&Le.searchPseudoElements&&n(l.target.parentNode),l.type==="attributes"&&Ny(l.target)&&~ZA.indexOf(l.attributeName))if(l.attributeName==="class"&&$2(l.target)){const{prefix:u,iconName:f}=bu(fv(l.target));l.target.setAttribute(lv,u||o),f&&l.target.setAttribute(cv,f)}else V2(l.target)&&r(l.target)})}),Rn&&Wc.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function H2(){Wc&&Wc.disconnect()}function q2(e){const t=e.getAttribute("style");let r=[];return t&&(r=t.split(";").reduce((n,i)=>{const a=i.split(":"),o=a[0],l=a.slice(1);return o&&l.length>0&&(n[o]=l.join(":").trim()),n},{})),r}function G2(e){const t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),n=e.innerText!==void 0?e.innerText.trim():"";let i=bu(fv(e));return i.prefix||(i.prefix=vi()),t&&r&&(i.prefix=t,i.iconName=r),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=y2(i.prefix,e.innerText)||pv(i.prefix,Oh(e.innerText))),!i.iconName&&Le.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Q2(e){const t=lo(e.attributes).reduce((i,a)=>(i.name!=="class"&&i.name!=="style"&&(i[a.name]=a.value),i),{}),r=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return Le.autoA11y&&(r?t["aria-labelledby"]="".concat(Le.replacementClass,"-title-").concat(n||xs()):(t["aria-hidden"]="true",t.focusable="false")),t}function K2(){return{iconName:null,title:null,titleId:null,prefix:null,transform:en,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function $y(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:n,rest:i}=G2(e),a=Q2(e),o=Lh("parseNodeAttributes",{},e);let l=t.styleParser?q2(e):[];return ve({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:n,transform:en,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:a}},o)}const{styles:Y2}=tn;function sk(e){const t=Le.autoReplaceSvg==="nest"?$y(e,{styleParser:!1}):$y(e);return~t.extra.classes.indexOf(BS)?mi("generateLayersText",e,t):mi("generateSvgReplacementMutation",e,t)}function X2(){return[...LA,...bh]}function Vy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Rn)return Promise.resolve();const r=ut.documentElement.classList,n=p=>r.add("".concat(Cy,"-").concat(p)),i=p=>r.remove("".concat(Cy,"-").concat(p)),a=Le.autoFetchSvg?X2():IS.concat(Object.keys(Y2));a.includes("fa")||a.push("fa");const o=[".".concat(BS,":not([").concat(Xi,"])")].concat(a.map(p=>".".concat(p,":not([").concat(Xi,"])"))).join(", ");if(o.length===0)return Promise.resolve();let l=[];try{l=lo(e.querySelectorAll(o))}catch{}if(l.length>0)n("pending"),i("complete");else return Promise.resolve();const u=mv.begin("onTree"),f=l.reduce((p,m)=>{try{const y=sk(m);y&&p.push(y)}catch(y){$S||y.name==="MissingIcon"&&console.error(y)}return p},[]);return new Promise((p,m)=>{Promise.all(f).then(y=>{ak(y,()=>{n("active"),n("complete"),i("pending"),typeof t=="function"&&t(),u(),p()})}).catch(y=>{u(),m(y)})})}function J2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;sk(e).then(r=>{r&&ak([r],t)})}function Z2(e){return function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(t||{}).icon?t:Ah(t||{});let{mask:i}=r;return i&&(i=(i||{}).icon?i:Ah(i||{})),e(n,ve(ve({},r),{},{mask:i}))}}const eM=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=en,symbol:n=!1,mask:i=null,maskId:a=null,title:o=null,titleId:l=null,classes:u=[],attributes:f={},styles:p={}}=t;if(!e)return;const{prefix:m,iconName:y,icon:x}=e;return Tu(ve({type:"icon"},e),()=>(Ji("beforeDOMElementCreation",{iconDefinition:e,params:t}),Le.autoA11y&&(o?f["aria-labelledby"]="".concat(Le.replacementClass,"-title-").concat(l||xs()):(f["aria-hidden"]="true",f.focusable="false")),vv({icons:{main:Mh(x),mask:i?Mh(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m,iconName:y,transform:ve(ve({},en),r),symbol:n,title:o,maskId:a,titleId:l,extra:{attributes:f,styles:p,classes:u}})))};var tM={mixout(){return{icon:Z2(eM)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Vy,e.nodeCallback=J2,e}}},provides(e){e.i2svg=function(t){const{node:r=ut,callback:n=()=>{}}=t;return Vy(r,n)},e.generateSvgReplacementMutation=function(t,r){const{iconName:n,title:i,titleId:a,prefix:o,transform:l,symbol:u,mask:f,maskId:p,extra:m}=r;return new Promise((y,x)=>{Promise.all([Ih(n,o),f.iconName?Ih(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(P=>{let[L,M]=P;y([t,vv({icons:{main:L,mask:M},prefix:o,iconName:n,transform:l,symbol:u,maskId:p,title:i,titleId:a,extra:m,watchable:!0})])}).catch(x)})},e.generateAbstractIcon=function(t){let{children:r,attributes:n,main:i,transform:a,styles:o}=t;const l=Su(o);l.length>0&&(n.style=l);let u;return dv(a)&&(u=mi("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:n}}}},rM={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=t;return Tu({type:"layer"},()=>{Ji("beforeDOMElementCreation",{assembler:e,params:t});let n=[];return e(i=>{Array.isArray(i)?i.map(a=>{n=n.concat(a.abstract)}):n=n.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Le.cssPrefix,"-layers"),...r].join(" ")},children:n}]})}}}},nM={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:n=[],attributes:i={},styles:a={}}=t;return Tu({type:"counter",content:e},()=>(Ji("beforeDOMElementCreation",{content:e,params:t}),j2({content:e.toString(),title:r,extra:{attributes:i,styles:a,classes:["".concat(Le.cssPrefix,"-layers-counter"),...n]}})))}}}},iM={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=en,title:n=null,classes:i=[],attributes:a={},styles:o={}}=t;return Tu({type:"text",content:e},()=>(Ji("beforeDOMElementCreation",{content:e,params:t}),Iy({content:e,transform:ve(ve({},en),r),title:n,extra:{attributes:a,styles:o,classes:["".concat(Le.cssPrefix,"-layers-text"),...i]}})))}}},provides(e){e.generateLayersText=function(t,r){const{title:n,transform:i,extra:a}=r;let o=null,l=null;if(AS){const u=parseInt(getComputedStyle(t).fontSize,10),f=t.getBoundingClientRect();o=f.width/u,l=f.height/u}return Le.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,Iy({content:t.innerHTML,width:o,height:l,transform:i,title:n,extra:a,watchable:!0})])}}};const aM=new RegExp('"',"ug"),By=[1105920,1112319],Uy=ve(ve(ve(ve({},{FontAwesome:{normal:"fas",400:"fas"}}),xA),HA),FA),Dh=Object.keys(Uy).reduce((e,t)=>(e[t.toLowerCase()]=Uy[t],e),{}),oM=Object.keys(Dh).reduce((e,t)=>{const r=Dh[t];return e[t]=r[900]||[...Object.entries(r)][0][1],e},{});function sM(e){const t=e.replace(aM,""),r=h2(t,0),n=r>=By[0]&&r<=By[1],i=t.length===2?t[0]===t[1]:!1;return{value:Oh(i?t[0]:t),isSecondary:n||i}}function lM(e,t){const r=e.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),i=isNaN(n)?"normal":n;return(Dh[r]||{})[i]||oM[r]}function zy(e,t){const r="".concat(qA).concat(t.replace(":","-"));return new Promise((n,i)=>{if(e.getAttribute(r)!==null)return n();const o=lo(e.children).filter(y=>y.getAttribute(Eh)===t)[0],l=pi.getComputedStyle(e,t),u=l.getPropertyValue("font-family"),f=u.match(XA),p=l.getPropertyValue("font-weight"),m=l.getPropertyValue("content");if(o&&!f)return e.removeChild(o),n();if(f&&m!=="none"&&m!==""){const y=l.getPropertyValue("content");let x=lM(u,p);const{value:P,isSecondary:L}=sM(y),M=f[0].startsWith("FontAwesome");let R=pv(x,P),_=R;if(M){const b=_2(P);b.iconName&&b.prefix&&(R=b.iconName,x=b.prefix)}if(R&&!L&&(!o||o.getAttribute(lv)!==x||o.getAttribute(cv)!==_)){e.setAttribute(r,_),o&&e.removeChild(o);const b=K2(),{extra:N}=b;N.attributes[Eh]=t,Ih(R,x).then(W=>{const H=vv(ve(ve({},b),{},{icons:{main:W,mask:tk()},prefix:x,iconName:_,extra:N,watchable:!0})),Y=ut.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(Y,e.firstChild):e.appendChild(Y),Y.outerHTML=H.map(ie=>qs(ie)).join(`
`),e.removeAttribute(r),n()}).catch(i)}else n()}else n()})}function cM(e){return Promise.all([zy(e,"::before"),zy(e,"::after")])}function uM(e){return e.parentNode!==document.head&&!~QA.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Eh)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Wy(e){if(Rn)return new Promise((t,r)=>{const n=lo(e.querySelectorAll("*")).filter(uM).map(cM),i=mv.begin("searchPseudoElements");ok(),Promise.all(n).then(()=>{i(),Nh(),t()}).catch(()=>{i(),Nh(),r()})})}var fM={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=Wy,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:r=ut}=t;Le.searchPseudoElements&&Wy(r)}}};let Hy=!1;var dM={mixout(){return{dom:{unwatch(){ok(),Hy=!0}}}},hooks(){return{bootstrap(){Fy(Lh("mutationObserverCallbacks",{}))},noAuto(){H2()},watch(e){const{observeMutationsRoot:t}=e;Hy?Nh():Fy(Lh("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const qy=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((r,n)=>{const i=n.toLowerCase().split("-"),a=i[0];let o=i.slice(1).join("-");if(a&&o==="h")return r.flipX=!0,r;if(a&&o==="v")return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(a){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o;break}return r},t)};var hM={mixout(){return{parse:{transform:e=>qy(e)}}},hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-transform");return r&&(e.transform=qy(r)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:r,transform:n,containerWidth:i,iconWidth:a}=t;const o={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(n.x*32,", ").concat(n.y*32,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),f="rotate(".concat(n.rotate," 0 0)"),p={transform:"".concat(l," ").concat(u," ").concat(f)},m={transform:"translate(".concat(a/2*-1," -256)")},y={outer:o,inner:p,path:m};return{tag:"g",attributes:ve({},y.outer),children:[{tag:"g",attributes:ve({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ve(ve({},r.icon.attributes),y.path)}]}]}}}};const Bf={x:0,y:0,width:"100%",height:"100%"};function Gy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function pM(e){return e.tag==="g"?e.children:[e]}var vM={hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-mask"),n=r?bu(r.split(" ").map(i=>i.trim())):tk();return n.prefix||(n.prefix=vi()),e.mask=n,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:r,attributes:n,main:i,mask:a,maskId:o,transform:l}=t;const{width:u,icon:f}=i,{width:p,icon:m}=a,y=s2({transform:l,containerWidth:p,iconWidth:u}),x={tag:"rect",attributes:ve(ve({},Bf),{},{fill:"white"})},P=f.children?{children:f.children.map(Gy)}:{},L={tag:"g",attributes:ve({},y.inner),children:[Gy(ve({tag:f.tag,attributes:ve(ve({},f.attributes),y.path)},P))]},M={tag:"g",attributes:ve({},y.outer),children:[L]},R="mask-".concat(o||xs()),_="clip-".concat(o||xs()),b={tag:"mask",attributes:ve(ve({},Bf),{},{id:R,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,M]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:pM(m)},b]};return r.push(N,{tag:"rect",attributes:ve({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(R,")")},Bf)}),{children:r,attributes:n}}}},mM={provides(e){let t=!1;pi.matchMedia&&(t=pi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const r=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ve(ve({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=ve(ve({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:ve(ve({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:ve(ve({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ve(ve({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:ve(ve({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ve(ve({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ve(ve({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ve(ve({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},gM={hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-symbol"),n=r===null?!1:r===""?!0:r;return e.symbol=n,e}}}},yM=[u2,tM,rM,nM,iM,fM,dM,hM,vM,mM,gM];x2(yM,{mixoutsTo:yr});yr.noAuto;yr.config;yr.library;yr.dom;const Fh=yr.parse;yr.findIconDefinition;yr.toHtml;const _M=yr.icon;yr.layer;yr.text;yr.counter;var lk={exports:{}},wM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SM=wM,kM=SM;function ck(){}function uk(){}uk.resetWarningCache=ck;var bM=function(){function e(n,i,a,o,l,u){if(u!==kM){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uk,resetWarningCache:ck};return r.PropTypes=r,r};lk.exports=bM();var TM=lk.exports;const Ge=C0(TM);function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(r),!0).forEach(function(n){Ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EM(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function PM(e,t){if(e==null)return{};var r=EM(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $h(e){return CM(e)||xM(e)||OM(e)||RM()}function CM(e){if(Array.isArray(e))return Vh(e)}function xM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OM(e,t){if(e){if(typeof e=="string")return Vh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vh(e,t)}}function Vh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LM(e){var t,r=e.beat,n=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,l=e.flash,u=e.spin,f=e.spinPulse,p=e.spinReverse,m=e.pulse,y=e.fixedWidth,x=e.inverse,P=e.border,L=e.listItem,M=e.flip,R=e.size,_=e.rotation,b=e.pull,N=(t={"fa-beat":r,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":l,"fa-spin":u,"fa-spin-reverse":p,"fa-spin-pulse":f,"fa-pulse":m,"fa-fw":y,"fa-inverse":x,"fa-border":P,"fa-li":L,"fa-flip":M===!0,"fa-flip-horizontal":M==="horizontal"||M==="both","fa-flip-vertical":M==="vertical"||M==="both"},Ia(t,"fa-".concat(R),typeof R<"u"&&R!==null),Ia(t,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),Ia(t,"fa-pull-".concat(b),typeof b<"u"&&b!==null),Ia(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(N).map(function(W){return N[W]?W:null}).filter(function(W){return W})}function AM(e){return e=e-0,e===e}function fk(e){return AM(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,r){return r?r.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var MM=["style"];function IM(e){return e.charAt(0).toUpperCase()+e.slice(1)}function jM(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,r){var n=r.indexOf(":"),i=fk(r.slice(0,n)),a=r.slice(n+1).trim();return i.startsWith("webkit")?t[IM(i)]=a:t[i]=a,t},{})}function dk(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(u){return dk(e,u)}),i=Object.keys(t.attributes||{}).reduce(function(u,f){var p=t.attributes[f];switch(f){case"class":u.attrs.className=p,delete t.attributes.class;break;case"style":u.attrs.style=jM(p);break;default:f.indexOf("aria-")===0||f.indexOf("data-")===0?u.attrs[f.toLowerCase()]=p:u.attrs[fk(f)]=p}return u},{attrs:{}}),a=r.style,o=a===void 0?{}:a,l=PM(r,MM);return i.attrs.style=Jr(Jr({},i.attrs.style),o),e.apply(void 0,[t.tag,Jr(Jr({},i.attrs),l)].concat($h(n)))}var hk=!1;try{hk=!0}catch{}function NM(){if(!hk&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Ky(e){if(e&&Hc(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Fh.icon)return Fh.icon(e);if(e===null)return null;if(e&&Hc(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Uf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ia({},e,t):{}}var Yy={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Tr=Er.forwardRef(function(e,t){var r=Jr(Jr({},Yy),e),n=r.icon,i=r.mask,a=r.symbol,o=r.className,l=r.title,u=r.titleId,f=r.maskId,p=Ky(n),m=Uf("classes",[].concat($h(LM(r)),$h((o||"").split(" ")))),y=Uf("transform",typeof r.transform=="string"?Fh.transform(r.transform):r.transform),x=Uf("mask",Ky(i)),P=_M(p,Jr(Jr(Jr(Jr({},m),y),x),{},{symbol:a,title:l,titleId:u,maskId:f}));if(!P)return NM("Could not find icon",p),null;var L=P.abstract,M={ref:t};return Object.keys(r).forEach(function(R){Yy.hasOwnProperty(R)||(M[R]=r[R])}),DM(L[0],M)});Tr.displayName="FontAwesomeIcon";Tr.propTypes={beat:Ge.bool,border:Ge.bool,beatFade:Ge.bool,bounce:Ge.bool,className:Ge.string,fade:Ge.bool,flash:Ge.bool,mask:Ge.oneOfType([Ge.object,Ge.array,Ge.string]),maskId:Ge.string,fixedWidth:Ge.bool,inverse:Ge.bool,flip:Ge.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ge.oneOfType([Ge.object,Ge.array,Ge.string]),listItem:Ge.bool,pull:Ge.oneOf(["right","left"]),pulse:Ge.bool,rotation:Ge.oneOf([0,90,180,270]),shake:Ge.bool,size:Ge.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ge.bool,spinPulse:Ge.bool,spinReverse:Ge.bool,symbol:Ge.oneOfType([Ge.bool,Ge.string]),title:Ge.string,titleId:Ge.string,transform:Ge.oneOfType([Ge.string,Ge.object]),swapOpacity:Ge.bool};var DM=dk.bind(null,Er.createElement);/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const pk={prefix:"fas",iconName:"microphone-slash",icon:[640,512,[],"f131","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 21.2-5.1 41.1-14.2 58.7L416 300.8 416 96c0-53-43-96-96-96s-96 43-96 96l0 54.3L38.8 5.1zM344 430.4c20.4-2.8 39.7-9.1 57.3-18.2l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128l0-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6z"]},FM={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M192 64C86 64 0 150 0 256S86 448 192 448l256 0c106 0 192-86 192-192s-86-192-192-192L192 64zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24l0 32 32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0 0 32c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-32-32 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l32 0 0-32z"]},$M={prefix:"fas",iconName:"clipboard",icon:[384,512,[128203],"f328","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},vk={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"]},VM={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},BM=VM,mk={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},gk={prefix:"fas",iconName:"video-slash",icon:[640,512,[],"f4e2","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7l-86.4-67.7 13.8 9.2c9.8 6.5 22.4 7.2 32.9 1.6s16.9-16.4 16.9-28.2l0-256c0-11.8-6.5-22.6-16.9-28.2s-23-5-32.9 1.6l-96 64L448 174.9l0 17.1 0 128 0 5.8-32-25.1L416 128c0-35.3-28.7-64-64-64L113.9 64 38.8 5.1zM407 416.7L32.3 121.5c-.2 2.1-.3 4.3-.3 6.5l0 256c0 35.3 28.7 64 64 64l256 0c23.4 0 43.9-12.6 55-31.3z"]},UM={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},yk={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]};var yv={exports:{}},Eu={},Za={},Pu={},zM=function(e){var t=e.location,r=e.URL;return[t,r].some(function(n){return!n})?function(i){return Promise.reject(new Error("Failed to import: "+i+": dynamicImport is not supported"))}:(e.__twilioVideoImportedModules={},function(i){return i in e.__twilioVideoImportedModules?Promise.resolve(e.__twilioVideoImportedModules[i]):new Function("scope","return import('"+new r(i,t)+"').then(m => scope.__twilioVideoImportedModules['"+i+"'] = m);")(e)})}(globalThis),_k=function(){},rn="undefined",WM=typeof window!==rn&&typeof window.navigator!==rn&&/Trident\/|MSIE /.test(window.navigator.userAgent),Bh=["trace","debug","info","warn","error"];function Xy(e,t){var r=e[t];if(typeof r.bind=="function")return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch{return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function HM(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function qM(e){return e==="debug"&&(e="log"),typeof console===rn?!1:e==="trace"&&WM?HM:console[e]!==void 0?Xy(console,e):console.log!==void 0?Xy(console,"log"):_k}function wk(e,t){for(var r=0;r<Bh.length;r++){var n=Bh[r];this[n]=r<e?_k:this.methodFactory(n,e,t)}this.log=this.debug}function GM(e,t,r){return function(){typeof console!==rn&&(wk.call(this,t,r),this[e].apply(this,arguments))}}function QM(e,t,r){return qM(e)||GM.apply(this,arguments)}function Sk(e,t,r){var n=this,i,a="loglevel";typeof e=="string"?a+=":"+e:typeof e=="symbol"&&(a=void 0);function o(f){var p=(Bh[f]||"silent").toUpperCase();if(!(typeof window===rn||!a)){try{window.localStorage[a]=p;return}catch{}try{window.document.cookie=encodeURIComponent(a)+"="+p+";"}catch{}}}function l(){var f;if(!(typeof window===rn||!a)){try{f=window.localStorage[a]}catch{}if(typeof f===rn)try{var p=window.document.cookie,m=p.indexOf(encodeURIComponent(a)+"=");m!==-1&&(f=/^([^;]+)/.exec(p.slice(m))[1])}catch{}return n.levels[f]===void 0&&(f=void 0),f}}n.name=e,n.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},n.methodFactory=r||QM,n.getLevel=function(){return i},n.setLevel=function(f,p){if(typeof f=="string"&&n.levels[f.toUpperCase()]!==void 0&&(f=n.levels[f.toUpperCase()]),typeof f=="number"&&f>=0&&f<=n.levels.SILENT){if(i=f,p!==!1&&o(f),wk.call(n,f,e),typeof console===rn&&f<n.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+f},n.setDefaultLevel=function(f){l()||n.setLevel(f,!1)},n.enableAll=function(f){n.setLevel(n.levels.TRACE,f)},n.disableAll=function(f){n.setLevel(n.levels.SILENT,f)};var u=l();u==null&&(u=t??"WARN"),n.setLevel(u,!1)}var on=new Sk,Uh={};on.getLogger=function(t){if(typeof t!="symbol"&&typeof t!="string"||t==="")throw new TypeError("You must supply a name when creating a logger.");var r=Uh[t];return r||(r=Uh[t]=new Sk(t,on.getLevel(),on.methodFactory)),r};var KM=typeof window!==rn?window.log:void 0;on.noConflict=function(){return typeof window!==rn&&window.log===on&&(window.log=KM),on};on.getLoggers=function(){return Uh};on.default=on;var kk=on,_v={exports:{}};const YM="twilio-video",XM="Twilio Video",JM="Twilio Video JavaScript Library",ZM="2.28.2",eI="https://twilio.com",tI="Mark Andrus Roberts <mroberts@twilio.com>",rI=["Ryan Rowland <rrowland@twilio.com>","Manjesh Malavalli <mmalavalli@twilio.com>","Makarand Patwardhan <mpatwardhan@twilio.com>"],nI=["twilio","webrtc","library","javascript","video","rooms"],iI={type:"git",url:"https://github.com/twilio/twilio-video.js.git"},aI={"@babel/core":"^7.14.2","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/preset-env":"^7.14.2","@babel/preset-typescript":"^7.13.0","@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","@typescript-eslint/eslint-plugin":"^4.13.0","@typescript-eslint/parser":"^4.0.0","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1",browserify:"^17.0.0",cheerio:"^0.22.0",cors:"^2.8.5",electron:"^17.2.0",envify:"^4.0.0",eslint:"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1",express:"^4.16.2",glob:"^7.1.7","ink-docstrap":"^1.3.2",inquirer:"^7.0.0","is-docker":"^2.0.0",jsdoc:"^3.5.5","jsdoc-babel":"^0.5.0","json-loader":"^0.5.7",karma:"6.4.1","karma-browserify":"^8.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","karma-typescript":"^5.5.1","karma-typescript-es6-transform":"^5.5.1",mocha:"^3.2.0","mock-require":"^3.0.3",ncp:"^2.0.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2",nyc:"^15.1.0","regex-replace":"^2.3.1",requirejs:"^2.3.3",rimraf:"^2.6.1","simple-git":"^1.126.0",sinon:"^4.0.1","ts-node":"4.0.1",tslint:"5.8.0",twilio:"^3.49.0","twilio-release-tool":"^1.0.2",typescript:"4.2.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0",watchify:"^3.11.1","webrtc-adapter":"^7.7.1"},oI={node:">=0.12"},sI="BSD-3-Clause",lI="./es5/index.js",cI="./tsdef/index.d.ts",uI={"lint:js":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/** ","lint:ts":"eslint ./tsdef/*.ts ./lib/**/*.ts",lint:"npm-run-all lint:js lint:ts","patch-linkifyit-111":'regex-replace "readonly linkify: LinkifyIt.LinkifyIt;" "readonly linkify: typeof LinkifyIt;" "node_modules/@types/markdown-it/lib/index.d.ts" --filecontents',printVersion:"node --version && npm --version","test:unit":"npm-run-all printVersion build:es5 && nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov --reporter=text mocha -r ts-node/register ./test/unit/*","test:unit:quick":"nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov mocha -r ts-node/register","test:serversiderender":"mocha ./test/serversiderender/index.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration":"npm run build:es5 && node ./scripts/karma.js karma/integration.conf.js","test:umd:install":"npm install puppeteer@19.2.2","test:umd":"mocha ./test/umd/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework":"npm-run-all test:framework:install test:framework:no-framework test:framework:react",test:"npm-run-all test:unit test:integration","build:es5":"rimraf ./es5 && mkdir -p es5 && npm run patch-linkifyit-111 && tsc tsdef/twilio-video-tests.ts --noEmit --lib es2018,dom && tsc","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":'uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments "/^! twilio-video.js/" -b beautify=false,ascii_only=true',build:"npm-run-all clean lint docs test:unit test:integration build:es5 build:js build:min.js test:umd","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js",docs:"node ./scripts/docs.js ./dist/docs",watch:"tsc -w",clean:"rimraf ./coverage ./es5 ./dist"},fI={events:"^3.3.0",util:"^0.12.4",ws:"^7.4.6",xmlhttprequest:"^1.8.0"},dI={ws:"./src/ws.js",xmlhttprequest:"./src/xmlhttprequest.js"},bk={name:YM,title:XM,description:JM,version:ZM,homepage:eI,author:tI,contributors:rI,keywords:nI,repository:iI,devDependencies:aI,engines:oI,license:sI,main:lI,types:cI,scripts:uI,dependencies:fI,browser:dI};_v.exports;(function(e){var t=bk;e.exports.SDK_NAME=t.name+".js",e.exports.SDK_VERSION=t.version,e.exports.SDP_FORMAT="unified",e.exports.hardwareDevicePublisheriPad={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPad",hwDeviceType:"tablet",platformName:"iOS"},e.exports.hardwareDevicePublisheriPhone={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPhone",hwDeviceType:"mobile",platformName:"iOS"},e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.DEFAULT_LOGGER_NAME="twilio-video",e.exports.WS_SERVER=function(n,i){return i=i==="gll"?"global":encodeURIComponent(i),n==="prod"?"wss://"+i+".vss.twilio.com/signaling":"wss://"+i+".vss."+n+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20;function r(n){return["a","e","i","o","u"].includes(n.toLowerCase()[0])?"an":"a"}e.exports.typeErrors={ILLEGAL_INVOKE:function(n,i){return new TypeError("Illegal call to "+n+": "+i)},INVALID_TYPE:function(n,i){return new TypeError(n+" must be "+r(i)+" "+i)},INVALID_VALUE:function(n,i){return new RangeError(n+" must be one of "+i.join(", "))},REQUIRED_ARGUMENT:function(n){return new TypeError(n+" must be specified")}},e.exports.DEFAULT_FRAME_RATE=24,e.exports.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS=1e4,e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,min:1,max:e.exports.DEFAULT_SESSION_TIMEOUT_SEC*1e3,jitter:1},e.exports.reconnectBackoffConfig={factor:1.5,min:80,jitter:1},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"},e.exports.clientTrackSwitchOffControl={MODE_AUTO:"auto",MODE_MANUAL:"manual"},e.exports.videoContentPreferencesMode={MODE_AUTO:"auto",MODE_MANUAL:"manual"}})(_v);var ot=_v.exports,hI=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},pI=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},vI=kk.getLogger,Tk=ot,Jy=Tk.DEFAULT_LOG_LEVEL,mI=Tk.DEFAULT_LOGGER_NAME,cc=ot.typeErrors,$o;function gI(e){if($o=$o||new Map,$o.has(e))return $o.get(e);var t=new Set;return $o.set(e,t),t}var wv=function(){function e(t,r,n,i,a){if(typeof t!="string")throw cc.INVALID_TYPE("moduleName","string");if(!r)throw cc.REQUIRED_ARGUMENT("component");typeof n!="object"&&(n={}),a=a||vI,Zy(n),Object.defineProperties(this,{_component:{value:r},_logLevels:{value:n},_warnings:{value:new Set},_loggerName:{get:function(){var l=i&&typeof i=="string"?i:mI;return this._logLevelsEqual||(l=l+"-"+t),l}},_logger:{get:function(){var l=a(this._loggerName),u=this._logLevels[t]||Jy;return u=u==="off"?"silent":u,l.setDefaultLevel(u),l}},_logLevelsEqual:{get:function(){return new Set(Object.values(this._logLevels)).size===1}},logLevel:{get:function(){return e.getLevelByName(n[t]||Jy)}},name:{get:r.toString.bind(r)}})}return e.getLevelByName=function(t){return isNaN(t)?(t=t.toUpperCase(),Ck(t),e[t]):parseInt(t,10)},e.prototype.createLog=function(t,r){var n=this._loggerName;return this._logLevelsEqual||(n=n.substring(0,n.lastIndexOf("-"))),new e(t,r,this._logLevels,n)},e.prototype.setLevels=function(t){return Zy(t),Object.assign(this._logLevels,t),this},e.prototype.log=function(t,r){var n=e._levels[t];if(!n)throw cc.INVALID_VALUE("logLevel",Pk);n=n.toLowerCase();var i=[new Date().toISOString(),n,this.name];return(this._logger[n]||function(){}).apply(void 0,pI([],hI(i.concat(r)))),this},e.prototype.debug=function(){return this.log(e.DEBUG,[].slice.call(arguments))},e.prototype.deprecated=function(t){var r=gI(this._component.constructor);return r.has(t)?this:(r.add(t),this.warn(t))},e.prototype.info=function(){return this.log(e.INFO,[].slice.call(arguments))},e.prototype.warn=function(){return this.log(e.WARN,[].slice.call(arguments))},e.prototype.warnOnce=function(t){return this._warnings.has(t)?this:(this._warnings.add(t),this.warn(t))},e.prototype.error=function(){return this.log(e.ERROR,[].slice.call(arguments))},e.prototype.throw=function(t,r){throw t.clone&&(t=t.clone(r)),this.log(e.ERROR,t),t},e}();Object.defineProperties(wv,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var Ek={},Pk=[],yI=wv._levels.map(function(e,t){return Ek[e]=!0,Pk.push(t),e});function Ck(e){if(!(e in Ek))throw cc.INVALID_VALUE("level",yI)}function Zy(e){Object.keys(e).forEach(function(t){Ck(e[t].toUpperCase())})}var Ln=wv,_I=A&&A.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(m){o(m)}}function u(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?a(p.value):i(p.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},wI=A&&A.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.createNoiseCancellationAudioProcessor=void 0;var SI=zM,kI={krisp:{supportedVersion:"1.0.0",pluginFile:"krispsdk.mjs"},rnnoise:{supportedVersion:"0.6.0",pluginFile:"rnnoise_sdk.mjs"}},bI=function(e){var t=e.supportedVersion,r=e.plugin,n=e.log;if(!r.getVersion||!r.isSupported)throw new Error("Plugin does not export getVersion/isSupported api. Are you using old version of the plugin ?");var i=r.getVersion();n.debug("Plugin Version = "+i);var a=t.split(".").map(function(f){return Number(f)}),o=i.split(".").map(function(f){return Number(f)});if(a.length!==3||o.length!==3)throw new Error("Unsupported Plugin version format: "+t+", "+i);if(a[0]!==o[0])throw new Error("Major version mismatch: [Plugin version "+i+"],  [Supported Version "+t+"]");if(o[1]<a[1])throw new Error("Minor version mismatch: [Plugin version "+i+"] < [Supported Version "+t+"]");var l=new AudioContext,u=r.isSupported(l);if(l.close(),!u)throw new Error("Noise Cancellation plugin is not supported on your browser")},e_=new Map;function TI(e,t){return _I(this,void 0,void 0,function(){var r,n,i,a,o,l,u,f,p;return wI(this,function(m){switch(m.label){case 0:if(r=e_.get(e.vendor),r)return[3,6];if(n=kI[e.vendor],!n)throw new Error("Unsupported NoiseCancellationOptions.vendor: "+e.vendor);i=n.supportedVersion,a=n.pluginFile,o=e.sdkAssetsPath,l=o+"/"+a,m.label=1;case 1:return m.trys.push([1,5,,6]),t.debug("loading noise cancellation sdk: ",l),[4,SI(l)];case 2:return u=m.sent(),t.debug("Loaded noise cancellation sdk:",u),f=u.default,bI({supportedVersion:i,plugin:f,log:t}),f.isInitialized()?[3,4]:(t.debug("initializing noise cancellation sdk: ",o),[4,f.init({rootDir:o})]);case 3:m.sent(),t.debug("noise cancellation sdk initialized!"),m.label=4;case 4:return r={vendor:e.vendor,isInitialized:function(){return f.isInitialized()},isConnected:function(){return f.isConnected()},isEnabled:function(){return f.isEnabled()},disconnect:function(){return f.disconnect()},enable:function(){return f.enable()},disable:function(){return f.disable()},destroy:function(){return f.destroy()},setLogging:function(y){return f.setLogging(y)},connect:function(y){t.debug("connect: ",y.id),f.isConnected()&&f.disconnect();var x=f.connect(new MediaStream([y]));if(!x)throw new Error("Error connecting with noise cancellation sdk");var P=x.getAudioTracks()[0];if(!P)throw new Error("Error getting clean track from noise cancellation sdk");return f.enable(),P}},e_.set(e.vendor,r),[3,6];case 5:throw p=m.sent(),t.error("Error loading noise cancellation sdk:"+l,p),p;case 6:return[2,r]}})})}Pu.createNoiseCancellationAudioProcessor=TI;var xk=A&&A.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(m){o(m)}}function u(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?a(p.value):i(p.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},Ok=A&&A.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(Za,"__esModule",{value:!0});Za.applyNoiseCancellation=Za.NoiseCancellationImpl=void 0;var EI=Pu,Rk=function(){function e(t,r){this._processor=t,this._sourceTrack=r,this._disabledPermanent=!1}return Object.defineProperty(e.prototype,"vendor",{get:function(){return this._processor.vendor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceTrack",{get:function(){return this._sourceTrack},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._processor.isEnabled()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){if(this._disabledPermanent)throw new Error(this.vendor+" noise cancellation is disabled permanently for this track");return this._processor.enable(),Promise.resolve()},e.prototype.disable=function(){return this._processor.disable(),Promise.resolve()},e.prototype.reacquireTrack=function(t){return xk(this,void 0,void 0,function(){var r,n,i;return Ok(this,function(a){switch(a.label){case 0:return r=this._processor.isEnabled(),this._processor.disconnect(),[4,t()];case 1:return n=a.sent(),this._sourceTrack=n,[4,this._processor.connect(n)];case 2:return i=a.sent(),r?this._processor.enable():this._processor.disable(),[2,i]}})})},e.prototype.disablePermanently=function(){return this._disabledPermanent=!0,this.disable()},e.prototype.stop=function(){this._processor.disconnect(),this._sourceTrack.stop()},e}();Za.NoiseCancellationImpl=Rk;function PI(e,t,r){return xk(this,void 0,void 0,function(){var n,i,a,o;return Ok(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,EI.createNoiseCancellationAudioProcessor(t,r)];case 1:return n=l.sent(),i=n.connect(e),a=new Rk(n,e),[2,{cleanTrack:i,noiseCancellation:a}];case 2:return o=l.sent(),r.warn("Failed to create noise cancellation. Returning normal audio track: "+o),[2,{cleanTrack:e}];case 3:return[2]}})})}Za.applyNoiseCancellation=PI;var Pe={},rt={},Lk=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},CI=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function xI(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}function OI(e,t,r,n){if(!(n in t)&&!n.match(/^on[a-z]+$/)){var i=!1;try{var a=Object.getOwnPropertyDescriptor(e,n);i=a&&!!a.get}catch{}if(!i){var o;try{o=typeof e[n]}catch{}o==="function"&&(t[n]=function(){return this[r][n].apply(this[r],arguments)})}}}function RI(e,t,r){for(var n in e)OI(e,t,r,n)}function LI(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var r=new Set;return e.forEach(function(n){t.has(n)||r.add(n)}),r}function AI(e,t){var r=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return r.reduce(function(n,i){return n.concat(t(i))},[])}function Sv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:null}function kv(e){return typeof e>"u"&&(e=Sv()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari|iPhone|iPad|iPod/.test(e)?"safari":null}function MI(e){typeof e>"u"&&(e=Sv());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[kv(e)];if(!t)return null;var r=new RegExp("("+t+")/([^\\s]+)"),n=Lk(e.match(r)||[],3),i=n[2];if(!i)return null;var a=i.split(".").map(Number);return{major:isNaN(a[0])?null:a[0],minor:isNaN(a[1])?null:a[1]}}function II(e){return typeof e>"u"&&(e=Sv()),/Mobi/.test(e)&&kv()==="chrome"&&/iPad|iPhone|iPod/.test(e)}function jI(e,t){var r=null;Object.defineProperty(e,"on"+t,{get:function(){return r},set:function(n){r&&this.removeEventListener(t,r),typeof n=="function"?(r=n,this.addEventListener(t,r)):r=null}})}function NI(e,t,r){return t?e.then(t,r):e}function DI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function FI(e,t,r){Object.getOwnPropertyNames(e).forEach(function(n){$I(e,t,r,n)})}function $I(e,t,r,n){if(!(n in t)){if(n.match(/^on[a-z]+$/)){Object.defineProperty(t,n,{value:null,writable:!0}),r.addEventListener(n.slice(2),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return t.dispatchEvent.apply(t,CI([],Lk(i)))});return}Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[n]}})}}function VI(){return typeof navigator=="object"&&typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.getUserMedia=="function"&&typeof RTCPeerConnection=="function"}function BI(e){if(typeof RTCRtpSender<"u"&&typeof RTCRtpSender.getCapabilities=="function")return Promise.resolve(new Set(RTCRtpSender.getCapabilities(e).codecs.map(function(r){var n=r.mimeType;return n.split("/")[1].toLowerCase()})));if(typeof RTCPeerConnection>"u"||typeof RTCPeerConnection.prototype>"u"||typeof RTCPeerConnection.prototype.addTransceiver!="function"||typeof RTCPeerConnection.prototype.close!="function"||typeof RTCPeerConnection.prototype.createOffer!="function")return Promise.resolve(new Set);var t=new RTCPeerConnection;return t.addTransceiver(e),t.createOffer().then(function(r){var n=r.sdp;return t.close(),new Set((n.match(/^a=rtpmap:.+$/gm)||[]).map(function(i){return i.match(/^a=rtpmap:.+ ([^/]+)/)[1].toLowerCase()}))},function(){return t.close(),new Set})}var zh=new Map;function UI(e,t){var r=zh.get(t);return r?Promise.resolve(r.has(e.toLowerCase())):BI(t).then(function(n){return zh.set(t,n),n.has(e.toLowerCase())})}function zI(){zh.clear()}rt.clearCachedSupportedCodecs=zI;rt.defer=xI;rt.delegateMethods=RI;rt.difference=LI;rt.flatMap=AI;rt.guessBrowser=kv;rt.guessBrowserVersion=MI;rt.isCodecSupported=UI;rt.isIOSChrome=II;rt.interceptEvent=jI;rt.legacyPromise=NI;rt.makeUUID=DI;rt.proxyProperties=FI;rt.support=VI;var Cu={},t_="1234567890abcdef",WI=32;function Ak(e){for(var t="",r=0;r<WI;r++)t+=t_.charAt(Math.floor(Math.random()*t_.length));return""+e+t}Cu.sessionSID=Ak("SS");Cu.createSID=Ak;var HI={recordingMediaLost:"recording-media-lost"},Mk=HI,qI=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lr=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Zi=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},bv=ot,GI=bv.typeErrors,zf=bv.trackPriority,QI=rt,KI=Cu.sessionSID,YI=Mk;function XI(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return e.kind==="audio"?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw GI.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}function JI(e,t,r,n){var i={audio:n.LocalAudioTrackPublication,video:n.LocalVideoTrackPublication,data:n.LocalDataTrackPublication}[e.kind];return new i(t,e,r,n)}function ZI(e){return e[0].toUpperCase()+e.slice(1)}function ej(e,t,r,n){var i=new Set;t.on("newListener",function a(o){r.has(o)&&!i.has(o)&&(n.deprecated(e+"#"+o+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(r.get(o)?" Use "+e+"#"+r.get(o)+" instead.":"")),i.add(o)),i.size>=r.size&&t.removeListener("newListener",a)})}function tj(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var r=new Set;return e.forEach(function(n){t.has(n)||r.add(n)}),r}function rj(e,t){return Object.keys(e).reduce(function(r,n){return e[n]!==t&&(r[n]=e[n]),r},{})}function nj(e,t){var r=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(i){return i},r.reduce(function(n,i){var a=t(i);return n.concat(a)},[])}function Ik(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent:"Unknown"}function ij(){var e=Ik(),t=lr(e.match(/\(([^)]+)\)/)||[],2),r=t[1],n=r===void 0?"unknown":r,i=lr(n.split(";").map(function(o){return o.trim()}),1),a=i[0];return a.toLowerCase()}function aj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function oj(e){var t=null;function r(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(r)}}function sj(e,t,r,n){return new Promise(function(i,a){function o(){var u=[].slice.call(arguments);n&&t.removeListener(n,l),i.apply(void 0,Zi([],lr(u)))}function l(){var u=[].slice.call(arguments);t.removeListener(r,o),a.apply(void 0,Zi([],lr(u)))}t.once(r,o),n&&t.once(n,l),e()})}function lj(e,t){return t.split(".").reduce(function(r,n){return r?r[n]:null},e)}function cj(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}function uj(e,t,r,n){if(!(n in t)&&!n.match(/^on[a-z]+$/)){var i;try{i=typeof e[n]}catch{}i==="function"&&(t[n]=function(){for(var a,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(a=this[r])[n].apply(a,Zi([],lr(o)))})}}function fj(e,t,r){for(var n in e)uj(e,t,r,n)}function uc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(e===null)return t===null;if(t===null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(i,a){return uc(i,t[a])});if(typeof e=="object"){var r=Object.keys(e).sort(),n=Object.keys(t).sort();return!Array.isArray(t)&&uc(r,n)&&r.every(function(i){return uc(e[i],t[i])})}return!1}function jk(e){return typeof e=="object"&&!Array.isArray(e)}function dj(e,t,r){Object.getOwnPropertyNames(e).forEach(function(n){hj(e,t,r,n)})}function hj(e,t,r,n){if(!(n in t)){if(n.match(/^on[a-z]+$/)){Object.defineProperty(t,n,{value:null,writable:!0}),r.addEventListener(n.slice(2),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];t.dispatchEvent.apply(t,Zi([],lr(i)))});return}Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[n]}})}}function pj(e,t,r){return t?e.then(function(n){t(n)},function(n){r(n)}):e}function vj(e){return typeof e=="string"?{default:e,media:e,signaling:e,webrtc:e}:e}function mj(e,t){return t=t?"Local":"",t+(e.kind||"").replace(/\w{1}/,function(r){return r.toUpperCase()})+"Track"}function gj(e,t){return t=t?"Local":"",t+(e.kind||"").replace(/\w{1}/,function(r){return r.toUpperCase()})+"TrackPublication"}function Nk(e){Object.getOwnPropertyNames(e).forEach(function(t){t.startsWith("_")&&Dk(e,t)})}function yj(e,t){return function(r){qI(n,r);function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=r.apply(this,Zi([],lr(i)))||this;return Nk(o),_j(o,t),o}return n}(e)}function Dk(e,t){var r=Object.getOwnPropertyDescriptor(e,t);r.enumerable=!1,Object.defineProperty(e,t,r)}function _j(e,t){t===void 0&&(t=[]),t.forEach(function(r){e.hasOwnProperty(r)&&Dk(e,r)})}function Fk(e){return e.map(xu)}function wj(e){return Fk(Zi([],lr(e)))}function Sj(e){return Zi([],lr(e.entries())).reduce(function(t,r){var n,i=lr(r,2),a=i[0],o=i[1];return Object.assign((n={},n[a]=xu(o),n),t)},{})}function kj(e){return Object.entries(e).reduce(function(t,r){var n,i=lr(r,2),a=i[0],o=i[1];return Object.assign((n={},n[a]=xu(o),n),t)},{})}function xu(e){return Array.isArray(e)?Fk(e):e instanceof Set?wj(e):e instanceof Map?Sj(e):e&&typeof e=="object"?kj(e):e}function bj(e){function t(i){return i?"true":"false"}var r={sessionSID:KI,iceServers:(e.iceServers||[]).length,audioTracks:(e.tracks||[]).filter(function(i){return i.kind==="audio"}).length,videoTracks:(e.tracks||[]).filter(function(i){return i.kind==="video"}).length,dataTracks:(e.tracks||[]).filter(function(i){return i.kind==="data"}).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach(function(i){var a=lr(i,2),o=a[0],l=a[1];l=l||o,r[l]=t(!!e[o])}),[["maxVideoBitrate"],["maxAudioBitrate"]].forEach(function(i){var a=lr(i,2),o=a[0],l=a[1];l=l||o,typeof e[o]=="number"?r[l]=e[o]:isNaN(Number(e[o]))||(r[l]=Number(e[o]))}),[["iceTransportPolicy"],["region"],["name","roomName"]].forEach(function(i){var a=lr(i,2),o=a[0],l=a[1];l=l||o,typeof e[o]=="string"?r[l]=e[o]:typeof e[o]=="number"&&o==="name"&&(r[l]=e[o].toString())}),["preferredAudioCodecs","preferredVideoCodecs"].forEach(function(i){i in e&&(r[i]=JSON.stringify(e[i]))}),"networkQuality"in e&&(r.networkQualityConfiguration={},jk(e.networkQuality)?["local","remote"].forEach(function(i){typeof e.networkQuality[i]=="number"&&(r.networkQualityConfiguration[i]=e.networkQuality[i])}):(r.networkQualityConfiguration.remote=0,r.networkQualityConfiguration.local=e.networkQuality?1:0)),e.bandwidthProfile&&e.bandwidthProfile.video){var n=e.bandwidthProfile.video||{};r.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate","renderDimensions","contentPreferencesMode","clientTrackSwitchOffControl"].forEach(function(i){typeof n[i]=="number"||typeof n[i]=="string"?r.bandwidthProfileOptions[i]=n[i]:typeof n[i]=="boolean"?r.bandwidthProfileOptions[i]=t(n[i]):typeof n[i]=="object"&&(r.bandwidthProfileOptions[i]=JSON.stringify(n[i]))})}return{group:"room",name:"connect",level:"info",payload:r}}function Tj(e){return Ou(e,[{prop:"video",type:"object",transform:Ej}])}function Ej(e){return Ou(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:Cj},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function Pj(e,t,r,n,i,a){var o={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:o}:{},t?{network_quality:o}:{},a?{render_hints:o}:{},i?{publisher_hints:o}:{},r?{track_priority:o}:{},n?{track_switch_off:o}:{})}function Wf(e){return Ou(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function Cj(e){var t=zf.PRIORITY_HIGH,r=zf.PRIORITY_LOW,n=zf.PRIORITY_STANDARD;return Ou(e,[{prop:t,type:"object",transform:Wf},{prop:r,type:"object",transform:Wf},{prop:n,type:"object",transform:Wf}])}function Ou(e,t){return t.reduce(function(r,n){var i,a=n.prop,o=n.type,l=n.payloadProp,u=l===void 0?a:l,f=n.transform,p=f===void 0?function(m){return m}:f;return typeof e[a]===o?Object.assign((i={},i[u]=p(e[a]),i),r):r},{})}function xj(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}}function Oj(e){var t,r=(t={},t[YI.recordingMediaLost]="recordings",t);return e.map(function(n){return r[n]}).filter(function(n){return!!n})}function Rj(e,t){var r=Math.random();return e-t+Math.floor(2*t*r+.5)}function Lj(e,t,r){return t<=e&&e<=r}function Aj(e){return QI.guessBrowser()==="chrome"&&e.kind==="video"&&"displaySurface"in e.getSettings()}function Mj(e){return e===void 0&&(e=10),new Promise(function(t){return setTimeout(t,e)})}function Ij(e,t){return new Promise(function(r){e.addEventListener(t,function n(i){e.removeEventListener(t,n),r(i)})})}Pe.constants=bv;Pe.createBandwidthProfilePayload=Tj;Pe.createMediaSignalingPayload=Pj;Pe.createMediaWarningsPayload=Oj;Pe.createRoomConnectEventPayload=bj;Pe.createSubscribePayload=xj;Pe.asLocalTrack=XI;Pe.asLocalTrackPublication=JI;Pe.capitalize=ZI;Pe.deprecateEvents=ej;Pe.difference=tj;Pe.filterObject=rj;Pe.flatMap=nj;Pe.getPlatform=ij;Pe.getUserAgent=Ik;Pe.hidePrivateProperties=Nk;Pe.hidePrivateAndCertainPublicPropertiesInClass=yj;Pe.isDeepEqual=uc;Pe.isNonArrayObject=jk;Pe.inRange=Lj;Pe.makeUUID=aj;Pe.oncePerTick=oj;Pe.promiseFromEvents=sj;Pe.getOrNull=lj;Pe.defer=cj;Pe.delegateMethods=fj;Pe.proxyProperties=dj;Pe.legacyPromise=pj;Pe.buildLogLevels=vj;Pe.trackClass=mj;Pe.trackPublicationClass=gj;Pe.valueToJSON=xu;Pe.withJitter=Rj;Pe.isChromeScreenShareTrack=Aj;Pe.waitForSometime=Mj;Pe.waitForEvent=Ij;var cr={},$k=rt,jj=$k.flatMap,Nj=$k.guessBrowser,xi=null;function Dj(){if(typeof xi=="boolean")return xi;if(typeof RTCPeerConnection>"u")return xi=!1,xi;try{new RTCPeerConnection({sdpSemantics:"foo"}),xi=!1}catch{xi=!0}return xi}var ya=null;function Fj(){ya=null}function $j(){if(!ya)if(typeof RTCPeerConnection<"u"&&"addTransceiver"in RTCPeerConnection.prototype){var e=new RTCPeerConnection;try{e.addTransceiver("audio"),ya="unified"}catch{ya="planb"}e.close()}else ya="planb";return ya}function Vj(e){return!e||!Dj()?$j():{"plan-b":"planb","unified-plan":"unified"}[e]}function Bj(){return typeof RTCRtpTransceiver<"u"&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}function Uj(e){return{chrome:Vj(e),firefox:"unified",safari:Bj()}[Nj()]||null}function Tv(e,t){var r=t.match(new RegExp(e,"gm"))||[];return r.reduce(function(n,i){var a=i.match(new RegExp(e));return a?n.add(a[1]):n},new Set)}function Vk(e,t){return Tv(e,t)}function Bk(e){return Vk("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function Uk(e){return Vk("^a=msid:.+ +(.+) *$",e)}function zk(e,t){var r="^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$";return Tv(r,e)}function Wk(e,t,r){return t===void 0&&(t=".*"),r===void 0&&(r=".*"),e.split(`\r
m=`).slice(1).map(function(n){return"m="+n}).filter(function(n){var i=new RegExp("m="+t,"gm"),a=new RegExp("a="+r,"gm");return i.test(n)&&a.test(n)})}function zj(e){return Array.from(Tv("^a=ssrc:([0-9]+) +.*$",e))}function Hk(e,t){var r=Wk(e),n=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),i=r.filter(function(a){return a.match(n)});return new Set(jj(i,zj))}function qk(e,t,r){return new Map(Array.from(e(r)).map(function(n){return[n,t(r,n)]}))}function Wj(e){return qk(Bk,zk,e)}function Hj(e){return qk(Uk,Hk,e)}function Gk(e,t,r){var n=e(r),i=new Map;n.forEach(function(l,u){if(!t.has(u)){t.set(u,l);return}var f=Array.from(t.get(u)),p=Array.from(l);f.forEach(function(m,y){var x=p[y];i.set(x,m);var P="^a=ssrc:"+x+" (.*)$",L="a=ssrc:"+m+" $1";r=r.replace(new RegExp(P,"gm"),L)})});var a="^(a=ssrc-group:[^ ]+ +)(.*)$",o=r.match(new RegExp(a,"gm"))||[];return o.forEach(function(l){var u=l.match(new RegExp(a));if(u){var f=u[1],p=u[2],m=p.split(" ").map(function(y){var x=i.get(y);return x||y}).join(" ");r=r.replace(u[0],f+m)}}),r}function qj(e,t){return Gk(Wj,e,t)}function Gj(e,t){return Gk(Hj,e,t)}cr.clearChromeCachedSdpFormat=Fj;cr.getSdpFormat=Uj;cr.getMediaSections=Wk;cr.getPlanBTrackIds=Bk;cr.getUnifiedPlanTrackIds=Uk;cr.getPlanBSSRCs=zk;cr.getUnifiedPlanSSRCs=Hk;cr.updatePlanBTrackIdsToSSRCs=qj;cr.updateUnifiedPlanTrackIdsToSSRCs=Gj;var Qj=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Ev=rt,Qk=Ev.flatMap,Kj=Ev.guessBrowser,Yj=Ev.guessBrowserVersion,Xj=cr.getSdpFormat,Pv=Kj(),Jj=Yj(),Cv=Pv==="chrome",Kk=Pv==="firefox",Yk=Pv==="safari",r_=Cv?Jj.major:null,Zj=32767;function eN(e,t){return e&&typeof e.getStats=="function"?tN(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}function tN(e,t){var r=Il(e,"audio","local"),n=Il(e,"video","local"),i=Il(e,"audio"),a=Il(e,"video"),o={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},l=Qk([[r,"localAudioTrackStats",!1],[n,"localVideoTrackStats",!1],[i,"remoteAudioTrackStats",!0],[a,"remoteVideoTrackStats",!0]],function(u){var f=Qj(u,3),p=f[0],m=f[1],y=f[2];return p.map(function(x){return aN(e,x,Object.assign({isRemote:y},t)).then(function(P){P.forEach(function(L){L.trackId=x.id,o[m].push(L)})})})});return Promise.all(l).then(function(){return rN(e,t)}).then(function(u){return o.activeIceCandidatePair=u,o})}function rN(e,t){return t===void 0&&(t={}),typeof t.testForChrome<"u"||Cv||typeof t.testForSafari<"u"||Yk?e.getStats().then(nN):typeof t.testForFirefox<"u"||Kk?e.getStats().then(iN):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}function nN(e){var t=Array.from(e.values()).find(function(u){var f=u.nominated,p=u.type;return p==="candidate-pair"&&f});if(!t)return null;var r=e.get(t.localCandidateId),n=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o=r?a.reduce(function(u,f){var p=f.key,m=f.type;return u[p]=typeof r[p]===m?r[p]:p==="deleted"?!1:null,u},{}):null,l=n?i.reduce(function(u,f){var p=f.key,m=f.type;return u[p]=typeof n[p]===m?n[p]:null,u},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(u){return u==="inprogress"?"in-progress":u}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(u,f){var p=f.key,m=f.type,y=f.fixup;return u[p]=typeof t[p]===m?y?y(t[p]):t[p]:null,u},{localCandidate:o,remoteCandidate:l})}function iN(e){var t=Array.from(e.values()).find(function(f){var p=f.nominated,m=f.type;return m==="candidate-pair"&&p});if(!t)return null;var r=e.get(t.localCandidateId),n=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},l=r?a.reduce(function(f,p){var m=p.ffKeys,y=p.key,x=p.type,P=m&&m.find(function(L){return L in r})||y;return f[y]=typeof r[P]===x?P==="candidateType"&&o[r[P]]||r[P]:P==="deleted"?!1:null,f},{}):null,u=n?i.reduce(function(f,p){var m=p.ffKeys,y=p.key,x=p.type,P=m&&m.find(function(L){return L in n})||y;return f[y]=typeof n[P]===x?P==="candidateType"&&o[n[P]]||n[P]:null,f},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(f,p){var m=p.key,y=p.type;return f[m]=typeof t[m]===y?t[m]:null,f},{localCandidate:l,remoteCandidate:u})}function Il(e,t,r){var n=r==="local"?"getSenders":"getReceivers";if(e[n])return e[n]().map(function(o){var l=o.track;return l}).filter(function(o){return o&&o.kind===t});var i=r==="local"?"getLocalStreams":"getRemoteStreams",a=t==="audio"?"getAudioTracks":"getVideoTracks";return Qk(e[i](),function(o){return o[a]()})}function aN(e,t,r){return r===void 0&&(r={}),typeof r.testForChrome<"u"||Cv?n_(e,t,r):typeof r.testForFirefox<"u"||Kk?oN(e,t,r):typeof r.testForSafari<"u"||Yk?typeof r.testForSafari<"u"||Xj()==="unified"?n_(e,t,r):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" "))):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}function n_(e,t,r){return r_&&r_<67?new Promise(function(n,i){e.getStats(function(a){n([sN(a,t)])},null,i)}):e.getStats(t).then(function(n){return lN(n,r)})}function oN(e,t,r){return e.getStats(t).then(function(n){return[cN(n,r)]})}function sN(e,t){var r=e.result().find(function(i){return i.type==="ssrc"&&i.stat("googTrackId")===t.id}),n={};return r&&(n.timestamp=Math.round(Number(r.timestamp)),n=r.names().reduce(function(i,a){switch(a){case"googCodecName":i.codecName=r.stat(a);break;case"googRtt":i.roundTripTime=Number(r.stat(a));break;case"googJitterReceived":i.jitter=Number(r.stat(a));break;case"googFrameWidthInput":i.frameWidthInput=Number(r.stat(a));break;case"googFrameHeightInput":i.frameHeightInput=Number(r.stat(a));break;case"googFrameWidthSent":i.frameWidthSent=Number(r.stat(a));break;case"googFrameHeightSent":i.frameHeightSent=Number(r.stat(a));break;case"googFrameWidthReceived":i.frameWidthReceived=Number(r.stat(a));break;case"googFrameHeightReceived":i.frameHeightReceived=Number(r.stat(a));break;case"googFrameRateInput":i.frameRateInput=Number(r.stat(a));break;case"googFrameRateSent":i.frameRateSent=Number(r.stat(a));break;case"googFrameRateReceived":i.frameRateReceived=Number(r.stat(a));break;case"ssrc":i[a]=r.stat(a);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":i[a]=Number(r.stat(a));break}return i},n)),n}function lN(e,t){var r=t.simulateExceptionWhileStandardizingStats,n=r===void 0?!1:r;if(n)throw new Error("Error while gathering stats");var i=null,a=[],o=null,l=null,u=null,f=null,p=null;e.forEach(function(L){var M=L.type;switch(M){case"inbound-rtp":i=L;break;case"outbound-rtp":a.push(L);break;case"media-source":p=L;break;case"track":u=L;break;case"codec":f=L;break;case"remote-inbound-rtp":o=L;break;case"remote-outbound-rtp":l=L;break}});var m=u?u.remoteSource:!p,y=m?[i]:a,x=[],P=m?l:o;return y.forEach(function(L){var M={},R=[L,p,u,f,P&&P.ssrc===L.ssrc?P:null];function _(He){var nt=R.find(function(gt){return gt&&typeof gt[He]<"u"})||null;return nt?nt[He]:null}var b=_("ssrc");typeof b=="number"&&(M.ssrc=String(b));var N=_("timestamp");M.timestamp=Math.round(N);var W=_("mimeType");typeof W=="string"&&(W=W.split("/"),M.codecName=W[W.length-1]);var H=_("roundTripTime");typeof H=="number"&&(M.roundTripTime=Math.round(H*1e3));var Y=_("jitter");typeof Y=="number"&&(M.jitter=Math.round(Y*1e3));var ie=_("frameWidth");typeof ie=="number"&&(m?M.frameWidthReceived=ie:(M.frameWidthSent=ie,M.frameWidthInput=u?u.frameWidth:p.width));var ae=_("frameHeight");typeof ae=="number"&&(m?M.frameHeightReceived=ae:(M.frameHeightSent=ae,M.frameHeightInput=u?u.frameHeight:p.height));var ce=_("framesPerSecond");typeof ce=="number"&&(M[m?"frameRateReceived":"frameRateSent"]=ce);var _e=_("bytesReceived");typeof _e=="number"&&(M.bytesReceived=_e);var ue=_("bytesSent");typeof ue=="number"&&(M.bytesSent=ue);var pe=_("packetsLost");typeof pe=="number"&&(M.packetsLost=pe);var le=_("packetsReceived");typeof le=="number"&&(M.packetsReceived=le);var ge=_("packetsSent");typeof ge=="number"&&(M.packetsSent=ge);var fe=_("audioLevel");typeof fe=="number"&&(fe=Math.round(fe*Zj),m?M.audioOutputLevel=fe:M.audioInputLevel=fe);var we=_("totalPacketSendDelay");typeof we=="number"&&(M.totalPacketSendDelay=we);var oe=_("totalEncodeTime");typeof oe=="number"&&(M.totalEncodeTime=oe);var ke=_("framesEncoded");typeof ke=="number"&&(M.framesEncoded=ke);var Te=_("estimatedPlayoutTimestamp");typeof Te=="number"&&(M.estimatedPlayoutTimestamp=Te);var je=_("totalDecodeTime");typeof je=="number"&&(M.totalDecodeTime=je);var qe=_("framesDecoded");typeof qe=="number"&&(M.framesDecoded=qe);var Ke=_("jitterBufferDelay");typeof Ke=="number"&&(M.jitterBufferDelay=Ke);var Ue=_("jitterBufferEmittedCount");typeof Ue=="number"&&(M.jitterBufferEmittedCount=Ue),x.push(M)}),x}function cN(e,t){e===void 0&&(e=new Map);var r=t.isRemote,n=t.simulateExceptionWhileStandardizingStats,i=n===void 0?!1:n;if(i)throw new Error("Error while gathering stats");var a=null,o=null;e.forEach(function(le){var ge=le.isRemote,fe=le.remoteId,we=le.type;if(!ge)switch(we){case"inbound-rtp":a=le,o=e.get(fe);break;case"outbound-rtp":o=le,a=e.get(fe);break}});var l=r?a:o,u=r?o:a;function f(le){return l&&typeof l[le]<"u"?l[le]:u&&typeof u[le]<"u"?u[le]:null}var p={},m=f("timestamp");p.timestamp=Math.round(m);var y=f("ssrc");typeof y=="number"&&(p.ssrc=String(y));var x=f("bytesSent");typeof x=="number"&&(p.bytesSent=x);var P=f("packetsLost");typeof P=="number"&&(p.packetsLost=P);var L=f("packetsSent");typeof L=="number"&&(p.packetsSent=L);var M=f("roundTripTime");typeof M=="number"&&(p.roundTripTime=Math.round(M*1e3));var R=f("jitter");typeof R=="number"&&(p.jitter=Math.round(R*1e3));var _=f("framerateMean");typeof _=="number"&&(p.frameRateSent=Math.round(_));var b=f("bytesReceived");typeof b=="number"&&(p.bytesReceived=b);var N=f("packetsReceived");typeof N=="number"&&(p.packetsReceived=N);var W=f("framerateMean");typeof W=="number"&&(p.frameRateReceived=Math.round(W));var H=f("totalPacketSendDelay");typeof H=="number"&&(p.totalPacketSendDelay=H);var Y=f("totalEncodeTime");typeof Y=="number"&&(p.totalEncodeTime=Y);var ie=f("framesEncoded");typeof ie=="number"&&(p.framesEncoded=ie);var ae=f("estimatedPlayoutTimestamp");typeof ae=="number"&&(p.estimatedPlayoutTimestamp=ae);var ce=f("totalDecodeTime");typeof ce=="number"&&(p.totalDecodeTime=ce);var _e=f("framesDecoded");typeof _e=="number"&&(p.framesDecoded=_e);var ue=f("jitterBufferDelay");typeof ue=="number"&&(p.jitterBufferDelay=ue);var pe=f("jitterBufferEmittedCount");return typeof pe=="number"&&(p.jitterBufferEmittedCount=pe),p}var uN=eN;function fN(e){return e===void 0&&(e={audio:!0,video:!0}),typeof navigator=="object"&&typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(e):Promise.reject(new Error("getUserMedia is not supported"))}var dN=fN,Wh={exports:{}};typeof MediaStream=="function"?Wh.exports=MediaStream:Wh.exports=function(){throw new Error("MediaStream is not supported")};var Xk=Wh.exports,Hh={exports:{}};typeof MediaStreamTrack=="function"?Hh.exports=MediaStreamTrack:Hh.exports=function(){throw new Error("MediaStreamTrack is not supported")};var hN=Hh.exports,qh={exports:{}};typeof RTCIceCandidate=="function"?qh.exports=RTCIceCandidate:qh.exports=function(){throw new Error("RTCIceCandidate is not supported")};var pN=qh.exports,_a={exports:{}},Hf,i_;function Jk(){if(i_)return Hf;i_=1;var e=function(){function t(r){this.descriptionInitDict=r;var n=r&&r.type==="rollback"?null:new RTCSessionDescription(r);Object.defineProperties(this,{_description:{get:function(){return n}}})}return Object.defineProperty(t.prototype,"sdp",{get:function(){return this._description?this._description.sdp:this.descriptionInitDict.sdp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._description?this._description.type:this.descriptionInitDict.type},enumerable:!1,configurable:!0}),t}();return Hf=e,Hf}var xv={exports:{}},za=typeof Reflect=="object"?Reflect:null,a_=za&&typeof za.apply=="function"?za.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},fc;za&&typeof za.ownKeys=="function"?fc=za.ownKeys:Object.getOwnPropertySymbols?fc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:fc=function(t){return Object.getOwnPropertyNames(t)};function vN(e){console&&console.warn&&console.warn(e)}var Zk=Number.isNaN||function(t){return t!==t};function at(){at.init.call(this)}xv.exports=at;xv.exports.once=_N;at.EventEmitter=at;at.prototype._events=void 0;at.prototype._eventsCount=0;at.prototype._maxListeners=void 0;var o_=10;function Ru(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(at,"defaultMaxListeners",{enumerable:!0,get:function(){return o_},set:function(e){if(typeof e!="number"||e<0||Zk(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o_=e}});at.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};at.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Zk(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function eb(e){return e._maxListeners===void 0?at.defaultMaxListeners:e._maxListeners}at.prototype.getMaxListeners=function(){return eb(this)};at.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var u=a[t];if(u===void 0)return!1;if(typeof u=="function")a_(u,this,r);else for(var f=u.length,p=ab(u,f),n=0;n<f;++n)a_(p[n],this,r);return!0};function tb(e,t,r,n){var i,a,o;if(Ru(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),o===void 0)o=a[t]=r,++e._eventsCount;else if(typeof o=="function"?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=eb(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,vN(l)}return e}at.prototype.addListener=function(t,r){return tb(this,t,r,!1)};at.prototype.on=at.prototype.addListener;at.prototype.prependListener=function(t,r){return tb(this,t,r,!0)};function mN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rb(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=mN.bind(n);return i.listener=r,n.wrapFn=i,i}at.prototype.once=function(t,r){return Ru(r),this.on(t,rb(this,t,r)),this};at.prototype.prependOnceListener=function(t,r){return Ru(r),this.prependListener(t,rb(this,t,r)),this};at.prototype.removeListener=function(t,r){var n,i,a,o,l;if(Ru(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,a=o;break}if(a<0)return this;a===0?n.shift():gN(n,a),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};at.prototype.off=at.prototype.removeListener;at.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),o;for(i=0;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function nb(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?yN(i):ab(i,i.length)}at.prototype.listeners=function(t){return nb(this,t,!0)};at.prototype.rawListeners=function(t){return nb(this,t,!1)};at.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ib.call(e,t)};at.prototype.listenerCount=ib;function ib(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}at.prototype.eventNames=function(){return this._eventsCount>0?fc(this._events):[]};function ab(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function gN(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function yN(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function _N(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,a),n(o)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}ob(e,t,a,{once:!0}),t!=="error"&&wN(e,i,{once:!0})})}function wN(e,t,r){typeof e.on=="function"&&ob(e,"error",t,r)}function ob(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Kt=xv.exports,qf,s_;function Ov(){if(s_)return qf;s_=1;var e=A&&A.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var l=o.call(i),u,f=[],p;try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)f.push(u.value)}catch(m){p={error:m}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(p)throw p.error}}return f},t=A&&A.__spreadArray||function(i,a){for(var o=0,l=a.length,u=i.length;o<l;o++,u++)i[u]=a[o];return i},r=Kt.EventEmitter,n=function(){function i(){Object.defineProperties(this,{_eventEmitter:{value:new r}})}return i.prototype.dispatchEvent=function(a){return this._eventEmitter.emit(a.type,a)},i.prototype.addEventListener=function(){var a;return(a=this._eventEmitter).addListener.apply(a,t([],e(arguments)))},i.prototype.removeEventListener=function(){var a;return(a=this._eventEmitter).removeListener.apply(a,t([],e(arguments)))},i}();return qf=n,qf}var Gf,l_;function sb(){if(l_)return Gf;l_=1;var e=rt.defer,t={high:new Set(["low"]),low:new Set(["high"])},r=function(){function i(a){a===void 0&&(a="low");var o=a;Object.defineProperties(this,{_state:{set:function(l){var u=this;if(o!==l){o=l;var f=this._whenDeferreds.get(o);f.forEach(function(p){return p.resolve(u)}),f.clear()}},get:function(){return o}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])}})}return Object.defineProperty(i.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),i.prototype.lower=function(){return this.transition("low")},i.prototype.raise=function(){return this.transition("high")},i.prototype.transition=function(a){if(!t[this.state].has(a))throw n(this.state,a);return this._state=a,this},i.prototype.when=function(a){if(this.state===a)return Promise.resolve(this);if(!t[this.state].has(a))return Promise.reject(n(this.state,a));var o=e();return this._whenDeferreds.get(a).add(o),o.promise},i}();function n(i,a){return new Error('Cannot transition from "'+i+'" to "'+a+'"')}return Gf=r,Gf}var Qf,c_;function SN(){if(c_)return Qf;c_=1;var e=function(){function t(r){Object.defineProperties(this,{track:{enumerable:!0,value:r,writable:!0}})}return t}();return Qf=e,Qf}var Kf,u_;function kN(){if(u_)return Kf;u_=1;var e=A&&A.__extends||function(){var ue=function(pe,le){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,fe){ge.__proto__=fe}||function(ge,fe){for(var we in fe)Object.prototype.hasOwnProperty.call(fe,we)&&(ge[we]=fe[we])},ue(pe,le)};return function(pe,le){if(typeof le!="function"&&le!==null)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");ue(pe,le);function ge(){this.constructor=pe}pe.prototype=le===null?Object.create(le):(ge.prototype=le.prototype,new ge)}}(),t=A&&A.__read||function(ue,pe){var le=typeof Symbol=="function"&&ue[Symbol.iterator];if(!le)return ue;var ge=le.call(ue),fe,we=[],oe;try{for(;(pe===void 0||pe-- >0)&&!(fe=ge.next()).done;)we.push(fe.value)}catch(ke){oe={error:ke}}finally{try{fe&&!fe.done&&(le=ge.return)&&le.call(ge)}finally{if(oe)throw oe.error}}return we},r=A&&A.__spreadArray||function(ue,pe){for(var le=0,ge=pe.length,fe=ue.length;le<ge;le++,fe++)ue[fe]=pe[le];return ue},n=Jk(),i=Ov(),a=sb(),o=Xk,l=SN(),u=cr,f=u.getSdpFormat,p=u.updatePlanBTrackIdsToSSRCs,m=u.updateUnifiedPlanTrackIdsToSSRCs,y=rt,x=y.delegateMethods,P=y.interceptEvent,L=y.isIOSChrome,M=y.legacyPromise,R=y.proxyProperties,_=f()==="unified",b=function(ue){e(pe,ue);function pe(le,ge){le===void 0&&(le={});var fe=ue.call(this)||this,we=Object.assign(le.iceTransportPolicy?{iceTransports:le.iceTransportPolicy}:{},le);P(fe,"datachannel"),P(fe,"signalingstatechange");var oe=f(we.sdpSemantics),ke=new RTCPeerConnection(we,ge);return Object.defineProperties(fe,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new o},_peerConnection:{value:ke},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:oe},_senders:{value:new Map},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map,writable:!0}}),ke.addEventListener("datachannel",function(Te){ce(Te.channel),fe.dispatchEvent(Te)}),ke.addEventListener("signalingstatechange",function(){for(var Te=[],je=0;je<arguments.length;je++)Te[je]=arguments[je];ke.signalingState==="stable"&&(fe._appliedTracksToSSRCs=new Map(fe._tracksToSSRCs)),!fe._pendingLocalOffer&&!fe._pendingRemoteOffer&&fe.dispatchEvent.apply(fe,r([],t(Te)))}),ke.ontrack=function(){},typeof ke.addTrack!="function"&&ke.addStream(fe._localStream),R(RTCPeerConnection.prototype,fe,ke),fe}return Object.defineProperty(pe.prototype,"localDescription",{get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(pe.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(pe.prototype,"signalingState",{get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),pe.prototype.addTrack=function(le){for(var ge,fe=[],we=1;we<arguments.length;we++)fe[we-1]=arguments[we];if(typeof this._peerConnection.addTrack=="function")return(ge=this._peerConnection).addTrack.apply(ge,r([le],t(fe)));if(this._peerConnection.signalingState==="closed")throw new Error("Cannot add MediaStreamTrack ["+le.id+`, 
        `+le.kind+"]: RTCPeerConnection is closed");var oe=this._senders.get(le);if(oe&&oe.track)throw new Error("Cannot add MediaStreamTrack ['"+le.id+`, 
        `+le.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(le),this._peerConnection.addStream(this._localStream),oe=new l(le),this._senders.set(le,oe),oe},pe.prototype.removeTrack=function(le){if(this._peerConnection.signalingState==="closed")throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");if(typeof this._peerConnection.addTrack=="function")try{return this._peerConnection.removeTrack(le)}catch{}else{var ge=le.track;if(!ge)return;le=this._senders.get(ge),le&&le.track&&(le.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(ge),this._peerConnection.addStream(this._localStream))}},pe.prototype.getSenders=function(){return typeof this._peerConnection.addTrack=="function"?this._peerConnection.getSenders():Array.from(this._senders.values())},pe.prototype.addIceCandidate=function(le){for(var ge=this,fe=[],we=1;we<arguments.length;we++)fe[we-1]=arguments[we];var oe;return this.signalingState==="have-remote-offer"?oe=this._signalingStateLatch.when("low").then(function(){return ge._peerConnection.addIceCandidate(le)}):oe=this._peerConnection.addIceCandidate(le),fe.length>0?M.apply(void 0,r([oe],t(fe))):oe},pe.prototype.close=function(){this.signalingState!=="closed"&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},pe.prototype.createAnswer=function(){for(var le=this,ge=[],fe=0;fe<arguments.length;fe++)ge[fe]=arguments[fe];var we;return this._pendingRemoteOffer?we=this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return le._signalingStateLatch.lower(),le._peerConnection.createAnswer()}).then(function(oe){return le._pendingRemoteOffer=null,le._rolledBackTracksToSSRCs.clear(),new n({type:"answer",sdp:_e(le._sdpFormat,le._tracksToSSRCs,oe.sdp)})},function(oe){throw le._pendingRemoteOffer=null,oe}):we=this._peerConnection.createAnswer().then(function(oe){return le._rolledBackTracksToSSRCs.clear(),new n({type:"answer",sdp:_e(le._sdpFormat,le._tracksToSSRCs,oe.sdp)})}),ge.length>1?M.apply(void 0,r([we],t(ge))):we},pe.prototype.createOffer=function(){for(var le=this,ge=[],fe=0;fe<arguments.length;fe++)ge[fe]=arguments[fe];var we=t(ge,3),oe=we[0],ke=we[1],Te=we[2],je=Te||oe||{};if(L()){if(je.offerToReceiveVideo&&!this._audioTransceiver&&!(_&&H(this,"audio"))){delete je.offerToReceiveAudio;try{this._audioTransceiver=_?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(Ke){return Promise.reject(Ke)}}if(je.offerToReceiveVideo&&!this._videoTransceiver&&!(_&&H(this,"video"))){delete je.offerToReceiveVideo;try{this._videoTransceiver=_?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(Ke){return Promise.reject(Ke)}}}var qe=this._peerConnection.createOffer(je).then(function(Ke){return le._rolledBackTracksToSSRCs.clear(),new n({type:Ke.type,sdp:_e(le._sdpFormat,le._tracksToSSRCs,Ke.sdp)})});return ge.length>1?M(qe,oe,ke):qe},pe.prototype.createDataChannel=function(le,ge){ge=ae(ge);var fe=this._peerConnection.createDataChannel(le,ge);return ce(fe),fe},pe.prototype.setLocalDescription=function(){for(var le=[],ge=0;ge<arguments.length;ge++)le[ge]=arguments[ge];var fe=t(le,3),we=fe[0],oe=fe[1],ke=fe[2];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var Te=N(this,!0,we);return le.length>1?M(Te,oe,ke):Te},pe.prototype.setRemoteDescription=function(){for(var le=[],ge=0;ge<arguments.length;ge++)le[ge]=arguments[ge];var fe=t(le,3),we=fe[0],oe=fe[1],ke=fe[2];this._rolledBackTracksToSSRCs.clear();var Te=N(this,!1,we);return le.length>1?M(Te,oe,ke):Te},pe}(i);x(RTCPeerConnection.prototype,b.prototype,"_peerConnection");function N(ue,pe,le){function ge(Ke){pe?ue._pendingLocalOffer=Ke:ue._pendingRemoteOffer=Ke}function fe(){pe?ue._pendingLocalOffer=null:ue._pendingRemoteOffer=null}var we=pe?ue._pendingLocalOffer:ue._pendingRemoteOffer,oe=pe?ue._pendingRemoteOffer:ue._pendingLocalOffer,ke=pe?"have-local-offer":"have-remote-offer",Te=pe?"setLocalDescription":"setRemoteDescription",je;if(!pe&&oe&&le.type==="answer")je=W(ue,le);else if(le.type==="offer"){if(ue.signalingState!==ke&&ue.signalingState!=="stable")return Promise.reject(new Error("Cannot set "+(pe?"local":"remote")+" offer in state "+ue.signalingState));!we&&ue._signalingStateLatch.state==="low"&&ue._signalingStateLatch.raise();var qe=ue.signalingState;ge(Y(le)),je=Promise.resolve(),ue.signalingState!==qe&&je.then(function(){return ue.dispatchEvent(new Event("signalingstatechange"))})}else le.type==="rollback"&&(ue.signalingState!==ke?je=Promise.reject(new Error("Cannot rollback "+(pe?"local":"remote")+" description in "+ue.signalingState)):(fe(),ue._rolledBackTracksToSSRCs=new Map(ue._tracksToSSRCs),ue._tracksToSSRCs=new Map(ue._appliedTracksToSSRCs),je=Promise.resolve(),je.then(function(){return ue.dispatchEvent(new Event("signalingstatechange"))})));return je||ue._peerConnection[Te](Y(le))}function W(ue,pe){var le=ue._pendingLocalOffer;return ue._peerConnection.setLocalDescription(le).then(function(){return ue._pendingLocalOffer=null,ue.setRemoteDescription(pe)}).then(function(){ue._signalingStateLatch.lower()})}function H(ue,pe){return!!ue.getTransceivers().find(function(le){var ge=le.receiver,fe=ge===void 0?{}:ge,we=fe.track,oe=we===void 0?{}:we;return oe.kind===pe})}function Y(ue){return ue instanceof n&&ue._description?ue._description:new RTCSessionDescription(ue)}function ie(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function ae(ue){return ue=Object.assign({},ue),ie()&&"maxPacketLifeTime"in ue&&(ue.maxRetransmitTime=ue.maxPacketLifeTime),ue}function ce(ue){return Object.defineProperty(ue,"maxRetransmits",{value:ue.maxRetransmits===65535?null:ue.maxRetransmits}),ie()&&Object.defineProperty(ue,"maxPacketLifeTime",{value:ue.maxRetransmitTime===65535?null:ue.maxRetransmitTime}),ue}function _e(ue,pe,le){return ue==="unified"?m(pe,le):p(pe,le)}return Kf=b,Kf}var Yf,f_;function lb(){return f_||(f_=1,Yf=RTCSessionDescription),Yf}var Xf,d_;function bN(){if(d_)return Xf;d_=1;var e=A&&A.__extends||function(){var L=function(M,R){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var N in b)Object.prototype.hasOwnProperty.call(b,N)&&(_[N]=b[N])},L(M,R)};return function(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");L(M,R);function _(){this.constructor=M}M.prototype=R===null?Object.create(R):(_.prototype=R.prototype,new _)}}(),t=A&&A.__read||function(L,M){var R=typeof Symbol=="function"&&L[Symbol.iterator];if(!R)return L;var _=R.call(L),b,N=[],W;try{for(;(M===void 0||M-- >0)&&!(b=_.next()).done;)N.push(b.value)}catch(H){W={error:H}}finally{try{b&&!b.done&&(R=_.return)&&R.call(_)}finally{if(W)throw W.error}}return N},r=A&&A.__spreadArray||function(L,M){for(var R=0,_=M.length,b=L.length;R<_;R++,b++)L[b]=M[R];return L},n=Ov(),i=lb(),a=cr.updateUnifiedPlanTrackIdsToSSRCs,o=rt,l=o.delegateMethods,u=o.interceptEvent,f=o.legacyPromise,p=o.proxyProperties,m=function(L){e(M,L);function M(R){var _=L.call(this)||this;u(_,"signalingstatechange");var b=new RTCPeerConnection(R);Object.defineProperties(_,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:b},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},peerIdentity:{enumerable:!0,value:Promise.resolve({idp:"",name:""})}});var N;return b.addEventListener("signalingstatechange",function(){for(var W=[],H=0;H<arguments.length;H++)W[H]=arguments[H];!_._rollingBack&&_.signalingState!==N&&(N=_.signalingState,_._isClosed?setTimeout(function(){return _.dispatchEvent.apply(_,r([],t(W)))}):_.dispatchEvent.apply(_,r([],t(W))))}),p(RTCPeerConnection.prototype,_,b),_}return Object.defineProperty(M.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"localDescription",{get:function(){return P(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),M.prototype.createAnswer=function(){for(var R=this,_=[],b=0;b<arguments.length;b++)_[b]=arguments[b];var N;return N=this._peerConnection.createAnswer().then(function(W){return x(R,W),P(W,R._initiallyNegotiatedDtlsRole)}),typeof _[0]=="function"?f.apply(void 0,r([N],t(_))):N},M.prototype.createOffer=function(){for(var R=this,_=[],b=0;b<arguments.length;b++)_[b]=arguments[b];var N=t(_,3),W=N[0],H=N[1],Y=N[2],ie=Y||W||{},ae;if(this.signalingState==="have-local-offer"||this.signalingState==="have-remote-offer"){var ce=this.signalingState==="have-local-offer";ae=y(this,ce,function(){return R.createOffer(ie)})}else ae=this._peerConnection.createOffer(ie);return ae=ae.then(function(_e){return new i({type:_e.type,sdp:a(R._tracksToSSRCs,_e.sdp)})}),_.length>1?f(ae,W,H):ae},M.prototype.setLocalDescription=function(){for(var R,_=[],b=0;b<arguments.length;b++)_[b]=arguments[b];var N=t(_),W=N[0],H=N.slice(1),Y;return W&&W.type==="answer"&&this.signalingState==="have-local-offer"&&(Y=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),Y?_.length>1?f.apply(void 0,r([Y],t(H))):Y:(R=this._peerConnection).setLocalDescription.apply(R,r([],t(_)))},M.prototype.setRemoteDescription=function(){for(var R=this,_=[],b=0;b<arguments.length;b++)_[b]=arguments[b];var N=t(_),W=N[0],H=N.slice(1),Y;return W&&this.signalingState==="have-remote-offer"&&(W.type==="answer"?Y=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):W.type==="offer"&&(Y=y(this,!1,function(){return R._peerConnection.setRemoteDescription(W)}))),Y||(Y=this._peerConnection.setRemoteDescription(W)),Y=Y.then(function(){return x(R,W,!0)}),_.length>1?f.apply(void 0,r([Y],t(H))):Y},M.prototype.close=function(){this.signalingState!=="closed"&&(this._isClosed=!0,this._peerConnection.close())},M}(n);l(RTCPeerConnection.prototype,m.prototype,"_peerConnection");function y(L,M,R){var _=M?"setLocalDescription":"setRemoteDescription";return L._rollingBack=!0,L._peerConnection[_](new i({type:"rollback"})).then(R).then(function(b){return L._rollingBack=!1,b},function(b){throw L._rollingBack=!1,b})}function x(L,M,R){if(!(L._initiallyNegotiatedDtlsRole||M.type==="offer")){var _=M.sdp.match(/a=setup:([a-z]+)/);if(_){var b=_[1];L._initiallyNegotiatedDtlsRole=R?{active:"passive",passive:"active"}[b]:b}}}function P(L,M){return L&&L.type==="answer"&&M?new i({type:L.type,sdp:L.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+M)}):L}return Xf=m,Xf}var Jf,h_;function TN(){if(h_)return Jf;h_=1;var e=A&&A.__extends||function(){var N=function(W,H){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ie){Y.__proto__=ie}||function(Y,ie){for(var ae in ie)Object.prototype.hasOwnProperty.call(ie,ae)&&(Y[ae]=ie[ae])},N(W,H)};return function(W,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");N(W,H);function Y(){this.constructor=W}W.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)}}(),t=A&&A.__read||function(N,W){var H=typeof Symbol=="function"&&N[Symbol.iterator];if(!H)return N;var Y=H.call(N),ie,ae=[],ce;try{for(;(W===void 0||W-- >0)&&!(ie=Y.next()).done;)ae.push(ie.value)}catch(_e){ce={error:_e}}finally{try{ie&&!ie.done&&(H=Y.return)&&H.call(Y)}finally{if(ce)throw ce.error}}return ae},r=A&&A.__spreadArray||function(N,W){for(var H=0,Y=W.length,ie=N.length;H<Y;H++,ie++)N[ie]=W[H];return N},n=Ov(),i=sb(),a=cr,o=a.getSdpFormat,l=a.updatePlanBTrackIdsToSSRCs,u=a.updateUnifiedPlanTrackIdsToSSRCs,f=rt,p=f.delegateMethods,m=f.interceptEvent,y=f.proxyProperties,x=o()==="unified",P=x?u:l,L=function(N){e(W,N);function W(H){var Y=N.call(this)||this;m(Y,"datachannel"),m(Y,"iceconnectionstatechange"),m(Y,"signalingstatechange"),m(Y,"track");var ie=new RTCPeerConnection(H);return Object.defineProperties(Y,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:ie},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new i},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0}}),ie.addEventListener("datachannel",function(ae){b(ae.channel),Y.dispatchEvent(ae)}),ie.addEventListener("iceconnectionstatechange",function(){for(var ae=[],ce=0;ce<arguments.length;ce++)ae[ce]=arguments[ce];Y._isClosed||Y.dispatchEvent.apply(Y,r([],t(ae)))}),ie.addEventListener("signalingstatechange",function(){for(var ae=[],ce=0;ce<arguments.length;ce++)ae[ce]=arguments[ce];Y._isClosed||(ie.signalingState==="stable"&&(Y._appliedTracksToSSRCs=new Map(Y._tracksToSSRCs)),!Y._pendingLocalOffer&&!Y._pendingRemoteOffer&&Y.dispatchEvent.apply(Y,r([],t(ae))))}),ie.addEventListener("track",function(ae){Y._pendingRemoteOffer=null,Y.dispatchEvent(ae)}),y(RTCPeerConnection.prototype,Y,ie),Y}return Object.defineProperty(W.prototype,"localDescription",{get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"iceConnectionState",{get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),W.prototype.addIceCandidate=function(H){var Y=this;return this.signalingState==="have-remote-offer"?this._signalingStateLatch.when("low").then(function(){return Y._peerConnection.addIceCandidate(H)}):this._peerConnection.addIceCandidate(H)},W.prototype.createOffer=function(H){var Y=this;if(H=Object.assign({},H),H.offerToReceiveVideo&&!this._audioTransceiver&&!(x&&_(this,"audio"))){delete H.offerToReceiveAudio;try{this._audioTransceiver=x?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(ie){return Promise.reject(ie)}}if(H.offerToReceiveVideo&&!this._videoTransceiver&&!(x&&_(this,"video"))){delete H.offerToReceiveVideo;try{this._videoTransceiver=x?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(ie){return Promise.reject(ie)}}return this._peerConnection.createOffer(H).then(function(ie){return Y._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:ie.type,sdp:P(Y._tracksToSSRCs,ie.sdp)})})},W.prototype.createAnswer=function(H){var Y=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return Y._signalingStateLatch.lower(),Y._peerConnection.createAnswer()}).then(function(ie){return Y._pendingRemoteOffer=null,Y._rolledBackTracksToSSRCs.clear(),x?new RTCSessionDescription({type:ie.type,sdp:P(Y._tracksToSSRCs,ie.sdp)}):ie},function(ie){throw Y._pendingRemoteOffer=null,ie}):this._peerConnection.createAnswer(H).then(function(ie){return Y._rolledBackTracksToSSRCs.clear(),x?new RTCSessionDescription({type:ie.type,sdp:P(Y._tracksToSSRCs,ie.sdp)}):ie})},W.prototype.createDataChannel=function(H,Y){var ie=this._peerConnection.createDataChannel(H,Y);return b(ie),ie},W.prototype.removeTrack=function(H){H.replaceTrack(null),this._peerConnection.removeTrack(H)},W.prototype.setLocalDescription=function(H){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),M(this,!0,H)},W.prototype.setRemoteDescription=function(H){return this._rolledBackTracksToSSRCs.clear(),M(this,!1,H)},W.prototype.close=function(){var H=this;this._isClosed||(this._isClosed=!0,this._peerConnection.close(),setTimeout(function(){H.dispatchEvent(new Event("iceconnectionstatechange")),H.dispatchEvent(new Event("signalingstatechange"))}))},W}(n);p(RTCPeerConnection.prototype,L.prototype,"_peerConnection");function M(N,W,H){function Y(le){W?N._pendingLocalOffer=le:N._pendingRemoteOffer=le}function ie(){W?N._pendingLocalOffer=null:N._pendingRemoteOffer=null}var ae=W?N._pendingLocalOffer:N._pendingRemoteOffer,ce=W?N._pendingRemoteOffer:N._pendingLocalOffer,_e=W?"have-local-offer":"have-remote-offer",ue=W?"setLocalDescription":"setRemoteDescription";if(!W&&ce&&H.type==="answer")return R(N,H);if(H.type==="offer"){if(N.signalingState!==_e&&N.signalingState!=="stable")return Promise.reject(new Error("Cannot set "+(W?"local":"remote")+`
        offer in state `+N.signalingState));!ae&&N._signalingStateLatch.state==="low"&&N._signalingStateLatch.raise();var pe=N.signalingState;return Y(H),N.signalingState!==pe?Promise.resolve().then(function(){return N.dispatchEvent(new Event("signalingstatechange"))}):Promise.resolve()}else if(H.type==="rollback")return N.signalingState!==_e?Promise.reject(new Error(`Cannot rollback 
        `+(W?"local":"remote")+" description in "+N.signalingState)):(ie(),N._rolledBackTracksToSSRCs=new Map(N._tracksToSSRCs),N._tracksToSSRCs=new Map(N._appliedTracksToSSRCs),Promise.resolve().then(function(){return N.dispatchEvent(new Event("signalingstatechange"))}));return N._peerConnection[ue](H)}function R(N,W){var H=N._pendingLocalOffer;return N._peerConnection.setLocalDescription(H).then(function(){return N._pendingLocalOffer=null,N.setRemoteDescription(W)}).then(function(){return N._signalingStateLatch.lower()})}function _(N,W){return!!N.getTransceivers().find(function(H){var Y=H.receiver,ie=Y===void 0?{}:Y,ae=ie.track,ce=ae===void 0?{}:ae;return ce.kind===W})}function b(N){return Object.defineProperties(N,{maxPacketLifeTime:{value:N.maxPacketLifeTime===65535?null:N.maxPacketLifeTime},maxRetransmits:{value:N.maxRetransmits===65535?null:N.maxRetransmits}})}return Jf=L,Jf}if(typeof RTCPeerConnection=="function"){var EN=rt.guessBrowser;switch(EN()){case"chrome":_a.exports=kN();break;case"firefox":_a.exports=bN();break;case"safari":_a.exports=TN();break;default:_a.exports=RTCPeerConnection;break}}else _a.exports=function(){throw new Error("RTCPeerConnection is not supported")};var PN=_a.exports,Go={exports:{}};if(typeof RTCSessionDescription=="function"){var CN=rt.guessBrowser;switch(CN()){case"chrome":Go.exports=Jk();break;case"firefox":Go.exports=lb();break;default:Go.exports=RTCSessionDescription;break}}else Go.exports=function(){throw new Error("RTCSessionDescription is not supported")};var xN=Go.exports,cb={};Object.defineProperties(cb,{getStats:{enumerable:!0,value:uN},getUserMedia:{enumerable:!0,value:dN},MediaStream:{enumerable:!0,value:Xk},MediaStreamTrack:{enumerable:!0,value:hN},RTCIceCandidate:{enumerable:!0,value:pN},RTCPeerConnection:{enumerable:!0,value:PN},RTCSessionDescription:{enumerable:!0,value:xN}});var na=cb,Rv=function(t,r){if(t&&r)if(t.super_=r,typeof Object.create=="function")t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){function i(){}return i}();n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}},ON=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};function RN(){return/Android/.test(navigator.userAgent)}function ub(){return!!(navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)}function fb(){return ub()&&window.screen.width>=744&&(/Macintosh/i.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPad/.test(navigator.platform))}function db(){return ub()&&window.screen.width<=476&&(/Macintosh/i.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform))}function LN(){return fb()||db()}function AN(){return/Mobi/.test(navigator.userAgent)}function MN(e){return e==="chrome"&&/Edge/.test(navigator.userAgent)&&(typeof chrome>"u"||typeof chrome.runtime>"u")}function IN(e){if(e!=="chrome")return null;if("brave"in navigator)return"brave";var t=NN(navigator.userAgent),r=t.reduce(function(o,l){return o.replace(l,"")},navigator.userAgent),n=r.match(/[^\s]+/g)||[],i=ON(n.map(function(o){return o.split("/")[0].toLowerCase()})),a=i.slice(2);return a.find(function(o){return!["chrome","mobile","safari"].includes(o)})||null}function jN(e){return e!=="safari"?null:"brave"in navigator?"brave":["edge","edg"].find(function(t){return navigator.userAgent.toLowerCase().includes(t)})||null}function NN(e){for(var t=[],r=[],n=0;n<e.length;n++)if(e[n]==="(")t.push(n);else if(e[n]===")"&&t.length>0){var i=t.pop();t.length===0&&r.push(e.substring(i,n+1))}return r}var ia={isAndroid:RN,isIOS:LN,isIpad:fb,isIphone:db,isMobile:AN,isNonChromiumEdge:MN,mobileWebKitBrowser:jN,rebrandedChromeBrowser:IN};function DN(e){return e=typeof e=="number"?e:0,new Promise(function(t){return setTimeout(t,e)})}function FN(e,t,r){r=typeof r=="number"?r:250;var n=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,n.connect(i);var a=new Uint8Array(i.fftSize),o=!1;setTimeout(function(){o=!0},r);function l(){return o?Promise.resolve(!0):(i.getByteTimeDomainData(a),a.some(function(u){return u!==128&&u!==0})?Promise.resolve(!1):DN().then(l))}return l().then(function(u){return n.disconnect(),u},function(u){throw n.disconnect(),u})}var hb=FN,Zf,p_;function Lu(){if(p_)return Zf;p_=1;var e=typeof AudioContext<"u"?AudioContext:typeof webkitAudioContext<"u"?webkitAudioContext:null,t=function(){function r(n){n=Object.assign({AudioContext:e},n),Object.defineProperties(this,{_AudioContext:{value:n.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:r}})}return r.prototype.getOrCreate=function(n){if(!this._holders.has(n)&&(this._holders.add(n),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch{}return this._audioContext},r.prototype.release=function(n){this._holders.has(n)&&(this._holders.delete(n),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))},r}();return Zf=new t,Zf}var $N=hb,VN=3,BN=250;function UN(e){var t=Lu(),r={},n=t.getOrCreate(r),i=VN;function a(){return i--,$N(n,e.srcObject,BN).then(function(o){return o?i>0?a():!0:!1}).catch(function(){return!0})}return a().finally(function(){t.release(r)})}var pb=UN,jl=Pe.defer,zN=function(){function e(){Object.defineProperties(this,{_audio:{value:jl(),writable:!0},_video:{value:jl(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return e.prototype.resolveDeferred=function(t){t==="audio"?this._audio.resolve():this._video.resolve()},e.prototype.startDeferred=function(t){t==="audio"?this._audio=jl():this._video=jl()},e.prototype.whenResolved=function(t){return t==="audio"?this._audio.promise:this._video.promise},e}(),vb=new zN,WN=Kt.EventEmitter,HN=Pe.hidePrivateAndCertainPublicPropertiesInClass,Gs=HN(WN,["domain"]),qN=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GN=Gs,mb=Pe,QN=mb.buildLogLevels,KN=mb.valueToJSON,YN=ot.DEFAULT_LOG_LEVEL,XN=Ln,JN=0,ZN=function(e){qN(t,e);function t(r,n,i){var a=this;i=Object.assign({name:r,log:null,logLevel:YN},i),a=e.call(this)||this;var o=String(i.name),l=QN(i.logLevel),u=i.log?i.log.createLog("media",a):new XN("media",a,l,i.loggerName);return Object.defineProperties(a,{_instanceId:{value:++JN},_log:{value:u},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:o}}),a}return t.prototype.toJSON=function(){return KN(this)},t}(GN),Lv=ZN,eD=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tD=ia.isIOS,rD=na.MediaStream,gb=Pe,nD=gb.waitForEvent,iD=gb.waitForSometime,aD=vb,oD=Lv,sD=function(e){eD(t,e);function t(r,n){var i=this;n=Object.assign({playPausedElementsIfNotBackgrounded:tD()&&typeof document=="object"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string"},n),i=e.call(this,r.id,r.kind,n)||this;var a=!1;return n=Object.assign({MediaStream:rD},n),Object.defineProperties(i,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return a},set:function(o){a=o}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_unprocessedTrack:{value:null,writable:!0},_MediaStream:{value:n.MediaStream},isStarted:{enumerable:!0,get:function(){return a}},mediaStreamTrack:{enumerable:!0,get:function(){return this._unprocessedTrack||r.track}},processedTrack:{enumerable:!0,value:null,writable:!0}}),i._initialize(),i}return t.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)},t.prototype._initialize=function(){var r=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",function n(){r._end(),r.mediaStreamTrack.removeEventListener("ended",n)}),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl,this.mediaStreamTrack),this._attachments.delete(this._dummyEl))},t.prototype._end=function(){this._log.debug("Ended"),this._dummyEl&&(this._dummyEl.remove(),this._dummyEl.srcObject=null,this._dummyEl.oncanplay=null,this._dummyEl=null)},t.prototype.attach=function(r){var n=this;if(typeof r=="string"?r=this._selectElement(r):r||(r=this._createElement()),this._log.debug("Attempting to attach to element:",r),r=this._attach(r),this._shouldShimAttachedElements&&!this._elShims.has(r)){var i=this._playPausedElementsIfNotBackgrounded?function(){return lD(r,n._log)}:null;this._elShims.set(r,cD(r,i))}return r},t.prototype._attach=function(r,n){n===void 0&&(n=this.processedTrack||this.mediaStreamTrack);var i=r.srcObject;i instanceof this._MediaStream||(i=new this._MediaStream);var a=n.kind==="audio"?"getAudioTracks":"getVideoTracks";return i[a]().forEach(function(o){i.removeTrack(o)}),i.addTrack(n),r.srcObject=i,r.autoplay=!0,r.playsInline=!0,this._attachments.has(r)||this._attachments.add(r),r},t.prototype._selectElement=function(r){var n=document.querySelector(r);if(!n)throw new Error("Selector matched no element: "+r);return n},t.prototype._updateElementsMediaStreamTrack=function(){var r=this;this._log.debug("Reattaching all elements to update mediaStreamTrack"),this._getAllAttachedElements().forEach(function(n){return r._attach(n)})},t.prototype._createElement=function(){return typeof document<"u"?document.createElement(this.kind):null},t.prototype.detach=function(r){var n;return typeof r=="string"?n=[this._selectElement(r)]:r?n=[r]:n=this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",n),this._detachElements(n),r?n[0]:n},t.prototype._detachElements=function(r){return r.map(this._detachElement.bind(this))},t.prototype._detachElement=function(r){if(!this._attachments.has(r))return r;var n=r.srcObject;if(n instanceof this._MediaStream&&n.removeTrack(this.processedTrack||this.mediaStreamTrack),this._attachments.delete(r),this._shouldShimAttachedElements&&this._elShims.has(r)){var i=this._elShims.get(r);i.unShim(),this._elShims.delete(r)}return r},t.prototype._getAllAttachedElements=function(){var r=[];return this._attachments.forEach(function(n){r.push(n)}),r},t}(oD);function lD(e,t){var r=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([nD(document,"visibilitychange"),iD(1e3)]).then(function(){document.visibilityState==="visible"&&aD.whenResolved("audio").then(function(){return t.info("Playing unintentionally paused <"+r+"> element"),t.debug("Element:",e),e.play()}).then(function(){t.info("Successfully played unintentionally paused <"+r+"> element"),t.debug("Element:",e)}).catch(function(n){t.warn("Error while playing unintentionally paused <"+r+"> element:",{error:n,el:e})})})}function cD(e,t){t===void 0&&(t=null);var r=e.pause,n=e.play,i=!1;e.pause=function(){return i=!0,r.call(e)},e.play=function(){return i=!1,n.call(e)};var a=t?function(){i||t()}:null;return a&&e.addEventListener("pause",a),{pausedIntentionally:function(){return i},unShim:function(){e.pause=r,e.play=n,a&&e.removeEventListener("pause",a)}}}var yb=sD,uD=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fD=yb,dD=function(e){uD(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.attach=function(){return e.prototype.attach.apply(this,arguments)},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t}(fD),_b=dD,Gh=null,hD=3,v_=50,m_=250,g_=50;function pD(e){try{var t=Gh.getContext("2d");t.drawImage(e,0,0,g_,v_);var r=t.getImageData(0,0,g_,v_),n=r.data.filter(function(a,o){return(o+1)%4}),i=Math.max.apply(Math,n);return i===0}catch(a){return console.log("Error checking silence: ",a),!1}}function vD(e){return Gh=Gh||document.createElement("canvas"),new Promise(function(t){var r=hD;setTimeout(function n(){return r--,pD(e)?r>0?setTimeout(n,m_):t(!0):t(!1)},m_)})}var wb=vD,mD=function(){function e(t){var r=this;t===void 0&&(t=1),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){r._emitVisible(document.visibilityState==="visible")}}});for(var n=0;n<t;n++)this._listeners.push([])}return e.prototype.clear=function(){for(var t=this._listeners.length,r=0;r<t;r++)this._listeners[r]=[]},e.prototype._listenerCount=function(){return this._listeners.reduce(function(t,r){return t+r.length},0)},e.prototype._emitVisible=function(t){for(var r=this,n=Promise.resolve(),i=function(o){n=n.then(function(){return r._emitVisiblePhase(o,t)})},a=1;a<=this._listeners.length;a++)i(a);return n},e.prototype._emitVisiblePhase=function(t,r){var n=this._listeners[t-1];return Promise.all(n.map(function(i){var a=i(r);return a instanceof Promise?a:Promise.resolve(a)}))},e.prototype._start=function(){document.addEventListener("visibilitychange",this._onVisibilityChange)},e.prototype._stop=function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)},e.prototype.onVisibilityChange=function(t,r){if(typeof t!="number"||t<=0||t>this._listeners.length)throw new Error("invalid phase: ",t);var n=this._listeners[t-1];return n.push(r),this._listenerCount()===1&&this._start(),this},e.prototype.offVisibilityChange=function(t,r){if(typeof t!="number"||t<=0||t>this._listeners.length)throw new Error("invalid phase: ",t);var n=this._listeners[t-1],i=n.indexOf(r);return i!==-1&&(n.splice(i,1),this._listenerCount()===0&&this._stop()),this},e}(),Av=new mD(2),gD=hb;function yD(e,t,r,n,i){n=typeof n=="number"?n:3;var a=0,o=Lu(),l={},u=o.getOrCreate(l);function f(){return t(r).then(function(p){var m=r.audio?gD(u,p,i).catch(function(y){return e.warn("Encountered an error while detecting silence",y),!0}):Promise.resolve(!1);return m.then(function(y){if(y){if(n<=0)return e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),p}else return e.info("Got a non-silent audio MediaStreamTrack; returning it."),p;return e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++a+"."),p.getTracks().forEach(function(x){return x.stop()}),n--,f()})})}return f().then(function(p){return o.release(l),p},function(p){throw o.release(l),p})}var Sb=yD,_D=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y_=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},__=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},wD=Kt.EventEmitter,SD=function(e){_D(t,e);function t(){var r=e.call(this)||this;return Object.defineProperties(r,{_queuedEvents:{value:new Map}}),r}return t.prototype.dequeue=function(r){var n=this,i=!0;if(!r)return this._queuedEvents.forEach(function(o,l){i=this.dequeue(l)&&i},this),i;var a=this._queuedEvents.get(r)||[];return this._queuedEvents.delete(r),a.reduce(function(o,l){return n.emit.apply(n,__([],y_([r].concat(l))))&&o},i)},t.prototype.queue=function(){var r=[].slice.call(arguments);if(this.emit.apply(this,__([],y_(r))))return!0;var n=r[0];return this._queuedEvents.has(n)||this._queuedEvents.set(n,[]),this._queuedEvents.get(n).push(r.slice(1)),!1},t}(wD),kb=SD,kD=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bD=kb,TD=function(e){kD(t,e);function t(r,n){var i=e.call(this)||this;return Object.defineProperties(i,{id:{enumerable:!0,value:r},kind:{enumerable:!0,value:n}}),i}return t.prototype.stop=function(){this.emit("stopped")},t}(bD),bb=TD,ED=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PD=bb,CD=function(e){ED(t,e);function t(r,n){var i=e.call(this,r,n.kind)||this;return Object.defineProperties(i,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),i}return t.prototype.stop=function(){this.track.stop(),e.prototype.stop.call(this)},t}(PD),Tb=CD,xD=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OD=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},RD=Tb,LD=function(e){xD(t,e);function t(r){var n=e.call(this,r.id,r)||this;return Object.defineProperties(n,{_clones:{value:new Set},_eventsToReemitters:{value:new Map([["mute",function(){return n.queue("muted")}],["unmute",function(){return n.queue("unmuted")}]])},_senders:{value:new Set},_senderToPublisherHintCallbacks:{value:new Map},isPublishing:{enumerable:!0,get:function(){return!!this._clones.size}},muted:{enumerable:!0,get:function(){return this._track.muted}}}),n._reemitMediaStreamTrackEvents(),n}return t.prototype._reemitMediaStreamTrackEvents=function(r){r===void 0&&(r=this._track);var n=this,i=n._eventsToReemitters,a=n._track;if(i.forEach(function(l,u){return r.addEventListener(u,l)}),a!==r&&(i.forEach(function(l,u){return a.removeEventListener(u,l)}),a.muted!==r.muted)){var o=i.get(r.muted?"mute":"unmute");o()}},t.prototype.clone=function(){var r=new t(this.track.clone());return this._clones.add(r),r},t.prototype.removeClone=function(r){this._clones.delete(r)},t.prototype.setMediaStreamTrack=function(r){var n=this,i=Array.from(this._clones),a=Array.from(this._senders);return Promise.all(i.map(function(o){return o.setMediaStreamTrack(r.clone())}).concat(a.map(function(o){return n._replaceTrack(o,r)}))).finally(function(){n._reemitMediaStreamTrackEvents(r),n._track=r})},t.prototype.addSender=function(r,n){return this._senders.add(r),n&&this._senderToPublisherHintCallbacks.set(r,n),this},t.prototype.removeSender=function(r){return this._senders.delete(r),this._senderToPublisherHintCallbacks.delete(r),this},t.prototype.setPublisherHint=function(r){var n=OD(Array.from(this._senderToPublisherHintCallbacks.values()),1),i=n[0];return i?i(r):Promise.resolve("COULD_NOT_APPLY_HINT")},t.prototype._replaceTrack=function(r,n){var i=this;return r.replaceTrack(n).then(function(a){return i.setPublisherHint(null).catch(function(){}),i.emit("replaced"),a})},t}(RD),Eb=LD,AD=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MD=na.getUserMedia,ID=ia.isIOS,Au=Pe,w_=Au.capitalize,jD=Au.defer,ND=Au.waitForSometime,DD=Au.waitForEvent,FD=ot.typeErrors.ILLEGAL_INVOKE,$D=pb,VD=wb,S_=Av,k_=vb,BD=Sb,UD=Eb;function zD(e){return function(t){AD(r,t);function r(n,i){var a=this,o=ID()&&typeof document=="object"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string";i=Object.assign({getUserMedia:MD,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:o,gUMSilentTrackWorkaround:BD},i);var l=new UD(n),u=l.kind;return a=t.call(this,l,i)||this,Object.defineProperties(a,{_constraints:{value:typeof i[u]=="object"?i[u]:{},writable:!0},_getUserMedia:{value:i.getUserMedia},_gUMSilentTrackWorkaround:{value:i.gUMSilentTrackWorkaround},_eventsToReemitters:{value:new Map([["muted",function(){return a.emit("muted",a)}],["unmuted",function(){return a.emit("unmuted",a)}]])},_workaroundWebKitBug1208516:{value:i.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:i.isCreatedByCreateLocalTracks},_noiseCancellation:{value:i.noiseCancellation||null},_trackSender:{value:l},id:{enumerable:!0,value:l.id},isEnabled:{enumerable:!0,get:function(){return l.enabled}},isMuted:{enumerable:!0,get:function(){return l.muted}},isStopped:{enumerable:!0,get:function(){return l.readyState==="ended"}}}),a._workaroundWebKitBug1208516&&(a._workaroundWebKitBug1208516Cleanup=b_(a)),a._reemitTrackSenderEvents(),a}return r.prototype._end=function(){var n=this;this._didCallEnd||(t.prototype._end.call(this),this._didCallEnd=!0,this._eventsToReemitters.forEach(function(i,a){return n._trackSender.removeListener(a,i)}),this.emit("stopped",this))},r.prototype._initialize=function(){this._didCallEnd&&(this._didCallEnd=!1),this._eventsToReemitters&&this._reemitTrackSenderEvents(),t.prototype._initialize.call(this)},r.prototype._reacquireTrack=function(n){var i,a=this,o=a._getUserMedia,l=a._gUMSilentTrackWorkaround,u=a._log,f=a.mediaStreamTrack.kind;u.info("Re-acquiring the MediaStreamTrack"),u.debug("Constraints:",n);var p=Object.assign({audio:!1,video:!1},(i={},i[f]=n,i)),m=this._workaroundWebKitBug1208516Cleanup?l(u,o,p):o(p);return m.then(function(y){return y.getTracks()[0]})},r.prototype._reemitTrackSenderEvents=function(){var n=this;this._eventsToReemitters.forEach(function(i,a){return n._trackSender.on(a,i)}),this._trackSender.dequeue("muted"),this._trackSender.dequeue("unmuted")},r.prototype._restart=function(n){var i=this,a=this._log;return n=n||this._constraints,this._stop(),this._reacquireTrack(n).catch(function(o){throw a.error("Failed to re-acquire the MediaStreamTrack:",{error:o,constraints:n}),o}).then(function(o){return a.info("Re-acquired the MediaStreamTrack"),a.debug("MediaStreamTrack:",o),i._constraints=Object.assign({},n),i._setMediaStreamTrack(o)})},r.prototype._setMediaStreamTrack=function(n){var i=this;return n.enabled=this.mediaStreamTrack.enabled,this._stop(),(this._unprocessedTrack?Promise.resolve().then(function(){i._unprocessedTrack=n}):this._trackSender.setMediaStreamTrack(n).catch(function(a){i._log.warn("setMediaStreamTrack failed:",{error:a,mediaStreamTrack:n})})).then(function(){i._initialize(),i._getAllAttachedElements().forEach(function(a){return i._attach(a)})})},r.prototype._stop=function(){return this.mediaStreamTrack.stop(),this._end(),this},r.prototype.enable=function(n){return n=typeof n=="boolean"?n:!0,n!==this.mediaStreamTrack.enabled&&(this._log.info((n?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=n,this.emit(n?"enabled":"disabled",this)),this},r.prototype.disable=function(){return this.enable(!1)},r.prototype.restart=function(n){var i=this,a=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(FD("restart","can only be called on a"+(" Local"+w_(a)+"Track that is created using createLocalTracks")+(" or createLocal"+w_(a)+"Track.")));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var o=this._restart(n);return this._workaroundWebKitBug1208516&&(o=o.finally(function(){i._workaroundWebKitBug1208516Cleanup=b_(i)})),o},r.prototype.stop=function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()},r}(e)}function b_(e){var t=e._log,r=e.kind,n=e._noiseCancellation,i={audio:$D,video:VD}[r],a=function(){return n?n.sourceTrack:e.mediaStreamTrack},o=e._dummyEl,l=a(),u=null;function f(){return o.play().then(function(){return i(o)}).then(function(M){return M?t.warn("Silence detected"):t.info("Non-silence detected"),M}).catch(function(M){t.warn("Failed to detect silence:",M)}).finally(function(){e.processedTrack||o.pause()})}function p(){var M=e._workaroundWebKitBug1208516Cleanup,R=e.isStopped,_=R&&!!M,b=a().muted;return Promise.resolve().then(function(){return document.visibilityState==="visible"&&!u&&(b||_||f())})}function m(){return Promise.race([DD(l,"unmute"),ND(50)]).then(function(){return p()}).then(function(M){M&&!u&&(u=jD(),e._restart().finally(function(){o=e._dummyEl,P(),l=a(),x(),u.resolve(),u=null}).catch(function(_){t.error("failed to restart track: ",_)}));var R=u&&u.promise||Promise.resolve();return R.finally(function(){return k_.resolveDeferred(r)})}).catch(function(M){t.error("error in maybeRestart: "+M.message)})}function y(){var M=e._log,R=e.kind;M.info("Muted"),M.debug("LocalMediaTrack:",e),k_.startDeferred(R)}function x(){l.addEventListener("ended",m),l.addEventListener("mute",y),l.addEventListener("unmute",m)}function P(){l.removeEventListener("ended",m),l.removeEventListener("mute",y),l.removeEventListener("unmute",m)}var L=function(M){return M?m():!1};return S_.onVisibilityChange(1,L),x(),function(){S_.offVisibilityChange(1,L),P()}}var Pb=zD,WD=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HD=ia.isIOS,qD=pb,GD=rt.isIOSChrome,QD=_b,KD=Pb,YD=KD(QD),XD=function(e){WD(t,e);function t(r,n){var i=this,a=(n==null?void 0:n.noiseCancellation)||null;i=e.call(this,r,n)||this;var o=i._log,l=r.label,u=l===void 0?"":l,f=r.getSettings(),p=f.deviceId,m=p===void 0?"":p,y=f.groupId,x=y===void 0?"":y;return Object.defineProperties(i,{_currentDefaultDeviceInfo:{value:{deviceId:m,groupId:x,label:u},writable:!0},_defaultDeviceCaptureMode:{value:!HD()&&i._isCreatedByCreateLocalTracks&&typeof navigator=="object"&&typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.addEventListener=="function"&&typeof navigator.mediaDevices.enumerateDevices=="function"?(n==null?void 0:n.defaultDeviceCaptureMode)||"auto":"manual"},_onDeviceChange:{value:function(){navigator.mediaDevices.enumerateDevices().then(function(P){var L=P.find(function(M){var R=M.deviceId,_=M.kind;return _==="audioinput"&&R!=="default"});L&&["deviceId","groupId"].some(function(M){return L[M]!==i._currentDefaultDeviceInfo[M]})&&(o.info("Default device changed, restarting the LocalAudioTrack"),o.debug('Old default device: "'+i._currentDefaultDeviceInfo.deviceId+'" => "'+i._currentDefaultDeviceInfo.label+'"'),o.debug('New default device: "'+L.deviceId+'" => "'+L.label+'"'),i._currentDefaultDeviceInfo=L,i._restartDefaultDevice().catch(function(M){return o.warn("Failed to restart: "+M.message)}))},function(P){o.warn("Failed to run enumerateDevices(): "+P.message)})}},_restartOnDefaultDeviceChangeCleanup:{value:null,writable:!0},noiseCancellation:{enumerable:!0,value:a,writable:!1}}),o.debug("defaultDeviceCaptureMode:",i._defaultDeviceCaptureMode),i._maybeRestartOnDefaultDeviceChange(),i}return t.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},t.prototype.attach=function(r){return r=e.prototype.attach.call(this,r),r.muted=!0,r},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._maybeRestartOnDefaultDeviceChange=function(){var r=this,n=this,i=n._constraints,a=n._defaultDeviceCaptureMode,o=n._log,l=this.noiseCancellation?this.noiseCancellation.sourceTrack:this.mediaStreamTrack,u=l.getSettings().deviceId,f=function(m){return m!==u||m==="default"},p=function m(y){return y===void 0&&(y={}),typeof y=="string"?f(y):Array.isArray(y)?y.every(f):y.exact?m(y.exact):y.ideal?m(y.ideal):!0}(i.deviceId);a==="auto"&&p?this._restartOnDefaultDeviceChangeCleanup||(o.info("LocalAudioTrack will be restarted if the default device changes"),navigator.mediaDevices.addEventListener("devicechange",this._onDeviceChange),this._restartOnDefaultDeviceChangeCleanup=function(){o.info("Cleaning up the listener to restart the LocalAudioTrack if the default device changes"),navigator.mediaDevices.removeEventListener("devicechange",r._onDeviceChange),r._restartOnDefaultDeviceChangeCleanup=null}):(o.info("LocalAudioTrack will NOT be restarted if the default device changes"),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup())},t.prototype._reacquireTrack=function(r){var n=this;return this._log.debug("_reacquireTrack: ",r),this.noiseCancellation?this.noiseCancellation.reacquireTrack(function(){return e.prototype._reacquireTrack.call(n,r)}):e.prototype._reacquireTrack.call(this,r)},t.prototype._restartDefaultDevice=function(){var r=this,n=Object.assign({},this._constraints),i=Object.assign({},n,{deviceId:this._currentDefaultDeviceInfo.deviceId});return this.restart(i).then(function(){r._constraints=n,r._maybeRestartOnDefaultDeviceChange()})},t.prototype._setMediaStreamTrack=function(r){var n=this,i=this,a=i._log,o=i.noiseCancellation,l=e.prototype._setMediaStreamTrack.call(this,r);return GD()&&o&&(a.debug("iOS Chrome detected, checking if the restarted Krisp audio is silent"),l=l.then(function(){return qD(n._dummyEl)}).then(function(u){return a.debug("Krisp audio is "+(u?"silent, using source audio":"not silent")),u&&o.disablePermanently().then(function(){return e.prototype._setMediaStreamTrack.call(n,o.sourceTrack)})})),l},t.prototype.disable=function(){return e.prototype.disable.apply(this,arguments)},t.prototype.enable=function(){return e.prototype.enable.apply(this,arguments)},t.prototype.restart=function(){return e.prototype.restart.apply(this,arguments)},t.prototype.stop=function(){return this.noiseCancellation&&this.noiseCancellation.stop(),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup(),e.prototype.stop.apply(this,arguments)},t}(YD),JD=XD,ZD=Rv,Cb=JD;function Mv(e,t){var r=new Cb(e,t);return Object.setPrototypeOf(r,Mv.prototype),r}ZD(Mv,Cb);var eF=Mv,tF=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rF=Kt.EventEmitter,nF=ot.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS,iF=function(e){tF(t,e);function t(r){var n=e.call(this)||this;return Object.defineProperties(n,{_lastStatsSaveTime:{value:null,writable:!0},_lastStatsPublishTime:{value:null,writable:!0},_log:{value:r},_processorInfo:{value:null,writable:!0},_stats:{value:null,writable:!0}}),n.on("add",function(i){n._lastStatsSaveTime=Date.now(),n._lastStatsPublishTime=Date.now(),n._processorInfo=i,n._stats=[],n._reemitEvent("add",n._getEventData())}),n.on("remove",function(){var i=n._getEventData();n._lastStatsSaveTime=null,n._lastStatsPublishTime=null,n._processorInfo=null,n._stats=null,n._reemitEvent("remove",i)}),n.on("start",function(){n._reemitEvent("start",n._getEventData())}),n.on("stop",function(i){n._reemitEvent("stop",Object.assign({message:i},n._getEventData()))}),n.on("stats",function(){return n._maybeEmitStats()}),n}return t.prototype._getEventData=function(){if(!this._processorInfo)return{};var r=this._processorInfo,n=r.processor,i=r.captureHeight,a=r.captureWidth,o=r.inputFrameRate,l=r.isRemoteVideoTrack,u=r.inputFrameBufferType,f=r.outputFrameBufferContextType,p={captureHeight:i,captureWidth:a,inputFrameRate:o,isRemoteVideoTrack:l,inputFrameBufferType:u,outputFrameBufferContextType:f};return p.name=n._name||"VideoProcessor",["assetsPath","blurFilterRadius","debounce","fitType","isSimdEnabled","maskBlurRadius","pipeline","version"].forEach(function(m){var y=n["_"+m];typeof y<"u"&&(p[m]=y)}),Object.keys(p).forEach(function(m){var y=p[m];typeof y=="boolean"&&(p[m]=y?"true":"false")}),p},t.prototype._maybeEmitStats=function(){if(!(!this._stats||!this._processorInfo)){var r=this._processorInfo.processor._benchmark;if(r){var n=Date.now();if(!(n-this._lastStatsSaveTime<1e3)){var i={outputFrameRate:r.getRate("totalProcessingDelay")};if(["captureFrameDelay","imageCompositionDelay","inputImageResizeDelay","processFrameDelay","segmentationDelay"].forEach(function(l){i[l]=r.getAverageDelay(l)}),this._lastStatsSaveTime=n,this._stats.push(i),!(n-this._lastStatsPublishTime<nF)){this._lastStatsPublishTime=n;var a=this._stats.splice(0),o=a.reduce(function(l,u,f){return Object.keys(i).forEach(function(p){l[p]||(l[p]=0),l[p]=(l[p]*f+u[p])/(f+1)}),l},{});Object.keys(o).forEach(function(l){o[l]=parseFloat(o[l].toFixed(2))}),this._reemitEvent("stats",Object.assign({},o,this._getEventData()))}}}}},t.prototype._reemitEvent=function(r,n){this._log.debug("VideoProcessor:"+r,n),this.emit("event",{name:r,data:n})},t}(rF),aF=iF,oF=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sF=yb,lF=aF,T_=ot.DEFAULT_FRAME_RATE,xb=function(e){oF(t,e);function t(r,n){var i=e.call(this,r,n)||this;return Object.defineProperties(i,{_captureTimeoutId:{value:null,writable:!0},_isCapturing:{value:!1,writable:!0},_inputFrame:{value:null,writable:!0},_outputFrame:{value:null,writable:!0},_processorEventObserver:{value:null,writable:!0},_processorOptions:{value:{},writable:!0},_unmuteHandler:{value:null,writable:!0},dimensions:{enumerable:!0,value:{width:null,height:null}},processor:{enumerable:!0,value:null,writable:!0}}),i._processorEventObserver=new(n.VideoProcessorEventObserver||lF)(i._log),i}return t.prototype._checkIfCanCaptureFrames=function(r){r===void 0&&(r=!1);var n=!0,i="",a=this.mediaStreamTrack,o=a.enabled,l=a.readyState;return o||(n=!1,i="MediaStreamTrack is disabled"),l==="ended"&&(n=!1,i="MediaStreamTrack is ended"),this.processor||(n=!1,i="VideoProcessor not detected."),!this._attachments.size&&!r&&(n=!1,i="VideoTrack is not publishing and there is no attached element."),i&&this._log.debug(i),{canCaptureFrames:n,message:i}},t.prototype._captureFrames=function(){var r=this;if(this._isCapturing){this._log.debug("Ignoring captureFrames call. Capture is already in progress");return}if(!this._checkIfCanCaptureFrames().canCaptureFrames){this._isCapturing=!1,this._log.debug("Cannot capture frames. Ignoring captureFrames call.");return}this._isCapturing=!0,this._processorEventObserver.emit("start"),this._log.debug("Start capturing frames");var n=Date.now(),i;this._dummyEl.play().then(function(){var a=function(l){clearTimeout(r._captureTimeoutId);var u=r.mediaStreamTrack.getSettings().frameRate,f=u===void 0?T_:u,p=Math.floor(1e3/f),m=p-i;(m<0||typeof i!="number")&&(m=0),r._captureTimeoutId=setTimeout(l,m)},o=function(){var l=r._checkIfCanCaptureFrames();if(!l.canCaptureFrames){r._isCapturing=!1,r._processorEventObserver.emit("stop",l.message),r._log.debug("Cannot capture frames. Stopping capturing frames.");return}n=Date.now();var u=r.mediaStreamTrack.getSettings(),f=u.width,p=f===void 0?0:f,m=u.height,y=m===void 0?0:m;r._outputFrame&&r._outputFrame.width!==p&&(r._outputFrame.width=p,r._outputFrame.height=y),r._inputFrame&&(r._inputFrame.width!==p&&(r._inputFrame.width=p,r._inputFrame.height=y),r._inputFrame.getContext("2d").drawImage(r._dummyEl,0,0,p,y));var x=null;try{var P=r._processorOptions.inputFrameBufferType==="video"?r._dummyEl:r._inputFrame;x=r.processor.processFrame(P,r._outputFrame)}catch(L){r._log.debug("Exception detected after calling processFrame.",L)}(x instanceof Promise?x:Promise.resolve(x)).then(function(){r._outputFrame&&(typeof r.processedTrack.requestFrame=="function"&&r.processedTrack.requestFrame(),r._processorEventObserver.emit("stats"))}).finally(function(){i=Date.now()-n,a(o)})};a(o)}).catch(function(a){return r._log.error("Video element cannot be played",{error:a,track:r})})},t.prototype._initialize=function(){var r=this;e.prototype._initialize.call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){E_(r,r._dummyEl)&&(r.dimensions.width=r._dummyEl.videoWidth,r.dimensions.height=r._dummyEl.videoHeight)},this._dummyEl.onresize=function(){E_(r,r._dummyEl)&&(r.dimensions.width=r._dummyEl.videoWidth,r.dimensions.height=r._dummyEl.videoHeight,r.isStarted&&(r._log.debug("Dimensions changed:",r.dimensions),r.emit(t.DIMENSIONS_CHANGED,r)))})},t.prototype._restartProcessor=function(){var r=this.processor;if(r){var n=Object.assign({},this._processorOptions);this.removeProcessor(r),this.addProcessor(r,n)}},t.prototype._start=function(r){return this.dimensions.width=r.videoWidth,this.dimensions.height=r.videoHeight,this._log.debug("Dimensions:",this.dimensions),this.emit(t.DIMENSIONS_CHANGED,this),e.prototype._start.call(this,r)},t.prototype.addProcessor=function(r,n){var i=this;if(!r||typeof r.processFrame!="function")throw new Error("Received an invalid VideoProcessor from addProcessor.");if(this.processor)throw new Error("A VideoProcessor has already been added.");if(!this._dummyEl)throw new Error("VideoTrack has not been initialized.");this._log.debug("Adding VideoProcessor to the VideoTrack",r),this._unmuteHandler||(this._unmuteHandler=function(){i._log.debug("mediaStreamTrack unmuted"),i.processedTrack.muted&&(i._log.debug("mediaStreamTrack is unmuted but processedTrack is muted. Restarting processor."),i._restartProcessor())},this.mediaStreamTrack.addEventListener("unmute",this._unmuteHandler)),this._processorOptions=n||{};var a=this._processorOptions,o=a.inputFrameBufferType,l=a.outputFrameBufferContextType;if(typeof OffscreenCanvas>"u"&&o==="offscreencanvas")throw new Error("OffscreenCanvas is not supported by this browser.");if(o&&o!=="video"&&o!=="canvas"&&o!=="offscreencanvas")throw new Error("Invalid inputFrameBufferType of "+o);o||(o=typeof OffscreenCanvas>"u"?"canvas":"offscreencanvas");var u=this.mediaStreamTrack.getSettings(),f=u.width,p=f===void 0?0:f,m=u.height,y=m===void 0?0:m,x=u.frameRate,P=x===void 0?T_:x;o==="offscreencanvas"&&(this._inputFrame=new OffscreenCanvas(p,y)),o==="canvas"&&(this._inputFrame=document.createElement("canvas")),this._inputFrame&&(this._inputFrame.width=p,this._inputFrame.height=y),this._outputFrame=document.createElement("canvas"),this._outputFrame.width=p,this._outputFrame.height=y,l=l||"2d";var L=this._outputFrame.getContext(l);if(!L)throw new Error("Cannot get outputFrameBufferContextType: "+l+".");var M=typeof CanvasCaptureMediaStreamTrack<"u"&&CanvasCaptureMediaStreamTrack.prototype&&typeof CanvasCaptureMediaStreamTrack.prototype.requestFrame=="function"?0:void 0;return this.processedTrack=this._outputFrame.captureStream(M).getTracks()[0],this.processedTrack.enabled=this.mediaStreamTrack.enabled,this.processor=r,this._processorEventObserver.emit("add",{processor:r,captureHeight:y,captureWidth:p,inputFrameRate:P,isRemoteVideoTrack:this.toString().includes("RemoteVideoTrack"),inputFrameBufferType:o,outputFrameBufferContextType:l}),this._updateElementsMediaStreamTrack(),this._captureFrames(),this},t.prototype.attach=function(){var r=e.prototype.attach.apply(this,arguments);return this.processor&&this._captureFrames(),r},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t.prototype.removeProcessor=function(r){if(!r)throw new Error("Received an invalid VideoProcessor from removeProcessor.");if(!this.processor)throw new Error("No existing VideoProcessor detected.");if(r!==this.processor)throw new Error("The provided VideoProcessor is different than the existing one.");return this._processorEventObserver.emit("remove"),this._log.debug("Removing VideoProcessor from the VideoTrack",r),clearTimeout(this._captureTimeoutId),this.mediaStreamTrack.removeEventListener("unmute",this._unmuteHandler),this._processorOptions={},this._unmuteHandler=null,this._isCapturing=!1,this.processor=null,this.processedTrack=null,this._inputFrame=null,this._outputFrame=null,this._updateElementsMediaStreamTrack(),this},t}(sF);xb.DIMENSIONS_CHANGED="dimensionsChanged";function E_(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}var Ob=xb,cF=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uF=ia.isIOS,fF=wb,dF=Pb,hF=Ob,pF=dF(hF),vF=function(e){cF(t,e);function t(r,n){var i=this;return n=Object.assign({workaroundSilentLocalVideo:uF()&&typeof document<"u"&&typeof document.createElement=="function"},n),i=e.call(this,r,n)||this,Object.defineProperties(i,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?mF:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),i._workaroundSilentLocalVideo&&(i._workaroundSilentLocalVideoCleanup=i._workaroundSilentLocalVideo(i,document)),i}return t.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},t.prototype._checkIfCanCaptureFrames=function(){return e.prototype._checkIfCanCaptureFrames.call(this,this._trackSender.isPublishing)},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._setSenderMediaStreamTrack=function(r){var n=this,i=this.mediaStreamTrack,a=r?this.processedTrack:i;return this._trackSender.setMediaStreamTrack(a).catch(function(o){return n._log.warn("setMediaStreamTrack failed on LocalVideoTrack RTCRtpSender",{error:o,mediaStreamTrack:a})}).then(function(){n._unprocessedTrack=r?i:null})},t.prototype.addProcessor=function(){this._log.debug("Adding VideoProcessor to the LocalVideoTrack");var r=e.prototype.addProcessor.apply(this,arguments);return this.processedTrack?(this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0),r):this._log.warn("Unable to add a VideoProcessor to the LocalVideoTrack")},t.prototype.removeProcessor=function(){var r=this;this._log.debug("Removing VideoProcessor from the LocalVideoTrack");var n=e.prototype.removeProcessor.apply(this,arguments);return this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the original MediaStreamTrack"),this._setSenderMediaStreamTrack().then(function(){return r._updateElementsMediaStreamTrack()}),n},t.prototype.disable=function(){var r=e.prototype.disable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=!1),r},t.prototype.enable=function(r){r===void 0&&(r=!0);var n=e.prototype.enable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=r,r&&(this._captureFrames(),this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0))),n},t.prototype.restart=function(){var r=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=e.prototype.restart.apply(this,arguments);return this.processor&&n.then(function(){r._restartProcessor()}),this._workaroundSilentLocalVideo&&n.finally(function(){r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)}),n},t.prototype.stop=function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),e.prototype.stop.apply(this,arguments)},t}(pF);function mF(e,t){var r=e._log,n=e._dummyEl,i=e.mediaStreamTrack;function a(){e.isEnabled&&(r.info("Unmuted, checking silence"),n.play().then(function(){return fF(n)}).then(function(o){if(!o){r.info("Non-silent frames detected, so no need to restart");return}return r.warn("Silence detected, restarting"),e._stop(),e._restart()}).catch(function(o){r.warn("Failed to detect silence and restart:",o)}).finally(function(){n=e._dummyEl,n&&!n.paused&&!e.processedTrack&&n.pause(),i.removeEventListener("unmute",a),i=e.mediaStreamTrack,i.addEventListener("unmute",a)}))}return i.addEventListener("unmute",a),function(){i.removeEventListener("unmute",a)}}var gF=vF,yF=Rv,Rb=gF;function Iv(e,t){var r=new Rb(e,t);return Object.setPrototypeOf(r,Iv.prototype),r}yF(Iv,Rb);var _F=Iv,wF=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SF=bb,kF=function(e){wF(t,e);function t(r,n,i,a){var o=e.call(this,r,"data")||this;return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:i},ordered:{enumerable:!0,value:a}}),o}return t}(SF),Lb=kF,bF=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TF=Lb,EF=Pe.makeUUID,PF=function(e){bF(t,e);function t(r,n,i){var a=e.call(this,EF(),r,n,i)||this;return Object.defineProperties(a,{_clones:{value:new Set},_dataChannels:{value:new Set}}),a}return t.prototype._addClone=function(r){this._clones.add(r)},t.prototype.removeClone=function(r){this._clones.delete(r)},t.prototype.addDataChannel=function(r){return this._dataChannels.add(r),this},t.prototype.clone=function(){var r=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",function(){return r.removeClone(n)}),n},t.prototype.removeDataChannel=function(r){return this._dataChannels.delete(r),this},t.prototype.send=function(r){return this._dataChannels.forEach(function(n){try{n.send(r)}catch{}}),this._clones.forEach(function(n){try{n.send(r)}catch{}}),this},t.prototype.stop=function(){this._dataChannels.forEach(function(r){return r.close()}),this._clones.forEach(function(r){return r.stop()}),e.prototype.stop.call(this)},t}(TF),CF=PF,xF=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OF=Lv,RF=CF,LF=function(e){xF(t,e);function t(r){var n=this;r=Object.assign({DataTrackSender:RF,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},r);var i=r.DataTrackSender,a=new i(r.maxPacketLifeTime,r.maxRetransmits,r.ordered);return n=e.call(this,a.id,"data",r)||this,Object.defineProperties(n,{_trackSender:{value:a},id:{enumerable:!0,value:a.id},maxPacketLifeTime:{enumerable:!0,value:r.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:r.maxRetransmits},ordered:{enumerable:!0,value:r.ordered},reliable:{enumerable:!0,value:r.maxPacketLifeTime===null&&r.maxRetransmits===null}}),n}return t.prototype.send=function(r){this._trackSender.send(r)},t}(OF),AF=LF,MF=Rv,Ab=AF;function jv(e){var t=new Ab(e);return Object.setPrototypeOf(t,jv.prototype),t}MF(jv,Ab);var IF=jv,Wa={LocalAudioTrack:eF,LocalVideoTrack:_F,LocalDataTrack:IF},Xr=A&&A.__assign||function(){return Xr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xr.apply(this,arguments)},P_=A&&A.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(m){o(m)}}function u(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?a(p.value):i(p.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},C_=A&&A.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},x_=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},O_=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.createLocalTracks=void 0;var jF=Za,NF=Pe.buildLogLevels,Mb=na,DF=Mb.getUserMedia,FF=Mb.MediaStreamTrack,Nv=Wa,$F=Nv.LocalAudioTrack,VF=Nv.LocalDataTrack,BF=Nv.LocalVideoTrack,UF=Ln,Dv=ot,zF=Dv.DEFAULT_LOG_LEVEL,WF=Dv.DEFAULT_LOGGER_NAME,HF=Dv.typeErrors.INVALID_VALUE,qF=Sb,GF=0;function QF(e){return P_(this,void 0,void 0,function(){var t,r,n,i,a,o,l,u,f,p,m,y,x,P=this;return C_(this,function(L){switch(L.label){case 0:if(t=!(e&&("audio"in e||"video"in e)),r=Xr({audio:t,getUserMedia:DF,loggerName:WF,logLevel:zF,LocalAudioTrack:$F,LocalDataTrack:VF,LocalVideoTrack:BF,MediaStreamTrack:FF,Log:UF,video:t},e),n="[createLocalTracks #"+ ++GF+"]",i=NF(r.logLevel),a=new r.Log("default",n,i,r.loggerName),o=Object.assign({log:a},r),delete o.name,r.audio===!1&&r.video===!1)return a.info("Neither audio nor video requested, so returning empty LocalTracks"),[2,[]];if(r.tracks)return a.info("Adding user-provided LocalTracks"),a.debug("LocalTracks:",r.tracks),[2,r.tracks];if(l={audio:typeof r.audio=="object"&&r.audio.name?{name:r.audio.name}:{defaultDeviceCaptureMode:"auto"},video:typeof r.video=="object"&&r.video.name?{name:r.video.name}:{}},l.audio.isCreatedByCreateLocalTracks=!0,l.video.isCreatedByCreateLocalTracks=!0,typeof r.audio=="object")if(typeof r.audio.workaroundWebKitBug1208516=="boolean"&&(l.audio.workaroundWebKitBug1208516=r.audio.workaroundWebKitBug1208516),"noiseCancellationOptions"in r.audio&&(u=r.audio.noiseCancellationOptions,delete r.audio.noiseCancellationOptions),!("defaultDeviceCaptureMode"in r.audio))l.audio.defaultDeviceCaptureMode="auto";else{if(["auto","manual"].every(function(M){return M!==r.audio.defaultDeviceCaptureMode}))throw HF("CreateLocalAudioTrackOptions.defaultDeviceCaptureMode",["auto","manual"]);l.audio.defaultDeviceCaptureMode=r.audio.defaultDeviceCaptureMode}typeof r.video=="object"&&typeof r.video.workaroundWebKitBug1208516=="boolean"&&(l.video.workaroundWebKitBug1208516=r.video.workaroundWebKitBug1208516),typeof r.audio=="object"&&delete r.audio.name,typeof r.video=="object"&&delete r.video.name,f={audio:r.audio,video:r.video},p=typeof r.audio=="object"&&r.audio.workaroundWebKitBug180748,L.label=1;case 1:return L.trys.push([1,4,,5]),[4,p?qF(a,r.getUserMedia,f):r.getUserMedia(f)];case 2:return m=L.sent(),y=O_(O_([],x_(m.getAudioTracks())),x_(m.getVideoTracks())),a.info("Call to getUserMedia successful; got tracks:",y),[4,Promise.all(y.map(function(M){return P_(P,void 0,void 0,function(){var R,_,b;return C_(this,function(N){switch(N.label){case 0:return M.kind==="audio"&&u?[4,jF.applyNoiseCancellation(M,u,a)]:[3,2];case 1:return R=N.sent(),_=R.cleanTrack,b=R.noiseCancellation,[2,new o.LocalAudioTrack(_,Xr(Xr(Xr({},l.audio),o),{noiseCancellation:b}))];case 2:if(M.kind==="audio")return[2,new o.LocalAudioTrack(M,Xr(Xr({},l.audio),o))];N.label=3;case 3:return[2,new o.LocalVideoTrack(M,Xr(Xr({},l.video),o))]}})})}))];case 3:return[2,L.sent()];case 4:throw x=L.sent(),a.warn("Call to getUserMedia failed:",x),x;case 5:return[2]}})})}Eu.createLocalTracks=QF;var eo={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Timer=void 0;var KF=function(){function e(){this._end=void 0,this.start()}return e.prototype.start=function(){return this._start=Date.now(),this},e.prototype.stop=function(){return this._end=Date.now(),this},e.prototype.getTimeMeasurement=function(){return{start:this._start,end:this._end,duration:this._end===void 0?void 0:this._end-this._start}},e}();Mu.Timer=KF;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.mosToScore=to.calculateMOS=void 0;var R_=94.768;function YF(e,t,r){var n=e+t*2+10,i=0;switch(!0){case n<160:i=R_-n/40;break;case n<1e3:i=R_-(n-120)/10;break}switch(!0){case r<=i/2.5:i=Math.max(i-r*2.5,6.52);break;default:i=0;break}var a=1+.035*i+7e-6*i*(i-60)*(100-i);return a}to.calculateMOS=YF;function XF(e){var t=0;return e?e>4.2?t=5:e>4?t=4:e>3.6?t=3:e>3?t=2:t=1:t=0,t}to.mosToScore=XF;var Iu={},JF=A&&A.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(m){o(m)}}function u(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?a(p.value):i(p.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},ZF=A&&A.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},e3=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.getCombinedConnectionStats=void 0;function Qn(e,t,r,n){var i=[];return e.forEach(function(a){(n.length===0||n.includes(a.type))&&(r.length===0||r.includes(a.kind))&&typeof a[t]=="number"&&i.push(a[t])}),i}function t3(e){var t=e.publisher,r=e.subscriber;return JF(this,void 0,void 0,function(){var n,i,a,o,l,u,f,p,m,y,x,P,L,M,R;return ZF(this,function(_){switch(_.label){case 0:return[4,Promise.all([t,r].map(function(b){return b.getStats()}))];case 1:return n=e3.apply(void 0,[_.sent(),2]),i=n[0],a=n[1],o=Qn(a,"timestamp",["audio"],["inbound-rtp"]),l=o.length>0?o[0]:0,u=Qn(a,"jitter",["audio"],["inbound-rtp"]).reduce(function(b,N){return Math.max(b,N)},0),f=Qn(a,"packetsReceived",["audio","video"],["inbound-rtp"]).reduce(function(b,N){return b+N},0),p=Qn(a,"packetsLost",["audio","video"],["inbound-rtp"]).reduce(function(b,N){return b+N},0),m=Qn(i,"roundTripTime",["audio","video"],["remote-inbound-rtp"]).reduce(function(b,N){return Math.max(b,N)},0),y=Qn(a,"currentRoundTripTime",[],["candidate-pair"]).reduce(function(b,N){return Math.max(b,N)},0),x=(y||m)*1e3,P=Qn(i,"bytesSent",[],["candidate-pair"]).reduce(function(b,N){return b+N},0),L=Qn(a,"bytesReceived",[],["candidate-pair"]).reduce(function(b,N){return b+N},0),M=r3(a),R=[],a.forEach(function(b){(b.type==="local-candidate"||b.type==="remote-candidate")&&R.push(Qh(b))}),[2,{timestamp:l,jitter:u,packets:f,packetsLost:p,roundTripTime:x,bytesSent:P,bytesReceived:L,selectedIceCandidatePairStats:M,iceCandidateStats:R}]}})})}Iu.getCombinedConnectionStats=t3;function Qh(e){var t=[{key:"transportId",type:"string"},{key:"candidateType",type:"string"},{key:"port",altKeys:["portNumber"],type:"number"},{key:"address",altKeys:["ip","ipAddress"],type:"string"},{key:"priority",type:"number"},{key:"protocol",altKeys:["transport"],type:"string"},{key:"url",type:"string"},{key:"relayProtocol",type:"string"}];return t.reduce(function(r,n){var i=[n.key];n.altKeys&&(i=i.concat(n.altKeys));var a=i.find(function(o){return o in e});return a&&typeof e[a]===n.type&&(r[n.key]=e[a]),r},{})}function r3(e){var t=null,r=[];e.forEach(function(l){l.type==="transport"&&l.selectedCandidatePairId?t=l.selectedCandidatePairId:l.type==="candidate-pair"&&r.push(l)});var n=r.find(function(l){return l.selected||t&&l.id===t});if(!n)return null;var i=n,a=e.get(i.localCandidateId),o=e.get(i.remoteCandidateId);return!a||!o?null:{localCandidate:Qh(a),remoteCandidate:Qh(o)}}var ju={},n3=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i3=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},a3=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},o3=Kt.EventEmitter,Ib=Pe,s3=function(e){n3(t,e);function t(r,n){var i=e.call(this)||this,a=null,o=r;return n=u3(n),Object.defineProperties(i,{_lock:{get:function(){return a},set:function(l){a=l}},_reachableStates:{value:c3(n)},_state:{get:function(){return o},set:function(l){o=l}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return a!==null}},state:{enumerable:!0,get:function(){return o}}}),i.on("stateChanged",function(l){i._whenDeferreds.forEach(function(u){u.when(l,u.resolve,u.reject)})}),i}return t.prototype._whenPromise=function(r){var n=this;if(typeof r!="function")return Promise.reject(new Error("when() executor must be a function"));var i=Ib.defer();return i.when=r,this._whenDeferreds.add(i),i.promise.then(function(a){return n._whenDeferreds.delete(i),a},function(a){throw n._whenDeferreds.delete(i),a})},t.prototype.bracket=function(r,n){var i,a=this;function o(l){if(a.hasLock(i)&&a.releaseLockCompletely(i),l)throw l}return this.takeLock(r).then(function(u){return i=u,n(i)}).then(function(u){return o(),u},o)},t.prototype.hasLock=function(r){return this._lock===r},t.prototype.preempt=function(r,n,i){if(!Nl(this._states,this.state,r))throw new Error('Cannot transition from "'+this.state+'" to "'+r+'"');var a;this.isLocked&&(a=this._lock,this._lock=null);var o=null;n&&(o=this.takeLockSync(n));var l=o?null:this.takeLockSync("preemption");return this.transition(r,o||l,i),a&&a.resolve(),l&&this.releaseLock(l),o},t.prototype.releaseLock=function(r){if(this.isLocked){if(!this.hasLock(r))throw new Error("Could not release the lock for "+r.name+" because "+this._lock.name+" has the lock")}else throw new Error("Could not release the lock for "+r.name+" because the StateMachine is not locked");r.depth===0?(this._lock=null,r.resolve()):r.depth--},t.prototype.releaseLockCompletely=function(r){if(this.isLocked){if(!this.hasLock(r))throw new Error("Could not release the lock for "+r.name+" because "+this._lock.name+" has the lock")}else throw new Error("Could not release the lock for "+r.name+" because the StateMachine is not locked");r.depth=0,this._lock=null,r.resolve()},t.prototype.takeLock=function(r){var n=this;if(typeof r=="object"){var i=r;return new Promise(function(l){l(n.takeLockSync(i))})}var a=r;if(this.isLocked){var o=this.takeLock.bind(this,a);return this._lock.promise.then(o)}return Promise.resolve(this.takeLockSync(a))},t.prototype.takeLockSync=function(r){var n=typeof r=="string"?null:r,i=n?n.name:r;if(n&&!this.hasLock(n)||!n&&this.isLocked)throw new Error("Could not take the lock for "+i+" because the lock for "+this._lock.name+" was not released");if(n)return n.depth++,n;var a=l3(i);return this._lock=a,a},t.prototype.transition=function(r,n,i){if(i=i||[],this.isLocked)if(n){if(!this.hasLock(n))throw new Error("Could not transition using the key for "+n.name+" because "+this._lock.name+" has the lock")}else throw new Error("You must provide the key in order to transition");else if(n)throw new Error("Key provided for "+n.name+", but the StateMachine was not locked (possibly due to preemption)");if(!Nl(this._states,this.state,r))throw new Error('Cannot transition from "'+this.state+'" to "'+r+'"');this._state=r,this.emit.apply(this,a3([],i3(["stateChanged",r].concat(i))))},t.prototype.tryTransition=function(r,n,i){try{this.transition(r,n,i)}catch{return!1}return!0},t.prototype.when=function(r){var n=this;return this.state===r?Promise.resolve(this):Nl(this._reachableStates,this.state,r)?this._whenPromise(function(i,a,o){i===r?a(n):Nl(n._reachableStates,i,r)||o(L_(i,r))}):Promise.reject(L_(this.state,r))},t}(o3);function Nl(e,t,r){return e.get(t).has(r)}function l3(e){var t=Ib.defer();return t.name=e,t.depth=0,t}function c3(e){return Array.from(e.keys()).reduce(function(t,r){return t.set(r,jb(e,r))},new Map)}function jb(e,t,r){return r=r||new Set,e.get(t).forEach(function(n){r.has(n)||(r.add(n),jb(e,n,r).forEach(r.add,r))}),r}function u3(e){var t=new Map;for(var r in e)t.set(r,new Set(e[r]));return t}function L_(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}var co=s3,f3=function(){function e(t,r){var n=this;r=Object.assign({navigator,window},r);var i=r.navigator,a=i.connection||{type:null},o=a.type,l=a.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var m=o!==n.type&&n.isOnline;o=n.type,m&&t()}},_target:{value:a}}:{_events:{value:["online"]},_listener:{value:t},_target:{value:r.window}},u=l._events,f=l._listener,p=l._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return typeof i.onLine=="boolean"?i.onLine:!0}},type:{enumerable:!0,get:function(){return a.type||null}},_listener:f,_events:u,_target:p})}return e.prototype.start=function(){var t=this;this._events.forEach(function(r){t._target.addEventListener(r,t._listener)})},e.prototype.stop=function(){var t=this;this._events.forEach(function(r){t._target.removeEventListener(r,t._listener)})},e}(),d3=f3,h3=function(){function e(t,r,n){n===void 0&&(n=!0),Object.defineProperties(this,{_delay:{value:r,writable:!0},_fn:{value:t},_timeout:{value:null,writable:!0}}),n&&this.start()}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSet",{get:function(){return!!this._timeout},enumerable:!1,configurable:!0}),e.prototype.setDelay=function(t){this._delay=t},e.prototype.start=function(){var t=this;this.isSet||(this._timeout=setTimeout(function(){var r=t._fn;t.clear(),r()},this._delay))},e.prototype.clear=function(){clearTimeout(this._timeout),this._timeout=null},e.prototype.reset=function(){this.clear(),this.start()},e}(),aa=h3,ed,A_;function Nb(){return A_||(A_=1,ed=WebSocket),ed}var p3=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M_=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},v3=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},m3=co,Db=Pe,g3=Db.buildLogLevels,y3=Db.makeUUID,_3=Ln,w3=d3,va=aa,S3=0,k3={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},I_={closed:"close",open:"open",waiting:"waiting"},b3=2,T3=3,E3=3,P3=5e3,C3=15e3,x3=5e3,O3=200,j_=1e3,Kh=3e3,Yh=3001,Xh=3002,Jh=3003,Fb=3004,Dl=3005,Zh=3006,$b=3007,N_=globalThis,R3=N_.WebSocket?N_.WebSocket:Nb(),Fr={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},L3=new Map([[Kh,Fr.TIMEOUT],[Yh,Fr.TIMEOUT],[Xh,Fr.FAILED],[Jh,Fr.FAILED],[Fb,Fr.TIMEOUT],[Zh,Fr.BUSY],[$b,Fr.TIMEOUT]]),Vb=function(e){p3(t,e);function t(r,n){var i=e.call(this,"early",k3)||this;n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:E3,maxConsecutiveMissedHeartbeats:T3,requestedHeartbeatTimeout:P3,openTimeout:C3,welcomeTimeout:x3,Log:_3,WebSocket:R3},n);var a=g3(n.logLevel),o=new n.Log("default",i,a,n.loggerName),l=n.networkMonitor?new w3(function(){var f=l.type,p="Network changed"+(f?" to "+f:"");o.debug(p),i._close({code:Fb,reason:p})}):null;Object.defineProperties(i,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++S3},_log:{value:o},_messageQueue:{value:[]},_networkMonitor:{value:l},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:r},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var u={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return i.on("stateChanged",function(f){for(var p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];f in I_&&i.emit.apply(i,v3([I_[f]],M_(p)));var y={name:f,group:"signaling",level:u[i.state]};if(f==="closed"){var x=M_(p,1),P=x[0];y.payload={reason:P},y.level=P===Fr.LOCAL?"info":"error"}i._eventObserver.emit("event",y)}),i._eventObserver.emit("event",{name:i.state,group:"signaling",level:u[i.state]}),i._connect(),i}return t.prototype.toString=function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"},t.prototype._close=function(r){var n=r.code,i=r.reason;if(this.state!=="closed"){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&n!==Dl&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var a=this._log;n===j_?(a.debug("Closed"),this.transition("closed",null,[Fr.LOCAL])):(a.warn("Closed: "+n+" - "+i),n!==Dl&&this.transition("closed",null,[L3.get(n)||Fr.REMOTE]));var o=this._ws.readyState,l=this._options.WebSocket;o!==l.CLOSING&&o!==l.CLOSED&&this._ws.close(n,i)}},t.prototype._connect=function(){var r=this,n=this._log;if(this.state==="waiting")this.transition("early");else if(this.state!=="early"){n.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');return}this._ws=new this._options.WebSocket(this._serverUrl);var i=this._ws;n.debug("Created a new WebSocket:",i),i.addEventListener("close",function(o){return r._close(o)});var a=this._options.openTimeout;this._openTimeout=new va(function(){var o="Failed to open in "+a+" ms";r._close({code:$b,reason:o})},a),i.addEventListener("open",function(){n.debug("WebSocket opened:",i),r._openTimeout.clear(),r._startHandshake(),r._networkMonitor&&r._networkMonitor.start()}),i.addEventListener("message",function(o){n.debug("Incoming: "+o.data);try{o=JSON.parse(o.data)}catch(l){r.emit("error",l);return}switch(o.type){case"bad":r._handleBad(o);break;case"busy":r._handleBusy(o);break;case"bye":break;case"msg":r._handleMessage(o);case"heartbeat":r._handleHeartbeat();break;case"welcome":r._handleWelcome(o);break;default:r._log.debug("Unknown message type: "+o.type),r.emit("error",new Error("Unknown message type: "+o.type));break}})},t.prototype._handleBad=function(r){var n=r.reason,i=this._log;if(!["connecting","open"].includes(this.state)){i.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.');return}if(this.state==="connecting"){i.warn("Closing: "+Xh+" - "+n),this._close({code:Xh,reason:n});return}i.debug("Error: "+n),this.emit("error",new Error(n))},t.prototype._handleBusy=function(r){var n=this,i=r.cookie,a=r.keepAlive,o=r.retryAfter,l=this._log;if(!["connecting","waiting"].includes(this.state)){l.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.');return}this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var u=o<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+o+" ms";if(o<0){l.warn("Closing: "+Zh+" - "+u),this._close({code:Zh,reason:u});return}var f=this._options.maxConsecutiveFailedHellos;this._hellosLeft=f,this._cookie=i||null,a?(l.warn(u),this._busyWaitTimeout=new va(function(){return n._startHandshake()},o)):(l.warn("Closing: "+Dl+" - "+u),this._close({code:Dl,reason:u}),this._busyWaitTimeout=new va(function(){return n._connect()},o)),this.transition("waiting",null,[a,o])},t.prototype._handleHeartbeat=function(){if(this.state!=="open"){this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.');return}this._heartbeatTimeout.reset()},t.prototype._handleHeartbeatTimeout=function(){if(this.state==="open"){var r=this._log,n=this._options.maxConsecutiveMissedHeartbeats;r.debug("Consecutive heartbeats missed: "+n);var i="Missed "+n+' "heartbeat" messages';r.warn("Closing: "+Yh+" - "+i),this._close({code:Yh,reason:i})}},t.prototype._handleMessage=function(r){var n=r.body;if(this.state!=="open"){this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.');return}this.emit("message",n)},t.prototype._handleWelcome=function(r){var n=this,i=r.negotiatedTimeout,a=this._log;if(!["connecting","waiting"].includes(this.state)){a.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.');return}this.state==="waiting"&&(a.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var o=this._options.maxConsecutiveMissedHeartbeats,l=i*o,u=i-O3;this._welcomeTimeout.clear(),this._heartbeatTimeout=new va(function(){return n._handleHeartbeatTimeout()},l),this._messageQueue.splice(0).forEach(function(f){return n._send(f)}),this._sendHeartbeatTimeout=new va(function(){return n._sendHeartbeat()},u),this.transition("open")},t.prototype._handleWelcomeTimeout=function(){if(this.state==="connecting"){var r=this._log;if(this._hellosLeft<=0){var n="All handshake attempts failed";r.warn("Closing: "+Kh+" - "+n),this._close({code:Kh,reason:n});return}var i=this._options.maxConsecutiveFailedHellos;r.warn("Handshake attempt "+(i-this._hellosLeft)+" failed"),this._startHandshake()}},t.prototype._send=function(r){var n=this._ws.readyState,i=this._options.WebSocket;if(n===i.OPEN){var a=JSON.stringify(r);this._log.debug("Outgoing: "+a);try{this._ws.send(a),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch{var o="Failed to send message";this._log.warn("Closing: "+Jh+" - "+o),this._close({code:Jh,reason:o})}}},t.prototype._sendHeartbeat=function(){this.state!=="closed"&&this._send({type:"heartbeat"})},t.prototype._sendHello=function(){var r=this._options,n=r.helloBody,i=r.requestedHeartbeatTimeout,a={id:y3(),timeout:i,type:"hello",version:b3};this._cookie&&(a.cookie=this._cookie),n&&(a.body=n),this._send(a)},t.prototype._sendOrEnqueue=function(r){var n=this;if(this.state!=="closed"){var i=this.state==="open"?function(a){return n._send(a)}:function(a){return n._messageQueue.push(a)};i(r)}},t.prototype._startHandshake=function(){var r=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),this.state==="connecting"){this._hellosLeft--,this._sendHello();var n=this._options.welcomeTimeout;this._welcomeTimeout=new va(function(){return r._handleWelcomeTimeout()},n)}},t.prototype.close=function(){this.state!=="closed"&&(this._sendOrEnqueue({type:"bye"}),this._close({code:j_,reason:"Normal"}))},t.prototype.sendMessage=function(r){this._sendOrEnqueue({body:r,type:"msg"})},t}(m3);Vb.CloseReason=Fr;var Bb=Vb,Ce={},A3=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M3=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},I3=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},j3=function(e){A3(t,e);function t(r){var n=this,i=[].slice.call(arguments,1);n=e.apply(this,I3([],M3(i)))||this,Object.setPrototypeOf(n,t.prototype);var a=Error.apply(n,i);return a.name="TwilioError",Object.defineProperty(n,"code",{value:r,enumerable:!0}),Object.getOwnPropertyNames(a).forEach(function(o){Object.defineProperty(this,o,{value:a[o],enumerable:!0})},n),n}return t.prototype.toString=function(){var r=this.message?": "+this.message:"";return this.name+" "+this.code+r},t}(Error),N3=j3,Ie=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Me=N3,Ae={};Ce.createTwilioError=function(t,r){return t=typeof t=="number"?t:0,r=typeof r=="string"&&r?r:"Unknown error",Ae[t]?new Ae[t]:new Me(t,r)};var Ub=function(e){Ie(t,e);function t(){var r=e.call(this,20101,"Invalid Access Token")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenInvalidError=Ub;Object.defineProperty(Ae,20101,{value:Ub});var zb=function(e){Ie(t,e);function t(){var r=e.call(this,20102,"Invalid Access Token header")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenHeaderInvalidError=zb;Object.defineProperty(Ae,20102,{value:zb});var Wb=function(e){Ie(t,e);function t(){var r=e.call(this,20103,"Invalid Access Token issuer/subject")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenIssuerInvalidError=Wb;Object.defineProperty(Ae,20103,{value:Wb});var Hb=function(e){Ie(t,e);function t(){var r=e.call(this,20104,"Access Token expired or expiration date invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenExpiredError=Hb;Object.defineProperty(Ae,20104,{value:Hb});var qb=function(e){Ie(t,e);function t(){var r=e.call(this,20105,"Access Token not yet valid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenNotYetValidError=qb;Object.defineProperty(Ae,20105,{value:qb});var Gb=function(e){Ie(t,e);function t(){var r=e.call(this,20106,"Invalid Access Token grants")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenGrantsInvalidError=Gb;Object.defineProperty(Ae,20106,{value:Gb});var Qb=function(e){Ie(t,e);function t(){var r=e.call(this,20107,"Invalid Access Token signature")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.AccessTokenSignatureInvalidError=Qb;Object.defineProperty(Ae,20107,{value:Qb});var Kb=function(e){Ie(t,e);function t(){var r=e.call(this,53e3,"Signaling connection error")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.SignalingConnectionError=Kb;Object.defineProperty(Ae,53e3,{value:Kb});var Yb=function(e){Ie(t,e);function t(){var r=e.call(this,53001,"Signaling connection disconnected")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.SignalingConnectionDisconnectedError=Yb;Object.defineProperty(Ae,53001,{value:Yb});var Xb=function(e){Ie(t,e);function t(){var r=e.call(this,53002,"Signaling connection timed out")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.SignalingConnectionTimeoutError=Xb;Object.defineProperty(Ae,53002,{value:Xb});var Jb=function(e){Ie(t,e);function t(){var r=e.call(this,53003,"Client received an invalid signaling message")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.SignalingIncomingMessageInvalidError=Jb;Object.defineProperty(Ae,53003,{value:Jb});var Zb=function(e){Ie(t,e);function t(){var r=e.call(this,53004,"Client sent an invalid signaling message")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.SignalingOutgoingMessageInvalidError=Zb;Object.defineProperty(Ae,53004,{value:Zb});var eT=function(e){Ie(t,e);function t(){var r=e.call(this,53006,"Video server is busy")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.SignalingServerBusyError=eT;Object.defineProperty(Ae,53006,{value:eT});var tT=function(e){Ie(t,e);function t(){var r=e.call(this,53100,"Room name is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomNameInvalidError=tT;Object.defineProperty(Ae,53100,{value:tT});var rT=function(e){Ie(t,e);function t(){var r=e.call(this,53101,"Room name is too long")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomNameTooLongError=rT;Object.defineProperty(Ae,53101,{value:rT});var nT=function(e){Ie(t,e);function t(){var r=e.call(this,53102,"Room name contains invalid characters")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomNameCharsInvalidError=nT;Object.defineProperty(Ae,53102,{value:nT});var iT=function(e){Ie(t,e);function t(){var r=e.call(this,53103,"Unable to create Room")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomCreateFailedError=iT;Object.defineProperty(Ae,53103,{value:iT});var aT=function(e){Ie(t,e);function t(){var r=e.call(this,53104,"Unable to connect to Room")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomConnectFailedError=aT;Object.defineProperty(Ae,53104,{value:aT});var oT=function(e){Ie(t,e);function t(){var r=e.call(this,53105,"Room contains too many Participants")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomMaxParticipantsExceededError=oT;Object.defineProperty(Ae,53105,{value:oT});var sT=function(e){Ie(t,e);function t(){var r=e.call(this,53106,"Room not found")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomNotFoundError=sT;Object.defineProperty(Ae,53106,{value:sT});var lT=function(e){Ie(t,e);function t(){var r=e.call(this,53107,"MaxParticipants is out of range")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomMaxParticipantsOutOfRangeError=lT;Object.defineProperty(Ae,53107,{value:lT});var cT=function(e){Ie(t,e);function t(){var r=e.call(this,53108,"RoomType is not valid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomTypeInvalidError=cT;Object.defineProperty(Ae,53108,{value:cT});var uT=function(e){Ie(t,e);function t(){var r=e.call(this,53109,"Timeout is out of range")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomTimeoutOutOfRangeError=uT;Object.defineProperty(Ae,53109,{value:uT});var fT=function(e){Ie(t,e);function t(){var r=e.call(this,53110,"StatusCallbackMethod is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomStatusCallbackMethodInvalidError=fT;Object.defineProperty(Ae,53110,{value:fT});var dT=function(e){Ie(t,e);function t(){var r=e.call(this,53111,"StatusCallback is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomStatusCallbackInvalidError=dT;Object.defineProperty(Ae,53111,{value:dT});var hT=function(e){Ie(t,e);function t(){var r=e.call(this,53112,"Status is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomStatusInvalidError=hT;Object.defineProperty(Ae,53112,{value:hT});var pT=function(e){Ie(t,e);function t(){var r=e.call(this,53113,"Room exists")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomRoomExistsError=pT;Object.defineProperty(Ae,53113,{value:pT});var vT=function(e){Ie(t,e);function t(){var r=e.call(this,53114,"Room creation parameter(s) incompatible with the Room type")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomInvalidParametersError=vT;Object.defineProperty(Ae,53114,{value:vT});var mT=function(e){Ie(t,e);function t(){var r=e.call(this,53115,"MediaRegion is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomMediaRegionInvalidError=mT;Object.defineProperty(Ae,53115,{value:mT});var gT=function(e){Ie(t,e);function t(){var r=e.call(this,53116,"There are no media servers available in the MediaRegion")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomMediaRegionUnavailableError=gT;Object.defineProperty(Ae,53116,{value:gT});var yT=function(e){Ie(t,e);function t(){var r=e.call(this,53117,"The subscription operation requested is not supported for the Room type")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomSubscriptionOperationNotSupportedError=yT;Object.defineProperty(Ae,53117,{value:yT});var _T=function(e){Ie(t,e);function t(){var r=e.call(this,53118,"Room completed")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomCompletedError=_T;Object.defineProperty(Ae,53118,{value:_T});var wT=function(e){Ie(t,e);function t(){var r=e.call(this,53124,"The AudioOnly flag is not supported for the Room type")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomAudioOnlyFlagNotSupportedError=wT;Object.defineProperty(Ae,53124,{value:wT});var ST=function(e){Ie(t,e);function t(){var r=e.call(this,53125,"The track kind is not supported by the Room")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.RoomTrackKindNotSupportedError=ST;Object.defineProperty(Ae,53125,{value:ST});var kT=function(e){Ie(t,e);function t(){var r=e.call(this,53200,"Participant identity is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ParticipantIdentityInvalidError=kT;Object.defineProperty(Ae,53200,{value:kT});var bT=function(e){Ie(t,e);function t(){var r=e.call(this,53201,"Participant identity is too long")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ParticipantIdentityTooLongError=bT;Object.defineProperty(Ae,53201,{value:bT});var TT=function(e){Ie(t,e);function t(){var r=e.call(this,53202,"Participant identity contains invalid characters")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ParticipantIdentityCharsInvalidError=TT;Object.defineProperty(Ae,53202,{value:TT});var ET=function(e){Ie(t,e);function t(){var r=e.call(this,53203,"The maximum number of published tracks allowed in the Room at the same time has been reached")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ParticipantMaxTracksExceededError=ET;Object.defineProperty(Ae,53203,{value:ET});var PT=function(e){Ie(t,e);function t(){var r=e.call(this,53204,"Participant not found")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ParticipantNotFoundError=PT;Object.defineProperty(Ae,53204,{value:PT});var CT=function(e){Ie(t,e);function t(){var r=e.call(this,53205,"Participant disconnected because of duplicate identity")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ParticipantDuplicateIdentityError=CT;Object.defineProperty(Ae,53205,{value:CT});var xT=function(e){Ie(t,e);function t(){var r=e.call(this,53300,"Track is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.TrackInvalidError=xT;Object.defineProperty(Ae,53300,{value:xT});var OT=function(e){Ie(t,e);function t(){var r=e.call(this,53301,"Track name is invalid")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.TrackNameInvalidError=OT;Object.defineProperty(Ae,53301,{value:OT});var RT=function(e){Ie(t,e);function t(){var r=e.call(this,53302,"Track name is too long")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.TrackNameTooLongError=RT;Object.defineProperty(Ae,53302,{value:RT});var LT=function(e){Ie(t,e);function t(){var r=e.call(this,53303,"Track name contains invalid characters")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.TrackNameCharsInvalidError=LT;Object.defineProperty(Ae,53303,{value:LT});var AT=function(e){Ie(t,e);function t(){var r=e.call(this,53304,"Track name is duplicated")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.TrackNameIsDuplicatedError=AT;Object.defineProperty(Ae,53304,{value:AT});var MT=function(e){Ie(t,e);function t(){var r=e.call(this,53305,"The server has reached capacity and cannot fulfill this request")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.TrackServerTrackCapacityReachedError=MT;Object.defineProperty(Ae,53305,{value:MT});var IT=function(e){Ie(t,e);function t(){var r=e.call(this,53400,"Client is unable to create or apply a local media description")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaClientLocalDescFailedError=IT;Object.defineProperty(Ae,53400,{value:IT});var jT=function(e){Ie(t,e);function t(){var r=e.call(this,53401,"Server is unable to create or apply a local media description")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaServerLocalDescFailedError=jT;Object.defineProperty(Ae,53401,{value:jT});var NT=function(e){Ie(t,e);function t(){var r=e.call(this,53402,"Client is unable to apply a remote media description")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaClientRemoteDescFailedError=NT;Object.defineProperty(Ae,53402,{value:NT});var DT=function(e){Ie(t,e);function t(){var r=e.call(this,53403,"Server is unable to apply a remote media description")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaServerRemoteDescFailedError=DT;Object.defineProperty(Ae,53403,{value:DT});var FT=function(e){Ie(t,e);function t(){var r=e.call(this,53404,"No supported codec")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaNoSupportedCodecError=FT;Object.defineProperty(Ae,53404,{value:FT});var $T=function(e){Ie(t,e);function t(){var r=e.call(this,53405,"Media connection failed or Media activity ceased")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaConnectionError=$T;Object.defineProperty(Ae,53405,{value:$T});var VT=function(e){Ie(t,e);function t(){var r=e.call(this,53407,"Media connection failed due to DTLS handshake failure")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.MediaDTLSTransportFailedError=VT;Object.defineProperty(Ae,53407,{value:VT});var BT=function(e){Ie(t,e);function t(){var r=e.call(this,53500,"Unable to acquire configuration")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ConfigurationAcquireFailedError=BT;Object.defineProperty(Ae,53500,{value:BT});var UT=function(e){Ie(t,e);function t(){var r=e.call(this,53501,"Unable to acquire TURN credentials")||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Me);Ce.ConfigurationAcquireTurnFailedError=UT;Object.defineProperty(Ae,53501,{value:UT});Object.defineProperty(ju,"__esModule",{value:!0});ju.getTurnCredentials=void 0;var D3=Bb,F3=ot.ICE_VERSION,zT=Ce,$3=zT.createTwilioError,V3=zT.SignalingConnectionError,B3=Kt;function U3(e,t){return new Promise(function(r,n){var i=new B3.EventEmitter,a={networkMonitor:null,eventObserver:i,helloBody:{edge:"roaming",preflight:!0,token:e,type:"ice",version:F3}},o=new D3(t,a),l=!1;o.once("close",function(){l||(l=!0,n(new V3))}),o.on("message",function(u){var f=u.code,p=u.message,m=u.ice_servers,y=u.type;(y==="iced"||y==="error")&&!l&&(l=!0,y==="iced"?r(m):n($3(f,p)),o.close())})})}ju.getTurnCredentials=U3;var Nu={},D_=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},F_=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.makeStat=void 0;function z3(e){if(e&&e.length){var t=Math.min.apply(Math,F_([],D_(e))),r=Math.max.apply(Math,F_([],D_(e))),n=e.reduce(function(i,a){return i+a},0)/e.length;return{min:t,max:r,average:n}}return null}Nu.makeStat=z3;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.syntheticAudio=void 0;function W3(){var e=Lu(),t={},r=e.getOrCreate(t),n=r.createOscillator(),i=n.connect(r.createMediaStreamDestination());n.start();var a=i.stream.getAudioTracks()[0],o=a.stop;return a.stop=function(){o.call(a),e.release(t)},a}Du.syntheticAudio=W3;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.syntheticVideo=void 0;function H3(e){var t=e===void 0?{}:e,r=t.width,n=r===void 0?640:r,i=t.height,a=i===void 0?480:i,o=Object.assign(document.createElement("canvas"),{width:n,height:a}),l=o.getContext("2d");l.fillStyle="green",l.fillRect(0,0,o.width,o.height);var u=!1;requestAnimationFrame(function y(){if(!u){var x=Math.round(Math.random()*255),P=Math.round(Math.random()*255),L=Math.round(Math.random()*255),M=Math.round(Math.random()*255);l.fillStyle="rgba("+x+", "+P+", "+L+", "+M+")",l.fillRect(Math.random()*n,Math.random()*a,50,50),requestAnimationFrame(y)}});var f=o.captureStream(30),p=f.getTracks()[0],m=p.stop;return p.stop=function(){u=!0,m.call(p)},p}Fu.syntheticVideo=H3;var q3=function(){function e(){Object.defineProperties(this,{_samples:{value:[{denominator:0,numerator:0},{denominator:0,numerator:0}]}})}return e.prototype.get=function(){var t=this._samples,r=t[1].denominator-t[0].denominator||1/0,n=t[1].numerator-t[0].numerator;return n/r},e.prototype.putSample=function(t,r){var n=this._samples;n.shift(),n.push({denominator:r,numerator:t})},e}(),WT=q3,G3=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q3=Kt.EventEmitter,K3=["signaling","room","media","quality","video-processor","preflight"],Y3=["debug","error","info","warning"],X3=function(e){G3(t,e);function t(r,n,i,a){a===void 0&&(a=null);var o=e.call(this)||this;return o.on("event",function(l){var u=l.name,f=l.group,p=l.level,m=l.payload;if(typeof u!="string")throw i.error("Unexpected name: ",u),new Error("Unexpected name: ",u);if(!K3.includes(f))throw i.error("Unexpected group: ",f),new Error("Unexpected group: ",f);if(!Y3.includes(p))throw i.error("Unexpected level: ",p),new Error("Unexpected level: ",p);var y=Date.now(),x=y-n,P=Object.assign({elapsedTime:x,level:p},m||{});r.publish(f,u,P);var L=Object.assign({elapsedTime:x,group:f,level:p,name:u,timestamp:y},m?{payload:m}:{}),M={debug:"debug",error:"error",info:"info",warning:"warn"}[p];i[M]("event",L),a&&f==="signaling"&&a.emit("event",L)}),o}return t}(Q3),HT=X3,J3=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ja=A&&A.__assign||function(){return ja=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ja.apply(this,arguments)},Z3=Kt.EventEmitter,e4=Pe.getUserAgent,t4=5,r4=50,n4=1e3,$_=globalThis,i4=$_.WebSocket?$_.WebSocket:Nb(),qT=ot,a4=qT.hardwareDevicePublisheriPad,o4=qT.hardwareDevicePublisheriPhone,s4=Pe,V_=ia,l4=function(e){J3(t,e);function t(r,n,i,a,o,l){var u=e.call(this)||this;return l=Object.assign({gateway:c4(a,o)+"/v1/VideoEvents",maxReconnectAttempts:t4,reconnectIntervalMs:r4,userAgent:e4(),WebSocket:i4},l),Object.defineProperties(u,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:s4.defer()},_reconnectAttemptsLeft:{value:l.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:l.WebSocket}}),u._readyToConnect.promise.then(function(f){var p=f.roomSid,m=f.participantSid,y=u;u.on("disconnected",function x(P){if(y._session=null,P&&y._reconnectAttemptsLeft>0){y.emit("reconnecting"),f4(y,r,n,i,p,m,l);return}y.removeListener("disconnected",x)}),ep(u,r,n,i,p,m,l)}).catch(function(){}),u}return t.prototype.connect=function(r,n){this._readyToConnect.resolve({roomSid:r,participantSid:n})},t.prototype._publish=function(r){r.session=this._session,this._ws.send(JSON.stringify(r))},t.prototype.disconnect=function(){if(this._ws===null||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch{}return this.emit("disconnected"),!0},t.prototype.publish=function(r,n,i){if(this._ws!==null&&(this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED))return!1;var a=typeof this._session=="string"?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue);return a({group:r,name:n,payload:i,timestamp:Date.now(),type:"event",version:1}),!0},t}(Z3);function ep(e,t,r,n,i,a,o){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new o.WebSocket(o.gateway);var l=e._ws;l.addEventListener("close",function(u){if(u.code===n4){e.emit("disconnected");return}e.emit("disconnected",new Error("WebSocket Error "+u.code+": "+u.reason))}),l.addEventListener("message",function(u){u4(e,JSON.parse(u.data),o)}),l.addEventListener("open",function(){var u={type:"connect",token:t,version:1};u.publisher={name:r,sdkVersion:n,userAgent:o.userAgent,participantSid:a,roomSid:i},V_.isIpad()?u.publisher=ja(ja({},u.publisher),a4):V_.isIphone()&&(u.publisher=ja(ja({},u.publisher),o4)),l.send(JSON.stringify(u))})}function c4(e,t){return e==="prod"?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}function u4(e,t,r){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=r.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message));break}}function f4(e,t,r,n,i,a,o){var l=Date.now()-e._connectTimestamp,u=o.reconnectIntervalMs-l;if(u>0){setTimeout(function(){ep(e,t,r,n,i,a,o)},u);return}ep(e,t,r,n,i,a,o)}var GT=l4,d4=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qc=A&&A.__assign||function(){return qc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qc.apply(this,arguments)},Vo=A&&A.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(m){o(m)}}function u(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?a(p.value):i(p.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},Bo=A&&A.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(eo,"__esModule",{value:!0});eo.runPreflight=eo.PreflightTest=void 0;var ma=ot,ga=Mu,h4=to,p4=Iu,v4=ju,Fl=Nu,m4=Du,g4=Fu,y4=Pe,_4=ot.WS_SERVER,w4=Ln,S4=Gs,td=WT,k4=HT,b4=GT,QT=Cu,T4=QT.createSID,E4=QT.sessionSID,KT=Ce,P4=KT.SignalingConnectionTimeoutError,B_=KT.MediaConnectionError,YT=1e3,C4=10*YT,Oi={mediaAcquired:"mediaAcquired",connected:"connected",mediaSubscribed:"mediaSubscribed",mediaStarted:"mediaStarted",dtlsConnected:"dtlsConnected",peerConnectionConnected:"peerConnectionConnected",iceConnected:"iceConnected"};function x4(e){return e!==null&&typeof e<"u"}var O4=0,XT=function(e){d4(t,e);function t(r,n){var i=e.call(this)||this;i._testTiming=new ga.Timer,i._dtlsTiming=new ga.Timer,i._iceTiming=new ga.Timer,i._peerConnectionTiming=new ga.Timer,i._mediaTiming=new ga.Timer,i._connectTiming=new ga.Timer,i._sentBytesMovingAverage=new td,i._packetLossMovingAverage=new td,i._progressEvents=[],i._receivedBytesMovingAverage=new td;var a=n,o=a.environment,l=o===void 0?"prod":o,u=a.region,f=u===void 0?"gll":u,p=a.duration,m=p===void 0?C4:p,y=a.wsServer||_4(l,f);return i._log=new w4("default",i,ma.DEFAULT_LOG_LEVEL,ma.DEFAULT_LOGGER_NAME),i._testDuration=m,i._instanceId=O4++,i._testTiming.start(),i._runPreflightTest(r,l,y),i}return t.prototype.toString=function(){return"[Preflight #"+this._instanceId+"]"},t.prototype.stop=function(){this._stopped=!0},t.prototype._generatePreflightReport=function(r){return this._testTiming.stop(),{testTiming:this._testTiming.getTimeMeasurement(),networkTiming:{dtls:this._dtlsTiming.getTimeMeasurement(),ice:this._iceTiming.getTimeMeasurement(),peerConnection:this._peerConnectionTiming.getTimeMeasurement(),connect:this._connectTiming.getTimeMeasurement(),media:this._mediaTiming.getTimeMeasurement()},stats:{jitter:Fl.makeStat(r==null?void 0:r.jitter),rtt:Fl.makeStat(r==null?void 0:r.rtt),packetLoss:Fl.makeStat(r==null?void 0:r.packetLoss)},selectedIceCandidatePairStats:r?r.selectedIceCandidatePairStats:null,iceCandidateStats:r?r.iceCandidateStats:[],progressEvents:this._progressEvents,mos:Fl.makeStat(r==null?void 0:r.mos)}},t.prototype._executePreflightStep=function(r,n,i){return Vo(this,void 0,void 0,function(){var a,o,l,u,f;return Bo(this,function(p){switch(p.label){case 0:if(this._log.debug("Executing step: ",r),a=this._testDuration+10*YT,this._stopped)throw new Error("stopped");o=Promise.resolve().then(n),l=null,u=new Promise(function(m,y){l=setTimeout(function(){y(i||new Error(r+" timeout."))},a)}),p.label=1;case 1:return p.trys.push([1,,3,4]),[4,Promise.race([u,o])];case 2:return f=p.sent(),[2,f];case 3:return l!==null&&clearTimeout(l),[7];case 4:return[2]}})})},t.prototype._collectNetworkTimings=function(r){var n=this;return new Promise(function(i){var a;r.addEventListener("iceconnectionstatechange",function(){r.iceConnectionState==="checking"&&n._iceTiming.start(),r.iceConnectionState==="connected"&&(n._iceTiming.stop(),n._updateProgress(Oi.iceConnected),(!a||a&&a.state==="connected")&&i())}),r.addEventListener("connectionstatechange",function(){r.connectionState==="connecting"&&n._peerConnectionTiming.start(),r.connectionState==="connected"&&(n._peerConnectionTiming.stop(),n._updateProgress(Oi.peerConnectionConnected))});var o=r.getSenders(),l=o.map(function(u){return u.transport}).find(x4);typeof l<"u"&&(a=l,a.addEventListener("statechange",function(){a.state==="connecting"&&n._dtlsTiming.start(),a.state==="connected"&&(n._dtlsTiming.stop(),n._updateProgress(Oi.dtlsConnected),r.iceConnectionState==="connected"&&i())}))})},t.prototype._setupInsights=function(r){var n=r.token,i=r.environment,a=i===void 0?ma.DEFAULT_ENVIRONMENT:i,o=r.realm,l=o===void 0?ma.DEFAULT_REALM:o,u={},f=new b4(n,ma.SDK_NAME,ma.SDK_VERSION,a,l,u);f.connect("PREFLIGHT_ROOM_SID","PREFLIGHT_PARTICIPANT");var p=new k4(f,Date.now(),this._log),m=void 0;return{reportToInsights:function(y){var x,P,L=y.report,M=L.stats.jitter||m,R=L.stats.rtt||m,_=L.stats.packetLoss||m,b=L.mos||m,N=new Map;L.iceCandidateStats.forEach(function(Y){if(Y.candidateType&&Y.protocol){var ie=N.get(Y.candidateType)||[];ie.indexOf(Y.protocol)<0&&ie.push(Y.protocol),N.set(Y.candidateType,ie)}});var W=JSON.stringify(Object.fromEntries(N)),H={name:"report",group:"preflight",level:L.error?"error":"info",payload:{sessionSID:E4,preflightSID:T4("PF"),progressEvents:JSON.stringify(L.progressEvents),testTiming:L.testTiming,dtlsTiming:L.networkTiming.dtls,iceTiming:L.networkTiming.ice,peerConnectionTiming:L.networkTiming.peerConnection,connectTiming:L.networkTiming.connect,mediaTiming:L.networkTiming.media,selectedLocalCandidate:(x=L.selectedIceCandidatePairStats)===null||x===void 0?void 0:x.localCandidate,selectedRemoteCandidate:(P=L.selectedIceCandidatePairStats)===null||P===void 0?void 0:P.remoteCandidate,iceCandidateStats:W,jitterStats:M,rttStats:R,packetLossStats:_,mosStats:b,error:L.error}};p.emit("event",H),setTimeout(function(){return f.disconnect()},2e3)}}},t.prototype._runPreflightTest=function(r,n,i){return Vo(this,void 0,void 0,function(){var a,o,l,u,f,p,m,y,x,P,L,M,R=this;return Bo(this,function(_){switch(_.label){case 0:a=[],o=[],l=this._setupInsights({token:r,environment:n}).reportToInsights,_.label=1;case 1:return _.trys.push([1,8,9,10]),u=[],[4,this._executePreflightStep("Acquire media",function(){return[m4.syntheticAudio(),g4.syntheticVideo({width:640,height:480})]})];case 2:return a=_.sent(),this._updateProgress(Oi.mediaAcquired),this.emit("debug",{localTracks:a}),this._connectTiming.start(),[4,this._executePreflightStep("Get turn credentials",function(){return v4.getTurnCredentials(r,i)},new P4)];case 3:return f=_.sent(),this._connectTiming.stop(),this._updateProgress(Oi.connected),p=new RTCPeerConnection({iceServers:f,iceTransportPolicy:"relay",bundlePolicy:"max-bundle"}),m=new RTCPeerConnection({iceServers:f,bundlePolicy:"max-bundle"}),o.push(p),o.push(m),this._mediaTiming.start(),[4,this._executePreflightStep("Setup Peer Connections",function(){return Vo(R,void 0,void 0,function(){var b,N,W,H;return Bo(this,function(Y){switch(Y.label){case 0:return p.addEventListener("icecandidate",function(ie){return ie.candidate&&m.addIceCandidate(ie.candidate)}),m.addEventListener("icecandidate",function(ie){return ie.candidate&&p.addIceCandidate(ie.candidate)}),a.forEach(function(ie){return p.addTrack(ie)}),b=new Promise(function(ie){var ae=[];m.addEventListener("track",function(ce){ae.push(ce.track),ae.length===a.length&&ie(ae)})}),[4,p.createOffer()];case 1:return N=Y.sent(),W=N,[4,p.setLocalDescription(W)];case 2:return Y.sent(),[4,m.setRemoteDescription(W)];case 3:return Y.sent(),[4,m.createAnswer()];case 4:return H=Y.sent(),[4,m.setLocalDescription(H)];case 5:return Y.sent(),[4,p.setRemoteDescription(H)];case 6:return Y.sent(),[4,this._collectNetworkTimings(p)];case 7:return Y.sent(),[2,b]}})})},new B_)];case 4:return y=_.sent(),this.emit("debug",{remoteTracks:y}),y.forEach(function(b){b.addEventListener("ended",function(){return R._log.warn(b.kind+":ended")}),b.addEventListener("mute",function(){return R._log.warn(b.kind+":muted")}),b.addEventListener("unmute",function(){return R._log.warn(b.kind+":unmuted")})}),this._updateProgress(Oi.mediaSubscribed),[4,this._executePreflightStep("Wait for tracks to start",function(){return new Promise(function(b){var N=document.createElement("video");N.autoplay=!0,N.playsInline=!0,N.muted=!0,N.srcObject=new MediaStream(y),u.push(N),R.emit("debugElement",N),N.oncanplay=b})},new B_)];case 5:return _.sent(),this._mediaTiming.stop(),this._updateProgress(Oi.mediaStarted),[4,this._executePreflightStep("Collect stats for duration",function(){return R._collectRTCStatsForDuration(R._testDuration,R4(),p,m)})];case 6:return x=_.sent(),[4,this._executePreflightStep("Generate report",function(){return R._generatePreflightReport(x)})];case 7:return P=_.sent(),l({report:P}),this.emit("completed",P),[3,10];case 8:return L=_.sent(),M=this._generatePreflightReport(),l({report:qc(qc({},M),{error:L==null?void 0:L.toString()})}),this.emit("failed",L,M),[3,10];case 9:return o.forEach(function(b){return b.close()}),a.forEach(function(b){return b.stop()}),[7];case 10:return[2]}})})},t.prototype._collectRTCStats=function(r,n,i){return Vo(this,void 0,void 0,function(){var a,o,l,u,f,p,m,y,x,P,L,M,R,_;return Bo(this,function(b){switch(b.label){case 0:return[4,p4.getCombinedConnectionStats({publisher:n,subscriber:i})];case 1:return a=b.sent(),o=a.timestamp,l=a.bytesSent,u=a.bytesReceived,f=a.packets,p=a.packetsLost,m=a.roundTripTime,y=a.jitter,x=a.selectedIceCandidatePairStats,P=a.iceCandidateStats,L=r.jitter.length>0,r.jitter.push(y),r.rtt.push(m),this._sentBytesMovingAverage.putSample(l,o),this._receivedBytesMovingAverage.putSample(u,o),this._packetLossMovingAverage.putSample(p,f),L&&(r.outgoingBitrate.push(this._sentBytesMovingAverage.get()*1e3*8),r.incomingBitrate.push(this._receivedBytesMovingAverage.get()*1e3*8),M=this._packetLossMovingAverage.get(),R=Math.min(100,M*100),r.packetLoss.push(R),_=h4.calculateMOS(m,y,M),r.mos.push(_)),r.selectedIceCandidatePairStats||(r.selectedIceCandidatePairStats=x),r.iceCandidateStats.length===0&&(r.iceCandidateStats=P),[2]}})})},t.prototype._collectRTCStatsForDuration=function(r,n,i,a){return Vo(this,void 0,void 0,function(){var o,l,u;return Bo(this,function(f){switch(f.label){case 0:return o=Date.now(),l=Math.min(1e3,r),[4,y4.waitForSometime(l)];case 1:return f.sent(),[4,this._collectRTCStats(n,i,a)];case 2:return f.sent(),u=r-(Date.now()-o),u>0?[4,this._collectRTCStatsForDuration(u,n,i,a)]:[3,4];case 3:n=f.sent(),f.label=4;case 4:return[2,n]}})})},t.prototype._updateProgress=function(r){var n=Date.now()-this._testTiming.getTimeMeasurement().start;this._progressEvents.push({duration:n,name:r}),this.emit("progress",r)},t}(S4);eo.PreflightTest=XT;function R4(){return{mos:[],jitter:[],rtt:[],outgoingBitrate:[],incomingBitrate:[],packetLoss:[],selectedIceCandidatePairStats:null,iceCandidateStats:[]}}function L4(e,t){t===void 0&&(t={});var r=new XT(e,t);return r}eo.runPreflight=L4;var rd=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},nd=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},A4=function(){function e(t,r){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:r}}),Object.defineProperty(this,"_promise",{value:new Promise(function(i,a){t(function(o){n._isCancelable=!1,i(o)},function(o){n._isCancelable=!1,a(o)},function(){return n._isCanceled})})})}return e.reject=function(t){return new e(function(n,i){i(t)},function(){})},e.resolve=function(t){return new e(function(n){n(t)},function(){})},e.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},e.prototype.catch=function(){var t=[].slice.call(arguments),r=this._promise;return new e(function(i,a){r.catch.apply(r,nd([],rd(t))).then(i,a)},this._onCancel)},e.prototype.then=function(){var t=[].slice.call(arguments),r=this._promise;return new e(function(i,a){r.then.apply(r,nd([],rd(t))).then(i,a)},this._onCancel)},e.prototype.finally=function(){var t=[].slice.call(arguments),r=this._promise;return new e(function(i,a){r.finally.apply(r,nd([],rd(t))).then(i,a)},this._onCancel)},e}(),Fv=A4,U_=Fv;function M4(e,t,r,n){var i,a=new Error("Canceled");return new U_(function(l,u,f){var p;e(function(y){return f()?U_.reject(a):(p=t(y),r(p).then(function(P){if(f())throw a;return i=P(),i}))}).then(function(y){if(f())throw y.disconnect(),a;l(n(p,y))}).catch(function(y){u(y)})},function(){i&&i.cancel()})}var I4=M4,j4=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N4=Kt.EventEmitter,D4=function(e){j4(t,e);function t(r,n){var i=e.call(this)||this;return r=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},r),Object.defineProperties(i,{maxAudioBitrate:{value:r.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:r.maxVideoBitrate,writable:!0},adaptiveSimulcast:{value:n}}),i}return t.prototype.toJSON=function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}},t.prototype.update=function(r){var n=this;r=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},r);var i=["maxAudioBitrate","maxVideoBitrate"].reduce(function(a,o){return n[o]!==r[o]&&(n[o]=r[o],a=!0),a},!1);i&&this.emit("changed")},t}(N4),F4=D4,Qs={},$4=Pe.isNonArrayObject,uo=ot,Qo=uo.typeErrors,V4=uo.clientTrackSwitchOffControl,B4=uo.videoContentPreferencesMode,U4=uo.subscriptionMode,JT=uo.trackPriority,z4=uo.trackSwitchOffMode;function W4(e){var t=Rs(e,"options.bandwidthProfile");return!e||t||(t=Rs(e.video,"options.bandwidthProfile.video",[{prop:"contentPreferencesMode",values:Object.values(B4)},{prop:"dominantSpeakerPriority",values:Object.values(JT)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(U4)},{prop:"clientTrackSwitchOffControl",values:Object.values(V4)},{prop:"trackSwitchOffMode",values:Object.values(z4)}]),t)?t:e.video?"maxTracks"in e.video&&"clientTrackSwitchOffControl"in e.video?new TypeError("options.bandwidthProfile.video.maxTracks is deprecated. Use options.bandwidthProfile.video.clientTrackSwitchOffControl instead."):"renderDimensions"in e.video&&"contentPreferencesMode"in e.video?new TypeError("options.bandwidthProfile.video.renderDimensions is deprecated. Use options.bandwidthProfile.video.contentPreferencesMode instead."):q4(e.video.renderDimensions):null}function H4(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw Qo.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}function Rs(e,t,r){return r===void 0&&(r=[]),typeof e>"u"?null:e===null||!$4(e)?Qo.INVALID_TYPE(t,"object"):r.reduce(function(n,i){var a=i.prop,o=i.type,l=i.values;if(n||!(a in e))return n;var u=e[a];return o&&typeof u!==o||o==="number"&&isNaN(u)?Qo.INVALID_TYPE(t+"."+a,o):Array.isArray(l)&&!l.includes(u)?Qo.INVALID_VALUE(t+"."+a,l):n},null)}function q4(e){var t="options.bandwidthProfile.video.renderDimensions",r=Rs(e,t);return e?r||Object.values(JT).reduce(function(n,i){return n||Rs(e[i],t+"."+i,[{prop:"height",type:"number"},{prop:"width",type:"number"}])},null):r}Qs.validateBandwidthProfile=W4;Qs.validateLocalTrack=H4;Qs.validateObject=Rs;var G4=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q4=Gs,ZT=Pe,K4=ZT.buildLogLevels,Y4=ZT.valueToJSON,X4=ot.DEFAULT_LOG_LEVEL,J4=Ln,Z4=0,e5=function(e){G4(t,e);function t(r,n,i){var a=e.call(this)||this;i=Object.assign({logLevel:X4},i);var o=K4(i.logLevel);return Object.defineProperties(a,{_instanceId:{value:Z4++},_log:{value:i.log?i.log.createLog("default",a):new J4("default",a,o,i.loggerName)},trackName:{enumerable:!0,value:r},trackSid:{enumerable:!0,value:n}}),a}return t.prototype.toJSON=function(){return Y4(this)},t.prototype.toString=function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(Q4),eE=e5,t5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r5=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},n5=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},i5=eE,tE=ot,a5=tE.typeErrors,o5=tE.trackPriority,s5=function(e){t5(t,e);function t(r,n,i,a){var o=e.call(this,n.name,r.sid,a)||this;return Object.defineProperties(o,{_reemitSignalingEvent:{value:function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return o.emit.apply(o,n5([l&&l.length?"warning":"warningsCleared"],r5(l)))}},_reemitTrackEvent:{value:function(){return o.emit(o.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:r},_unpublish:{value:i},isTrackEnabled:{enumerable:!0,get:function(){return this.track.kind==="data"?!0:this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return r.updatedPriority}},track:{enumerable:!0,value:n}}),["disabled","enabled"].forEach(function(l){return n.on(l,o._reemitTrackEvent)}),["warning","warningsCleared"].forEach(function(l){return r.on(l,o._reemitSignalingEvent)}),o}return t.prototype.toString=function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype.setPriority=function(r){var n=Object.values(o5);if(!n.includes(r))throw a5.INVALID_VALUE("priority",n);return this._signaling.setPriority(r),this},t.prototype.unpublish=function(){var r=this;return["disabled","enabled"].forEach(function(n){return r.track.removeListener(n,r._reemitTrackEvent)}),["warning","warningsCleared"].forEach(function(n){return r._signaling.removeListener(n,r._reemitSignalingEvent)}),this._unpublish(this),this},t}(i5),$v=s5,l5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c5=$v,u5=function(e){l5(t,e);function t(r,n,i,a){return e.call(this,r,n,i,a)||this}return t.prototype.toString=function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(c5),f5=u5,d5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h5=$v,p5=function(e){d5(t,e);function t(r,n,i,a){return e.call(this,r,n,i,a)||this}return t.prototype.toString=function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(h5),v5=p5,m5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g5=$v,y5=function(e){m5(t,e);function t(r,n,i,a){return e.call(this,r,n,i,a)||this}return t.prototype.toString=function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(g5),_5=y5,w5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S5=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},k5=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},rE=ot,b5=rE.typeErrors,T5=rE.trackPriority,E5=ia.isIOS,z_=Av;function P5(e){return function(t){w5(r,t);function r(n,i,a,o,l,u,f){var p=this;return f=Object.assign({workaroundWebKitBug212780:E5()&&typeof document=="object"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string"},f),p=t.call(this,i,f)||this,Object.defineProperties(p,{_isEnabled:{value:a,writable:!0},_isSwitchedOff:{value:o,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:l},_setRenderHint:{value:function(m){p._log.debug("updating render hint:",m),u(m)}},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:n},_workaroundWebKitBug212780:{value:f.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),p}return r.prototype.setPriority=function(n){var i=k5([null],S5(Object.values(T5)));if(!i.includes(n))throw b5.INVALID_VALUE("priority",i);return this._priority!==n&&(this._priority=n,this._setPriority(n)),this},r.prototype._setEnabled=function(n){this._isEnabled!==n&&(this._isEnabled=n,this.emit(this._isEnabled?"enabled":"disabled",this))},r.prototype._setSwitchedOff=function(n){this._isSwitchedOff!==n&&(this._isSwitchedOff=n,this.emit(n?"switchedOff":"switchedOn",this))},r.prototype.attach=function(n){var i=t.prototype.attach.call(this,n);return this.mediaStreamTrack.enabled!==!0&&(this.mediaStreamTrack.enabled=!0,this.processedTrack&&(this.processedTrack.enabled=!0),this.processor&&this._captureFrames()),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||C5(this)),i},r.prototype.detach=function(n){var i=t.prototype.detach.call(this,n);return this._attachments.size===0&&(this.mediaStreamTrack.enabled=!1,this.processedTrack&&(this.processedTrack.enabled=!1),this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),i},r}(e)}function C5(e){var t=e._log,r=e.kind;function n(i){i&&e._attachments.forEach(function(a){var o=e._elShims.get(a),l=a.paused&&o&&!o.pausedIntentionally();l&&(t.info("Playing inadvertently paused <"+r+"> element"),t.debug("Element:",a),t.debug("RemoteMediaTrack:",e),a.play().then(function(){t.info("Successfully played inadvertently paused <"+r+"> element"),t.debug("Element:",a),t.debug("RemoteMediaTrack:",e)}).catch(function(u){t.warn("Error while playing inadvertently paused <"+r+"> element:",{err:u,el:a,remoteMediaTrack:e})}))})}return z_.onVisibilityChange(2,n),function(){z_.offVisibilityChange(2,n)}}var nE=P5,x5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O5=_b,R5=nE,L5=R5(O5),A5=function(e){x5(t,e);function t(r,n,i,a,o,l,u){return e.call(this,r,n,i,a,o,l,u)||this}return t.prototype.toString=function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype._start=function(){e.prototype._start.call(this),this._dummyEl&&(this._dummyEl.srcObject=null,this._dummyEl=null)},t.prototype.setPriority=function(r){return e.prototype.setPriority.call(this,r)},t}(L5),M5=A5,I5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j5=eE,N5=function(e){I5(t,e);function t(r,n){var i=e.call(this,r.name,r.sid,n)||this;Object.defineProperties(i,{_signaling:{value:r},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return r.isEnabled}},kind:{enumerable:!0,value:r.kind},publishPriority:{enumerable:!0,get:function(){return r.priority}},track:{enumerable:!0,get:function(){return this._track}}});var a=r.error,o=r.isEnabled,l=r.isSwitchedOff,u=r.priority;return r.on("updated",function(){if(a!==r.error){a=r.error,i.emit("subscriptionFailed",r.error);return}o!==r.isEnabled&&(o=r.isEnabled,i.track&&i.track._setEnabled(r.isEnabled),i.emit(r.isEnabled?"trackEnabled":"trackDisabled")),l!==r.isSwitchedOff&&(i._log.debug(i.trackSid+": "+(l?"OFF":"ON")+" => "+(r.isSwitchedOff?"OFF":"ON")),l=r.isSwitchedOff,i.track?(i.track._setSwitchedOff(r.isSwitchedOff),i.emit(l?"trackSwitchedOff":"trackSwitchedOn",i.track)):l&&i._log.warn("Track was not subscribed when switched Off.")),u!==r.priority&&(u=r.priority,i.emit("publishPriorityChanged",u))}),i}return t.prototype.toString=function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype._subscribed=function(r){!this._track&&r&&(this._track=r,this.emit("subscribed",r))},t.prototype._unsubscribe=function(){if(this._track){var r=this._track;this._track=null,this.emit("unsubscribed",r)}},t}(j5),Vv=N5,D5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F5=Vv,$5=function(e){D5(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.toString=function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(F5),V5=$5,B5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U5=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},z5=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},W5=Lv,iE=ot,H5=iE.typeErrors,q5=iE.trackPriority,G5=function(e){B5(t,e);function t(r,n,i){var a=e.call(this,n.id,"data",i)||this;return Object.defineProperties(a,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:n.maxPacketLifeTime===null&&n.maxRetransmits===null},sid:{enumerable:!0,value:r}}),n.on("message",function(o){a.emit("message",o,a)}),a}return t.prototype.setPriority=function(r){var n=z5([null],U5(Object.values(q5)));if(!n.includes(r))throw H5.INVALID_VALUE("priority",n);return this._priority=r,this},t.prototype._setEnabled=function(){},t.prototype._setSwitchedOff=function(r){this._isSwitchedOff!==r&&(this._isSwitchedOff=r,this.emit(r?"switchedOff":"switchedOn",this))},t}(W5),Q5=G5,K5=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y5=Vv,X5=function(e){K5(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.toString=function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(Y5),J5=X5,aE=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bv=function(){function e(t){Object.defineProperties(this,{_callback:{value:t}})}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.makeVisible=function(t){var r=this._makeFakeEntry(t,!0);this._callback([r])},e.prototype.makeInvisible=function(t){var r=this._makeFakeEntry(t,!1);this._callback([r])},e.prototype._makeFakeEntry=function(t,r){return{target:t,isIntersecting:r}},e}(),Z5=function(e){aE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Bv),e$=function(e){aE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.resize=function(r){var n=this._makeFakeEntry(r,!0);this._callback([n])},t}(Bv),t$={NullIntersectionObserver:Z5,NullResizeObserver:e$,NullObserver:Bv},r$=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n$=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},i$=nE,a$=Ob,W_=Av,H_=t$.NullObserver,o$=aa,s$=i$(a$),l$=50,c$=function(e){r$(t,e);function t(r,n,i,a,o,l,u){var f=this;return u=Object.assign({clientTrackSwitchOffControl:"auto",contentPreferencesMode:"auto",enableDocumentVisibilityTurnOff:!0},u),u=Object.assign({IntersectionObserver:typeof IntersectionObserver>"u"||u.clientTrackSwitchOffControl!=="auto"?H_:IntersectionObserver,ResizeObserver:typeof ResizeObserver>"u"||u.contentPreferencesMode!=="auto"?H_:ResizeObserver},u),f=e.call(this,r,n,i,a,o,l,u)||this,Object.defineProperties(f,{_enableDocumentVisibilityTurnOff:{value:u.enableDocumentVisibilityTurnOff===!0&&u.clientTrackSwitchOffControl==="auto"},_documentVisibilityTurnOffCleanup:{value:null,writable:!0},_clientTrackSwitchOffControl:{value:u.clientTrackSwitchOffControl},_contentPreferencesMode:{value:u.contentPreferencesMode},_invisibleElements:{value:new WeakSet},_elToPipCallbacks:{value:new WeakMap},_elToPipWindows:{value:new WeakMap},_turnOffTimer:{value:new o$(function(){f._setRenderHint({enabled:!1})},l$,!1)},_resizeObserver:{value:new u.ResizeObserver(function(p){var m=p.find(function(y){return!f._invisibleElements.has(y.target)});m&&$l(f)})},_intersectionObserver:{value:new u.IntersectionObserver(function(p){var m=!1;p.forEach(function(y){var x=!f._invisibleElements.has(y.target);x!==y.isIntersecting&&(y.isIntersecting?(f._log.debug("intersectionObserver detected: Off => On"),f._invisibleElements.delete(y.target)):(f._log.debug("intersectionObserver detected: On => Off"),f._invisibleElements.add(y.target)),m=!0)}),m&&(wa(f),$l(f))},{threshold:.25})}}),f}return t.prototype._start=function(r){var n=e.prototype._start.call(this,r);return wa(this),n},t.prototype.switchOn=function(){if(this._clientTrackSwitchOffControl!=="manual")throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!0}),this},t.prototype.switchOff=function(){if(this._clientTrackSwitchOffControl!=="manual")throw new Error('Invalid state. You can call switchOff only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!1}),this},t.prototype.setContentPreferences=function(r){if(this._contentPreferencesMode!=="manual")throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.contentPreferencesMode is set to "manual"');return r.renderDimensions&&this._setRenderHint({renderDimensions:r.renderDimensions}),this},t.prototype._unObservePip=function(r){var n=this._elToPipCallbacks.get(r);n&&(r.removeEventListener("enterpictureinpicture",n.onEnterPip),r.removeEventListener("leavepictureinpicture",n.onLeavePip),this._elToPipCallbacks.delete(r))},t.prototype._observePip=function(r){var n=this,i=this._elToPipCallbacks.get(r);if(!i){var a=function(u){return n._onEnterPip(u,r)},o=function(u){return n._onLeavePip(u,r)},l=function(u){return n._onResizePip(u,r)};r.addEventListener("enterpictureinpicture",a),r.addEventListener("leavepictureinpicture",o),this._elToPipCallbacks.set(r,{onEnterPip:a,onLeavePip:o,onResizePip:l})}},t.prototype._onEnterPip=function(r,n){this._log.debug("onEnterPip");var i=r.pictureInPictureWindow;this._elToPipWindows.set(n,i);var a=this._elToPipCallbacks.get(n).onResizePip;i.addEventListener("resize",a),wa(this)},t.prototype._onLeavePip=function(r,n){this._log.debug("onLeavePip"),this._elToPipWindows.delete(n);var i=this._elToPipCallbacks.get(n).onResizePip,a=r.pictureInPictureWindow;a.removeEventListener("resize",i),wa(this)},t.prototype._onResizePip=function(){$l(this)},t.prototype.attach=function(r){var n=e.prototype.attach.call(this,r);return this._clientTrackSwitchOffControl==="auto"&&this._invisibleElements.add(n),this._intersectionObserver.observe(n),this._resizeObserver.observe(n),this._enableDocumentVisibilityTurnOff&&(this._documentVisibilityTurnOffCleanup=this._documentVisibilityTurnOffCleanup||u$(this)),this._observePip(n),n},t.prototype.detach=function(r){var n=this,i=e.prototype.detach.call(this,r),a=Array.isArray(i)?i:[i];return a.forEach(function(o){n._intersectionObserver.unobserve(o),n._resizeObserver.unobserve(o),n._invisibleElements.delete(o),n._unObservePip(o)}),this._attachments.size===0&&this._documentVisibilityTurnOffCleanup&&(this._documentVisibilityTurnOffCleanup(),this._documentVisibilityTurnOffCleanup=null),wa(this),$l(this),i},t.prototype.addProcessor=function(){return e.prototype.addProcessor.apply(this,arguments)},t.prototype.removeProcessor=function(){return e.prototype.removeProcessor.apply(this,arguments)},t.prototype.toString=function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype.setPriority=function(r){return e.prototype.setPriority.call(this,r)},t}(s$);function u$(e){function t(){wa(e)}return W_.onVisibilityChange(1,t),function(){W_.offVisibilityChange(1,t)}}function wa(e){if(e._clientTrackSwitchOffControl==="auto"){var t=e._getAllAttachedElements().filter(function(i){return!e._invisibleElements.has(i)}),r=e._getAllAttachedElements().filter(function(i){return e._elToPipWindows.has(i)}),n=r.length>0||document.visibilityState==="visible"&&t.length>0;n===!0?(e._turnOffTimer.clear(),e._setRenderHint({enabled:!0})):e._turnOffTimer.isSet||e._turnOffTimer.start()}}function $l(e){if(e._contentPreferencesMode==="auto"){var t=e._getAllAttachedElements().filter(function(f){return!e._invisibleElements.has(f)}),r=e._getAllAttachedElements().map(function(f){var p=e._elToPipWindows.get(f);return p?{clientHeight:p.height,clientWidth:p.width}:{clientHeight:0,clientWidth:0}}),n=t.concat(r);if(n.length>0){var i=n$(n.sort(function(f,p){return p.clientHeight+p.clientWidth-f.clientHeight-f.clientWidth-1}),1),a=i[0],o=a.clientHeight,l=a.clientWidth,u={height:o,width:l};e._setRenderHint({renderDimensions:u})}}}var f$=c$,d$=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h$=Vv,p$=function(e){d$(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.toString=function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(h$),v$=p$,m$=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ls=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},tp=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},g$=Gs,y$=M5,_$=V5,w$=Q5,S$=J5,k$=f$,b$=v$,mn=Pe,T$=0,E$=function(e){m$(t,e);function t(r,n){var i=e.call(this)||this;n=Object.assign({RemoteAudioTrack:y$,RemoteAudioTrackPublication:_$,RemoteDataTrack:w$,RemoteDataTrackPublication:S$,RemoteVideoTrack:k$,RemoteVideoTrackPublication:b$,tracks:[]},n);var a=P$(n.tracks),o=n.log.createLog("default",i),l=new Map(a.audioTracks),u=new Map(a.dataTracks),f=new Map(a.tracks),p=new Map(a.videoTracks);return Object.defineProperties(i,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:l},_dataTracks:{value:u},_instanceId:{value:++T$},_clientTrackSwitchOffControl:{value:n.clientTrackSwitchOffControl},_contentPreferencesMode:{value:n.contentPreferencesMode},_log:{value:o},_signaling:{value:r},_tracks:{value:f},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:p},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return r.identity}},networkQualityLevel:{enumerable:!0,get:function(){return r.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return r.networkQualityStats}},sid:{enumerable:!0,get:function(){return r.sid}},state:{enumerable:!0,get:function(){return r.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),i._tracks.forEach(q_.bind(null,i)),r.on("networkQualityLevelChanged",function(){return i.emit("networkQualityLevelChanged",i.networkQualityLevel,i.networkQualityStats&&(i.networkQualityStats.audio||i.networkQualityStats.video)?i.networkQualityStats:null)}),C$(i,r),o.info("Created a new Participant"+(i.identity?": "+i.identity:"")),i}return t.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]},t.prototype._getTrackPublicationEvents=function(){return[]},t.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},t.prototype._addTrack=function(r,n){var i=this._log;if(this._tracks.has(n))return null;this._tracks.set(n,r);var a={audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[r.kind];return a.set(n,r),q_(this,r,n),i.info("Added a new "+mn.trackClass(r)+":",n),i.debug(mn.trackClass(r)+":",r),r},t.prototype._addTrackPublication=function(r){var n=this._log;if(this.tracks.has(r.trackSid))return null;this.tracks.set(r.trackSid,r);var i={audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[r.kind];return i.set(r.trackSid,r),x$(this,r),n.info("Added a new "+mn.trackPublicationClass(r)+":",r.trackSid),n.debug(mn.trackPublicationClass(r)+":",r),r},t.prototype._handleTrackSignalingEvents=function(){var r=this,n=r._log,i=r._clientTrackSwitchOffControl,a=r._contentPreferencesMode,o=this;if(this.state==="disconnected")return;var l=this._RemoteAudioTrack,u=this._RemoteAudioTrackPublication,f=this._RemoteVideoTrack,p=this._RemoteVideoTrackPublication,m=this._RemoteDataTrack,y=this._RemoteDataTrackPublication,x=this._signaling;function P(_){var b={audio:u,data:y,video:p}[_.kind],N=new b(_,{log:n});o._addTrackPublication(N);var W=_.isSubscribed;W&&M(_),o._trackSignalingUpdatedEventCallbacks.set(_.sid,function(){if(W!==_.isSubscribed){if(W=_.isSubscribed,W){M(_);return}R(_)}}),_.on("updated",o._trackSignalingUpdatedEventCallbacks.get(_.sid))}function L(_){_.isSubscribed&&_.setTrackTransceiver(null);var b=o._trackSignalingUpdatedEventCallbacks.get(_.sid);b&&(_.removeListener("updated",b),o._trackSignalingUpdatedEventCallbacks.delete(_.sid));var N=o.tracks.get(_.sid);N&&o._removeTrackPublication(N)}function M(_){var b=_.isEnabled,N=_.name,W=_.kind,H=_.sid,Y=_.trackTransceiver,ie=_.isSwitchedOff,ae={audio:l,video:f,data:m}[W],ce=o.tracks.get(H);if(!(!ae||W!==Y.kind)){var _e={log:n,name:N,clientTrackSwitchOffControl:i,contentPreferencesMode:a},ue=function(ge){return x.updateSubscriberTrackPriority(H,ge)},pe=function(ge){_.isSubscribed&&x.updateTrackRenderHint(H,ge)},le=W==="data"?new ae(H,Y,_e):new ae(H,Y,b,ie,ue,pe,_e);o._addTrack(le,ce,Y.id)}}function R(_){var b=Ls(Array.from(o._tracks.entries()).find(function(Y){var ie=Ls(Y,2),ae=ie[1];return ae.sid===_.sid}),2),N=b[0],W=b[1],H=o.tracks.get(_.sid);W&&o._removeTrack(W,H,N)}x.on("trackAdded",P),x.on("trackRemoved",L),x.tracks.forEach(P),x.on("stateChanged",function _(b){b==="disconnected"?(n.debug("Removing event listeners"),x.removeListener("stateChanged",_),x.removeListener("trackAdded",P),x.removeListener("trackRemoved",L)):b==="connected"&&(n.info("reconnected"),setTimeout(function(){return o.emit("reconnected")},0))})},t.prototype._removeTrack=function(r,n){if(!this._tracks.has(n))return null;this._tracks.delete(n);var i={audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[r.kind];i.delete(n);var a=this._trackEventReemitters.get(n)||new Map;a.forEach(function(l,u){r.removeListener(u,l)});var o=this._log;return o.info("Removed a "+mn.trackClass(r)+":",n),o.debug(mn.trackClass(r)+":",r),r},t.prototype._removeTrackPublication=function(r){if(r=this.tracks.get(r.trackSid),!r)return null;this.tracks.delete(r.trackSid);var n={audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[r.kind];n.delete(r.trackSid);var i=this._trackPublicationEventReemitters.get(r.trackSid)||new Map;i.forEach(function(o,l){r.removeListener(l,o)});var a=this._log;return a.info("Removed a "+mn.trackPublicationClass(r)+":",r.trackSid),a.debug(mn.trackPublicationClass(r)+":",r),r},t.prototype.toJSON=function(){return mn.valueToJSON(this)},t}(g$);function P$(e){var t=e.map(function(a){return[a.id,a]}),r=t.filter(function(a){return a[1].kind==="audio"}),n=t.filter(function(a){return a[1].kind==="video"}),i=t.filter(function(a){return a[1].kind==="data"});return{audioTracks:r,dataTracks:i,tracks:t,videoTracks:n}}function C$(e,t){var r=e._log;e.state!=="disconnected"&&t.on("stateChanged",function n(i){r.debug("Transitioned to state:",i),e.emit(i,e),i==="disconnected"&&(r.debug("Removing Track event reemitters"),t.removeListener("stateChanged",n),e._tracks.forEach(function(a){var o=e._trackEventReemitters.get(a.id);a&&o&&o.forEach(function(l,u){a.removeListener(u,l)})}),t.tracks.forEach(function(a){var o=e._tracks.get(a.id),l=e._trackEventReemitters.get(a.id);o&&l&&l.forEach(function(u,f){o.removeListener(f,u)})}),e._trackEventReemitters.clear(),e.tracks.forEach(function(a){e._trackPublicationEventReemitters.get(a.trackSid).forEach(function(o,l){a.removeListener(l,o)})}),e._trackPublicationEventReemitters.clear())})}function q_(e,t,r){var n=new Map;e.state!=="disconnected"&&(e._getTrackEvents().forEach(function(i){var a=i[0],o=i[1];n.set(a,function(){var l=[o].concat([].slice.call(arguments));return e.emit.apply(e,tp([],Ls(l)))}),t.on(a,n.get(a))}),e._trackEventReemitters.set(r,n))}function x$(e,t){var r=new Map;e.state!=="disconnected"&&(e._getTrackPublicationEvents().forEach(function(n){var i=Ls(n,2),a=i[0],o=i[1];r.set(a,function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];e.emit.apply(e,tp(tp([o],Ls(l)),[t]))}),t.on(a,r.get(a))}),e._trackPublicationEventReemitters.set(t.trackSid,r))}var oE=E$,O$=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R$=na.MediaStreamTrack,Uv=Pe,L$=Uv.asLocalTrack,A$=Uv.asLocalTrackPublication,Ri=Uv.trackClass,sE=ot,Kn=sE.typeErrors,id=sE.trackPriority,M$=Qs.validateLocalTrack,zv=Wa,I$=zv.LocalAudioTrack,j$=zv.LocalDataTrack,N$=zv.LocalVideoTrack,D$=f5,F$=v5,$$=_5,V$=oE,B$=function(e){O$(t,e);function t(r,n,i){var a=this;i=Object.assign({LocalAudioTrack:I$,LocalVideoTrack:N$,LocalDataTrack:j$,MediaStreamTrack:R$,LocalAudioTrackPublication:D$,LocalVideoTrackPublication:$$,LocalDataTrackPublication:F$,shouldStopLocalTracks:!1,tracks:n},i);var o=i.shouldStopLocalTracks?new Set(n.filter(function(l){return l.kind!=="data"})):new Set;return a=e.call(this,r,i)||this,Object.defineProperties(a,{_eventObserver:{value:i.eventObserver},_LocalAudioTrack:{value:i.LocalAudioTrack},_LocalDataTrack:{value:i.LocalDataTrack},_LocalVideoTrack:{value:i.LocalVideoTrack},_MediaStreamTrack:{value:i.MediaStreamTrack},_LocalAudioTrackPublication:{value:i.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:i.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:i.LocalVideoTrackPublication},_tracksToStop:{value:o},signalingRegion:{enumerable:!0,get:function(){return r.signalingRegion}}}),a._handleTrackSignalingEvents(),a}return t.prototype._addTrack=function(r,n,i){var a=e.prototype._addTrack.call(this,r,n);return a&&this.state!=="disconnected"&&this._addLocalTrack(r,i),a},t.prototype._addLocalTrack=function(r,n){var i,a=(i=r.noiseCancellation)===null||i===void 0?void 0:i.vendor;this._signaling.addTrack(r._trackSender,r.name,n,a),this._log.info("Added a new "+Ri(r,!0)+":",r.id),this._log.debug(Ri(r,!0)+":",r)},t.prototype._removeTrack=function(r,n){var i=e.prototype._removeTrack.call(this,r,n);return i&&this.state!=="disconnected"&&(this._signaling.removeTrack(r._trackSender),this._log.info("Removed a "+Ri(r,!0)+":",r.id),this._log.debug(Ri(r,!0)+":",r)),i},t.prototype._getTrackEvents=function(){return e.prototype._getTrackEvents.call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])},t.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._handleTrackSignalingEvents=function(){var r=this,n=this._log;if(this.state!=="disconnected"){var i=function(u){var f=r._signaling.getPublication(u._trackSender);f&&(f.disable(),n.debug("Disabled the "+Ri(u,!0)+":",u.id))},a=function(u){var f=r._signaling.getPublication(u._trackSender);f&&(f.enable(),n.debug("Enabled the "+Ri(u,!0)+":",u.id))},o=function(u){var f=r._signaling.getPublication(u._trackSender);return f&&f.stop(),f},l=function(u){n.debug("Transitioned to state:",u),u==="disconnected"?(n.debug("Removing LocalTrack event listeners"),r._signaling.removeListener("stateChanged",l),r.removeListener("trackDisabled",i),r.removeListener("trackEnabled",a),r.removeListener("trackStopped",o),r._tracks.forEach(function(f){var p=o(f);p&&f._trackSender.removeClone(p._trackTransceiver)}),n.info("LocalParticipant disconnected. Stopping "+r._tracksToStop.size+" automatically-acquired LocalTracks"),r._tracksToStop.forEach(function(f){f.stop()})):u==="connected"&&(n.info("reconnected"),setTimeout(function(){return r.emit("reconnected")},0))};this.on("trackDisabled",i),this.on("trackEnabled",a),this.on("trackStopped",o),this._signaling.on("stateChanged",l),this._tracks.forEach(function(u){r._addLocalTrack(u,id.PRIORITY_STANDARD),r._getOrCreateLocalTrackPublication(u).catch(function(f){n.warn("Failed to get or create LocalTrackPublication for "+u+":",f)})})}},t.prototype._getOrCreateLocalTrackPublication=function(r){var n=Vl(this.tracks,r);if(n)return Promise.resolve(n);var i=this._log,a=this,o=this._signaling.getPublication(r._trackSender);return o?new Promise(function(l,u){function f(){var p=o.error;if(p){o.removeListener("updated",f),i.warn("Failed to publish the "+Ri(r,!0)+": "+p.message),a._removeTrack(r,r.id),setTimeout(function(){a.emit("trackPublicationFailed",p,r)}),u(p);return}if(!a._tracks.has(r.id)){o.removeListener("updated",f),u(new Error("The "+r+" was unpublished"));return}var m=o.sid;if(m){o.removeListener("updated",f);var y={log:i,LocalAudioTrackPublication:a._LocalAudioTrackPublication,LocalDataTrackPublication:a._LocalDataTrackPublication,LocalVideoTrackPublication:a._LocalVideoTrackPublication};n=Vl(a.tracks,r);var x=function(R){return a.emit("trackWarning",R,n)},P=function(){return a.emit("trackWarningsCleared",n)},L=function(R){n.removeListener("trackWarning",x),n.removeListener("trackWarningsCleared",P),a.unpublishTrack(R.track)};n||(n=A$(r,o,L,y),a._addTrackPublication(n)),n.on("warning",x),n.on("warningsCleared",P);var M=a._signaling.state;(M==="connected"||M==="connecting")&&(r._processorEventObserver&&r._processorEventObserver.on("event",function(R){a._eventObserver.emit("event",{name:R.name,payload:R.data,group:"video-processor",level:"info"})}),r.processedTrack&&(r._captureFrames(),r._setSenderMediaStreamTrack(!0))),M==="connected"&&setTimeout(function(){a.emit("trackPublished",n)}),l(n)}}o.on("updated",f)}):Promise.reject(new Error("Unexpected error: The "+r+" cannot be published"))},t.prototype.publishTrack=function(r,n){var i=Vl(this.tracks,r);if(i)return Promise.resolve(i);n=Object.assign({log:this._log,priority:id.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},n);var a;try{a=L$(r,n)}catch(p){return Promise.reject(p)}var o=a.noiseCancellation,l=this._signaling.audioProcessors;o&&!l.includes(o.vendor)&&(this._log.warn(o.vendor+" is not supported in this room. disabling it permanently"),o.disablePermanently());var u=Object.values(id);if(!u.includes(n.priority))return Promise.reject(Kn.INVALID_VALUE("LocalTrackPublishOptions.priority",u));var f=this._addTrack(a,a.id,n.priority)||this._tracks.get(a.id);return this._getOrCreateLocalTrackPublication(f)},t.prototype.publishTracks=function(r){if(!Array.isArray(r))throw Kn.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(r.map(this.publishTrack,this))},t.prototype.setBandwidthProfile=function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")},t.prototype.setNetworkQualityConfiguration=function(r){if(typeof r!="object"||r===null)throw Kn.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach(function(n){if(n in r&&(typeof r[n]!="number"||isNaN(r[n])))throw Kn.INVALID_TYPE("networkQualityConfiguration."+n,"number")}),this._signaling.setNetworkQualityConfiguration(r),this},t.prototype.setParameters=function(r){if(typeof r<"u"&&typeof r!="object")throw Kn.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");if(r){if(this._signaling.getParameters().adaptiveSimulcast&&r.maxVideoBitrate)throw Kn.INVALID_TYPE("encodingParameters",'encodingParameters.maxVideoBitrate is not compatible with "preferredVideoCodecs=auto"');["maxAudioBitrate","maxVideoBitrate"].forEach(function(n){if(typeof r[n]<"u"&&typeof r[n]!="number"&&r[n]!==null)throw Kn.INVALID_TYPE("encodingParameters."+n,"number, null or undefined")})}else r===null&&(r={maxAudioBitrate:null,maxVideoBitrate:null});return this._signaling.setParameters(r),this},t.prototype.unpublishTrack=function(r){M$(r,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var n=this._tracks.get(r.id);if(!n)return null;var i=this._signaling.getPublication(n._trackSender);if(i.publishFailed(new Error("The "+n+" was unpublished")),n=this._removeTrack(n,n.id),!n)return null;var a=Vl(this.tracks,n);return a&&this._removeTrackPublication(a),a},t.prototype.unpublishTracks=function(r){var n=this;if(!Array.isArray(r))throw Kn.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return r.reduce(function(i,a){var o=n.unpublishTrack(a);return o?i.concat(o):i},[])},t}(V$);function Vl(e,t){return Array.from(e.values()).find(function(r){return r.track===t||r.track.mediaStreamTrack===t})||null}var U$=B$,z$=function(){function e(){Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return e.prototype.connect=function(){},e.prototype.disconnect=function(){return this._connected?(this._connected=!1,!0):!1},e.prototype.publish=function(){return this._connected},e}(),W$=z$,H$=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q$=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},G$=Kt.EventEmitter,Wv=ot,Bl=Wv.DEFAULT_NQ_LEVEL_LOCAL,Ul=Wv.DEFAULT_NQ_LEVEL_REMOTE,G_=Wv.MAX_NQ_LEVEL,ad=Pe.inRange,Q$=function(e){H$(t,e);function t(r){var n=e.call(this)||this;return r=Object.assign({local:Bl,remote:Ul},r),Object.defineProperties(n,{local:{value:ad(r.local,Bl,G_)?r.local:Bl,writable:!0},remote:{value:ad(r.remote,Ul,G_)?r.remote:Ul,writable:!0}}),n}return t.prototype.update=function(r){var n=this;r=Object.assign({local:this.local,remote:this.remote},r),[["local",Bl,3],["remote",Ul,3]].forEach(function(i){var a=q$(i,3),o=a[0],l=a[1],u=a[2];n[o]=typeof r[o]=="number"&&ad(r[o],l,u)?r[o]:l})},t}(G$),K$=Q$,Y$=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X$=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Q_=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},J$=oE,Z$=function(e){Y$(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._handleTrackSignalingEvents(),i.once("disconnected",i._unsubscribeTracks.bind(i)),i}return t.prototype.toString=function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._addTrack=function(r,n,i){return e.prototype._addTrack.call(this,r,i)?(n._subscribed(r),this.emit("trackSubscribed",r,n),r):null},t.prototype._addTrackPublication=function(r){var n=e.prototype._addTrackPublication.call(this,r);return n?(this.emit("trackPublished",n),n):null},t.prototype._getTrackPublicationEvents=function(){return Q_(Q_([],X$(e.prototype._getTrackPublicationEvents.call(this))),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])},t.prototype._unsubscribeTracks=function(){var r=this;this.tracks.forEach(function(n){if(n.isSubscribed){var i=n.track;n._unsubscribe(),r.emit("trackUnsubscribed",i,n)}})},t.prototype._removeTrack=function(r,n,i){var a=this._tracks.get(i);return a?(e.prototype._removeTrack.call(this,a,i),n._unsubscribe(),this.emit("trackUnsubscribed",a,n),a):null},t.prototype._removeTrackPublication=function(r){this._signaling.clearTrackHint(r.trackSid);var n=e.prototype._removeTrackPublication.call(this,r);return n?(this.emit("trackUnpublished",n),n):null},t}(J$),e6=Z$,t6=function(){function e(t,r){if(typeof t!="string")throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:t,enumerable:!0},trackSid:{value:r.trackSid,enumerable:!0},timestamp:{value:r.timestamp,enumerable:!0},ssrc:{value:r.ssrc,enumerable:!0},packetsLost:{value:typeof r.packetsLost=="number"?r.packetsLost:null,enumerable:!0},codec:{value:typeof r.codecName=="string"?r.codecName:null,enumerable:!0}})}return e}(),lE=t6,r6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n6=lE,i6=function(e){r6(t,e);function t(r,n,i){var a=e.call(this,r,n)||this;return Object.defineProperties(a,{bytesSent:{value:typeof n.bytesSent=="number"?n.bytesSent:i?0:null,enumerable:!0},packetsSent:{value:typeof n.packetsSent=="number"?n.packetsSent:i?0:null,enumerable:!0},roundTripTime:{value:typeof n.roundTripTime=="number"?n.roundTripTime:i?0:null,enumerable:!0}}),a}return t}(n6),cE=i6,a6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o6=cE,s6=function(e){a6(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return Object.defineProperties(a,{audioLevel:{value:typeof n.audioInputLevel=="number"?n.audioInputLevel:null,enumerable:!0},jitter:{value:typeof n.jitter=="number"?n.jitter:null,enumerable:!0}}),a}return t}(o6),l6=s6,c6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u6=cE,f6=function(e){c6(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this,o=null;typeof n.frameWidthInput=="number"&&typeof n.frameHeightInput=="number"&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var l=null;return typeof n.frameWidthSent=="number"&&typeof n.frameHeightSent=="number"&&(l={},Object.defineProperties(l,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(a,{captureDimensions:{value:o,enumerable:!0},dimensions:{value:l,enumerable:!0},captureFrameRate:{value:typeof n.frameRateInput=="number"?n.frameRateInput:null,enumerable:!0},frameRate:{value:typeof n.frameRateSent=="number"?n.frameRateSent:null,enumerable:!0}}),a}return t}(u6),d6=f6,h6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p6=lE,v6=function(e){h6(t,e);function t(r,n){var i=e.call(this,r,n)||this;return Object.defineProperties(i,{bytesReceived:{value:typeof n.bytesReceived=="number"?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:typeof n.packetsReceived=="number"?n.packetsReceived:null,enumerable:!0}}),i}return t}(p6),uE=v6,m6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g6=uE,y6=function(e){m6(t,e);function t(r,n){var i=e.call(this,r,n)||this;return Object.defineProperties(i,{audioLevel:{value:typeof n.audioOutputLevel=="number"?n.audioOutputLevel:null,enumerable:!0},jitter:{value:typeof n.jitter=="number"?n.jitter:null,enumerable:!0}}),i}return t}(g6),_6=y6,w6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S6=uE,k6=function(e){w6(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=null;return typeof n.frameWidthReceived=="number"&&typeof n.frameHeightReceived=="number"&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(i,{dimensions:{value:a,enumerable:!0},frameRate:{value:typeof n.frameRateReceived=="number"?n.frameRateReceived:null,enumerable:!0}}),i}return t}(S6),b6=k6,T6=l6,E6=d6,P6=_6,C6=b6,x6=function(){function e(t,r,n){if(typeof t!="string")throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:t,enumerable:!0},localAudioTrackStats:{value:r.localAudioTrackStats.map(function(i){return new T6(i.trackId,i,n)}),enumerable:!0},localVideoTrackStats:{value:r.localVideoTrackStats.map(function(i){return new E6(i.trackId,i,n)}),enumerable:!0},remoteAudioTrackStats:{value:r.remoteAudioTrackStats.map(function(i){return new P6(i.trackId,i)}),enumerable:!0},remoteVideoTrackStats:{value:r.remoteVideoTrackStats.map(function(i){return new C6(i.trackId,i)}),enumerable:!0}})}return e}(),fE=x6,O6=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),As=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},dc=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},R6=Gs,L6=e6,A6=fE,dE=Pe,M6=dE.flatMap,I6=dE.valueToJSON,j6=0,N6=function(e){O6(t,e);function t(r,n,i){var a=e.call(this)||this,o=i.log.createLog("default",a),l=new Map;return Object.defineProperties(a,{_log:{value:o},_clientTrackSwitchOffControl:{value:i.clientTrackSwitchOffControl||"disabled"},_contentPreferencesMode:{value:i.contentPreferencesMode||"disabled"},_instanceId:{value:++j6},_options:{value:i},_participants:{value:l},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:r},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:l},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),F6(a,r),$6(a,n.recording),V6(a,n),D6(a),o.info("Created a new Room:",a.name),o.debug("Initial RemoteParticipants:",Array.from(a._participants.values())),a}return t.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},t.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},t.prototype.getStats=function(){var r=this;return this._signaling.getStats().then(function(n){return Array.from(n).map(function(i){var a=As(i,2),o=a[0],l=a[1];return new A6(o,Object.assign({},l,{localAudioTrackStats:K_(r,l.localAudioTrackStats),localVideoTrackStats:K_(r,l.localVideoTrackStats)}))})})},t.prototype.refreshInactiveMedia=function(){var r=this.localParticipant.tracks,n=Array.from(r.values()).filter(function(u){var f=u.track.kind;return f!=="data"}).map(function(u){var f=u.track;return f}),i=M6(this.participants,function(u){return Array.from(u.tracks.values())}).filter(function(u){var f=u.track;return f&&f.kind!=="data"}).map(function(u){var f=u.track;return f}),a=n.concat(i),o=new Event("unmute");n.forEach(function(u){var f=u.isMuted,p=u.mediaStreamTrack;f&&p.dispatchEvent(o)});var l=new Event("pause");return a.forEach(function(u){var f=u._attachments,p=u._elShims;return f.forEach(function(m){var y=p.get(m),x=m.paused&&y&&!y.pausedIntentionally();x&&m.dispatchEvent(l)})}),this},t.prototype.toJSON=function(){return I6(this)},t}(R6);function D6(e){var t=e.localParticipant._signaling.audioProcessors;e.localParticipant.audioTracks.forEach(function(r){var n=r.track,i=n.noiseCancellation;i&&!t.includes(i.vendor)&&(e._log.warn(i.vendor+" is not supported in this room. disabling it permanently"),i.disablePermanently())})}function K_(e,t){var r=e.localParticipant._signaling;return t.reduce(function(n,i){var a=r.tracks.get(i.trackId),o=r.getSender(a);return o?[Object.assign({},i,{trackId:o.id})].concat(n):n},[])}function Y_(e,t){var r=e._log,n=e._clientTrackSwitchOffControl,i=e._contentPreferencesMode,a=new L6(t,{log:r,clientTrackSwitchOffControl:n,contentPreferencesMode:i});r.info("A new RemoteParticipant connected:",a),e._participants.set(a.sid,a),e.emit("participantConnected",a);var o=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map(function(l){var u=As(Array.isArray(l)?l:[l,l],2),f=u[0],p=u[1];function m(){var y=[].slice.call(arguments);y.unshift(p),y.push(a),e.emit.apply(e,dc([],As(y)))}return a.on(f,m),[f,m]});a.once("disconnected",function(){var u=e.dominantSpeaker;r.info("RemoteParticipant disconnected:",a),e._participants.delete(a.sid),o.forEach(function(f){a.removeListener(f[0],f[1])}),e.emit("participantDisconnected",a),a===u&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)})}function F6(e,t){var r=["trackWarning","trackWarningsCleared"].map(function(n){return{eventName:n,handler:function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.emit.apply(e,dc([n],As(dc(dc([],As(i)),[t]))))}}});r.forEach(function(n){var i=n.eventName,a=n.handler;return t.on(i,a)}),e.once("disconnected",function(){return r.forEach(function(n){var i=n.eventName,a=n.handler;return t.removeListener(i,a)})})}function $6(e,t){t.on("updated",function(){var n=t.isEnabled;e._log.info("Recording "+(n?"started":"stopped")),e.emit("recording"+(n?"Started":"Stopped"))})}function V6(e,t){var r=e._log;r.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(Y_.bind(null,e)),r.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",Y_.bind(null,e)),t.on("dominantSpeakerChanged",function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)}),t.on("stateChanged",function n(i,a){switch(r.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach(function(o){o._unsubscribeTracks()}),e.emit(i,e,a),e.localParticipant.tracks.forEach(function(o){o.unpublish()}),t.removeListener("stateChanged",n);break;case"reconnecting":setTimeout(function(){return e.emit("reconnecting",a)},0);break;default:setTimeout(function(){return e.emit("reconnected")},0)}})}var B6=N6,U6=function(){function e(t){Object.defineProperties(this,{_min:{value:t.min||100},_max:{value:t.max||1e4},_jitter:{value:t.jitter>0&&t.jitter<=1?t.jitter:0},_factor:{value:t.factor||2},_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var r=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var n=Math.random(),i=Math.floor(n*this._jitter*r);r=Math.floor(n*10)&1?r+i:r-i}return Math.min(r,this._max)|0}},_timeoutID:{value:null,writable:!0}})}return e.prototype.backoff=function(t){var r=this,n=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this._timeoutID=setTimeout(function(){r._attempts++,t()},n)},e.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},e}(),hE=U6,Yt={},z6=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},pE=Pe,od=pE.difference,Sn=pE.flatMap;function sd(){var e=4294967295;return String(Math.floor(Math.random()*e))}var W6=function(){function e(t,r,n){Object.defineProperties(this,{cName:{enumerable:!0,value:n},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:r},trackId:{enumerable:!0,value:t}})}return e.prototype.addSimulcastSSRCs=function(){if(!this.isSimulcastEnabled){var t=[sd(),sd()];t.forEach(function(r){this.primarySSRCs.add(r)},this),this.rtxPairs.size&&t.forEach(function(r){this.rtxPairs.set(sd(),r)},this)}},e.prototype.addSSRC=function(t,r,n){r?this.rtxPairs.set(t,r):this.primarySSRCs.add(t),this.isSimulcastEnabled=this.isSimulcastEnabled||n},e.prototype.toSdpLines=function(t){var r=this,n=t?[]:Array.from(this.rtxPairs.entries()).map(function(f){return f.reverse()}),i=Array.from(this.primarySSRCs.values()),a=n.length?Sn(n):i,o=Sn(a,function(f){return["a=ssrc:"+f+" cname:"+r.cName,"a=ssrc:"+f+" msid:"+r.streamId+" "+r.trackId]}),l=n.map(function(f){return"a=ssrc-group:FID "+f.join(" ")}),u=["a=ssrc-group:SIM "+i.join(" ")];return l.concat(o).concat(u)},e}();function Gc(e,t){var r=e.match(new RegExp(t,"gm"))||[];return r.map(function(n){var i=n.match(new RegExp(t))||[];return i.slice(1)})}function H6(e){var t="^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$";return new Set(Sn(Gc(e,t)))}function q6(e,t,r){var n="a=ssrc:"+t+" "+r+":(.+)";return e.match(new RegExp(n))[1]}function G6(e){var t="^a=ssrc-group:FID ([0-9]+) ([0-9]+)$";return new Map(Gc(e,t).map(function(r){return r.reverse()}))}function Q6(e){var t=z6(Sn(Gc(e,"^a=msid:(.+) (.+)$")),2),r=t[0],n=t[1],i=Sn(Gc(e,"^a=ssrc:(.+) cname:.+$"));return i.map(function(a){return[a,r,n]})}function K6(e){var t=H6(e),r=G6(e),n=Q6(e);return n.reduce(function(i,a){var o=a[0],l=a[1],u=a[2],f=i.get(u)||new W6(u,l,q6(e,o,"cname")),p=r.get(o)||null;return f.addSSRC(o,p,t.has(o)),i.set(u,f)},new Map)}function Y6(e,t){var r=K6(e),n=Array.from(r.keys()),i=Array.from(t.keys()),a=od(n,i),o=od(i,n),l=Sn(a,function(P){return r.get(P)});l.forEach(function(P){P.addSimulcastSSRCs(),t.set(P.trackId,P)}),i=Array.from(t.keys());var u=od(i,o),f=Sn(u,function(P){return t.get(P)}),p=!e.match(/a=rtpmap:[0-9]+ rtx/),m=Sn(f,function(P){return P.toSdpLines(p)}),y=Sn(new Set(e.split(`\r
`).concat(m))),x="a=x-google-flag:conference";return e.match(x)||y.push(x),y.join(`\r
`)}var X6=Y6,Ks=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},vE=Pe,J6=vE.difference,rp=vE.flatMap,Z6=X6,X_={0:"PCMU",8:"PCMA"};function fo(e){return Array.from($u(e)).reduce(function(t,r){var n=r[0],i=r[1],a=t.get(i)||[];return t.set(i,a.concat(n))},new Map)}function np(e){return sn(e).reduce(function(t,r){var n=ro(r);return n?t.set(n,r):t},new Map)}function $u(e){return Ys(e).reduce(function(t,r){var n=new RegExp("a=rtpmap:"+r+" ([^/]+)"),i=e.match(n),a=i?i[1].toLowerCase():X_[r]?X_[r].toLowerCase():"";return t.set(r,a)},new Map)}function Qc(e,t){var r=new RegExp("^a=fmtp:"+e+" (.+)$","m"),n=t.match(r);return n&&n[1].split(";").reduce(function(i,a){var o=Ks(a.split("="),2),l=o[0],u=o[1];return i[l]=isNaN(u)?u:parseInt(u,10),i},{})}function ro(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function sn(e,t,r){return e.replace(/\r\n\r\n$/,`\r
`).split(`\r
m=`).slice(1).map(function(n){return"m="+n}).filter(function(n){var i=new RegExp("m="+(t||".*"),"gm"),a=new RegExp("a="+(r||".*"),"gm");return i.test(n)&&a.test(n)})}function Ys(e){var t=e.split(`\r
`)[0],r=t.match(/([0-9]+)/g);return r?r.slice(1).map(function(n){return parseInt(n,10)}):[]}function eV(e,t){t=t.map(function(a){var o=a.codec;return o.toLowerCase()});var r=rp(t,function(a){return e.get(a)||[]}),n=J6(Array.from(e.keys()),t),i=rp(n,function(a){return e.get(a)});return r.concat(i)}function Hv(e,t){var r=t.split(`\r
`),n=r[0],i=r.slice(1);return n=n.replace(/([0-9]+\s?)+$/,e.join(" ")),[n].concat(i).join(`\r
`)}function tV(e,t,r){var n=sn(e),i=e.split(`\r
m=`)[0];return[i].concat(n.map(function(a){if(!/^m=(audio|video)/.test(a))return a;var o=a.match(/^m=(audio|video)/)[1],l=fo(a),u=o==="audio"?t:r,f=eV(l,u),p=Hv(f,a),m=l.get("pcma")||[],y=l.get("pcmu")||[],x=o==="audio"?new Set(m.concat(y)):new Set;return x.has(f[0])?p.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):p})).join(`\r
`)}function rV(e,t){var r=sn(e),n=e.split(`\r
m=`)[0];return[n].concat(r.map(function(i){if(i=i.replace(/\r\n$/,""),!/^m=video/.test(i))return i;var a=fo(i),o=Ys(i),l=new Set(a.get("vp8")||[]),u=o.some(function(f){return l.has(f)});return u?Z6(i,t):i})).concat("").join(`\r
`)}function nV(e,t,r,n,i){var a=r.get(e)||[];if(a.length<=1)return a;var o=Qc(t,i);if(!o)return a;var l=a.find(function(u){var f=Qc(u,n);return f&&Object.keys(o).every(function(p){return o[p]===f[p]})});return typeof l=="number"?[l]:a}function iV(e,t,r){if(!/^m=(audio|video)/.test(e))return e;var n=ro(e),i=n&&t.get(n);if(!i)return e;var a=$u(i),o=fo(e),l=rp(Array.from(a),function(m){var y=Ks(m,2),x=y[0],P=y[1];return P!=="rtx"&&!r.includes(P)?nV(P,x,o,e,i):[]}),u=o.get("rtx")||[];l=l.concat(u.filter(function(m){var y=Qc(m,e);return y&&l.includes(y.apt)}));var f=e.split(`\r
`).filter(function(m){var y=m.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),x=y&&y[2];return!y||x&&l.includes(parseInt(x,10))}),p=Ys(e).filter(function(m){return l.includes(m)});return Hv(p,f.join(`\r
`))}function aV(e,t){var r=sn(e),n=e.split(`\r
m=`)[0],i=np(t);return[n].concat(r.map(function(a){return iV(a,i,[])})).join(`\r
`)}function oV(e,t,r,n){n===void 0&&(n=!1);var i=np(r),a=np(t),o=sn(e),l=e.split(`\r
m=`)[0];return[l].concat(o.map(function(u){if(u=u.replace(/\r\n$/,""),!/^m=video/.test(u))return u;var f=u.match(/^a=mid:(.+)$/m),p=f&&f[1];if(!p)return u;var m=i.get(p),y=$u(m),x=Ys(m),P=x.length&&y.get(x[0])==="vp8",L=n||!P;return L?a.get(p).replace(/\r\n$/,""):u})).concat("").join(`\r
`)}function sV(e,t,r){var n=Array.from(r).reduce(function(i,a){var o=Ks(a,2),l=o[0],u=o[1],f=sn(e,l,"send(only|recv)"),p=f.map(ro).filter(function(m){return!t.has(m)});return p.forEach(function(m,y){return i.set(m,u[y])}),i},new Map);return mE(e,n)}function mE(e,t){var r=sn(e),n=e.split(`\r
m=`)[0];return[n].concat(r.map(function(i){if(!/^m=(audio|video)/.test(i))return i;var a=ro(i);if(!a)return i;var o=t.get(a);if(!o)return i;var l=(i.match(/^a=msid:(.+)$/m)||[])[1];if(!l)return i;var u=Ks(l.split(" "),2),f=u[0],p=u[1],m=new RegExp("msid:"+f+(p?" "+p:"")+"$","gm");return i.replace(m,"msid:"+f+" "+o)})).join(`\r
`)}function lV(e,t){return e.split(`\r
`).filter(function(r){return!t.find(function(n){return new RegExp("a=ssrc:.*"+n+":","g").test(r)})}).join(`\r
`)}function cV(e){var t=sn(e),r=e.split(`\r
m=`)[0];return[r].concat(t.map(function(n){if(!/^m=video/.test(n))return n;var i=fo(n),a=i.get("rtx");if(!a)return n;var o=new Set(Ys(n));a.forEach(function(p){return o.delete(p)});var l=n.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),u=l&&l[1],f=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(u?[new RegExp("^a=ssrc:"+u+" .+$")]:[]);return n=n.split(`\r
`).filter(function(p){return f.every(function(m){return!m.test(p)})}).join(`\r
`),Hv(Array.from(o),n)})).join(`\r
`)}function J_(e,t){var r=Object.entries(t).map(function(n){var i=Ks(n,2),a=i[0],o=i[1];return a+"="+o}).join(";");return"a=fmtp:"+e+" "+r}function uV(e,t){var r=sn(e),n=e.split(`\r
m=`)[0];return t=t||r.filter(function(i){return/^m=audio/.test(i)}).map(ro),[n].concat(r.map(function(i){if(!/^m=audio/.test(i))return i;var a=fo(i),o=a.get("opus");if(!o)return i;var l=Qc(o,i);if(!l)return i;var u=J_(o,l),f=new RegExp(u),p=ro(i);t.includes(p)?l.usedtx=1:delete l.usedtx;var m=J_(o,l);return i.replace(f,m)})).join(`\r
`)}Yt.addOrRewriteNewTrackIds=sV;Yt.addOrRewriteTrackIds=mE;Yt.createCodecMapForMediaSection=fo;Yt.createPtToCodecName=$u;Yt.disableRtx=cV;Yt.enableDtxForOpus=uV;Yt.filterLocalCodecs=aV;Yt.getMediaSections=sn;Yt.removeSSRCAttributes=lV;Yt.revertSimulcast=oV;Yt.setCodecPreferences=tV;Yt.setSimulcast=rV;var fV=function(){function e(t){t=Object.assign({getKey:function(n){return n},getValue:function(n){return n},isLessThanOrEqualTo:function(n,i){return n<=i}},t),Object.defineProperties(this,{_getKey:{value:t.getKey},_getValue:{value:t.getValue},_isLessThanOrEqualTo:{value:t.isLessThanOrEqualTo},_map:{value:new Map}})}return e.prototype.toMap=function(){return new Map(this._map)},e.prototype.updateAndFilter=function(t){return t.filter(this.update,this)},e.prototype.update=function(t){var r=this._getKey(t),n=this._getValue(t);return this._map.has(r)&&this._isLessThanOrEqualTo(n,this._map.get(r))?!1:(this._map.set(r,n),!0)},e}(),dV=fV,hV=dV,pV=function(){function e(){Object.defineProperties(this,{_filter:{value:new hV({getKey:function(r){return r.ufrag},isLessThanOrEqualTo:function(r,n){return r.revision<=n.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return e.prototype.setUfrag=function(t){this._ufrag=t;var r=this._filter.toMap().get(t);return r?r.candidates:[]},e.prototype.update=function(t){t.candidates=t.candidates||[];var r=this._filter.toMap().get(t.ufrag),n=r?r.candidates:[];return this._filter.update(t)&&this._ufrag===t.ufrag?t.candidates.slice(n.length):[]},e}(),vV=pV,gE=ot,mV=gE.ICE_ACTIVITY_CHECK_PERIOD_MS,gV=gE.ICE_INACTIVITY_THRESHOLD_MS,yV=function(){function e(t,r){r=Object.assign({activityCheckPeriodMs:mV,inactivityThresholdMs:gV},r),Object.defineProperties(this,{_activityCheckPeriodMs:{value:r.activityCheckPeriodMs},_inactivityThresholdMs:{value:r.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:t},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return e.prototype._getActivePairStat=function(t){var r=Array.from(t.values()),n=r.find(function(i){return i.type==="candidate-pair"&&i.nominated});return n||{bytesReceived:0,timestamp:Math.round(new Date().getTime())}},e.prototype._getIceConnectionStats=function(){var t=this;return this._peerConnection.getStats().then(function(r){return t._getActivePairStat(r)}).catch(function(){return null})},e.prototype._scheduleInactivityCallback=function(t){var r=this;t&&this._onIceConnectionStateChanged===null?(this._onIceConnectionStateChanged=function(){r._peerConnection.iceConnectionState==="disconnected"&&t()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!t&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)},e.prototype.start=function(t){var r=this;this.stop(),this._timer=setInterval(function(){r._getIceConnectionStats().then(function(n){n&&((!r._lastActivity||r._lastActivity.bytesReceived!==n.bytesReceived)&&(r._lastActivity=n,r._scheduleInactivityCallback(null)),n.timestamp-r._lastActivity.timestamp>=r._inactivityThresholdMs&&(r._peerConnection.iceConnectionState==="disconnected"?t():r._onIceConnectionStateChanged===null&&r._scheduleInactivityCallback(t)))})},this._activityCheckPeriodMs)},e.prototype.stop=function(){this._scheduleInactivityCallback(null),this._timer!==null&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)},e}(),_V=yV,wV=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SV=Kt.EventEmitter,kV=function(e){wV(t,e);function t(r){var n=e.call(this)||this;return Object.defineProperties(n,{_dataChannel:{value:r},_messageQueue:{value:[]}}),r.addEventListener("open",function(){n._messageQueue.splice(0).forEach(function(i){return n._publish(i)})}),r.addEventListener("message",function(i){var a=i.data;try{var o=JSON.parse(a);n.emit("message",o)}catch{}}),n.publish({type:"ready"}),n}return t.prototype._publish=function(r){var n=JSON.stringify(r);try{this._dataChannel.send(n)}catch{}},t.prototype.publish=function(r){var n=this._dataChannel;return n.readyState==="closing"||n.readyState==="closed"?!1:n.readyState==="connecting"?(this._messageQueue.push(r),!0):(this._publish(r),!0)},t}(SV),bV=kV,TV=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EV=Lb,PV=bV,CV=function(e){TV(t,e);function t(r){var n=e.call(this,r.label,r.maxPacketLifeTime,r.maxRetransmits,r.ordered)||this;return Object.defineProperties(n,{_dataChannel:{value:r}}),r.binaryType="arraybuffer",r.addEventListener("message",function(i){n.emit("message",i.data)}),r.addEventListener("close",function(){n.emit("close")}),n}return t.prototype.stop=function(){this._dataChannel.close(),e.prototype.stop.call(this)},t.prototype.toDataTransport=function(){return new PV(this._dataChannel)},t}(EV),xV=CV,OV=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RV=Tb,LV=function(e){OV(t,e);function t(r,n){return e.call(this,r,n)||this}return t}(RV),AV=LV,MV=Yt.getMediaSections,IV=function(){function e(){Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return e.prototype.match=function(t){return this._midsToTrackIds.get(t.transceiver.mid)||null},e.prototype.update=function(t){var r=MV(t,"(audio|video)");this._midsToTrackIds=r.reduce(function(n,i){var a=i.match(/^a=mid:(.+)$/m)||[],o=i.match(/^a=msid:.+ (.+)$/m)||[],l=a[1],u=o[1];return l&&u?n.set(l,u):n},this._midsToTrackIds)},e}(),jV=IV,NV=na.RTCSessionDescription,yE=Yt,DV=yE.createPtToCodecName,FV=yE.getMediaSections;function $V(e){var t={type:e.type};return e.type!=="rollback"&&(t.sdp=VV(e.sdp)),new NV(t)}function VV(e){var t=FV(e),r=e.split(`\r
m=`)[0];return[r].concat(t.map(BV)).join(`\r
`)}function BV(e){var t=DV(e);e=UV(e,t);var r=zV(t),n=r.get("rtx")||new Set,i=new Set,a=WV(e,t,n,i),o=HV(a,i),l=Array.from(i),u=["h264","vp8","vp9"],f=u.reduce(function(p,m){var y=r.get(m)||new Set;return Array.from(y).reduce(function(x,P){return o.has(P)?x:x.add(P)},p)},new Set);return f.forEach(function(p){if(l.length){var m=l.shift();e=Z_(e,m),e=GV(e,m,p)}}),l.forEach(function(p){e=Z_(e,p),e=qV(e,p)}),e}function UV(e,t){return Array.from(t.keys()).reduce(function(r,n){var i=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(r.match(i)||[]).slice(t.get(n)==="rtx"?1:0).reduce(function(a,o){var l=new RegExp(`\r
`+o),u=new RegExp(`\r
a=fmtp:`+n+" apt=[0-9]+");return a.replace(l,"").replace(u,"")},r)},e)}function zV(e){var t=new Map;return e.forEach(function(r,n){var i=t.get(r)||new Set;return t.set(r,i.add(n))}),t}function WV(e,t,r,n){return Array.from(r).reduce(function(i,a){var o=new RegExp("a=fmtp:"+a+" apt=(\\d+)"),l=e.match(o);if(!l)return n.add(a),i;var u=Number.parseInt(l[1]);if(!t.has(u))return n.add(a),i;var f=t.get(u);return f==="rtx"?(n.add(a),i):i.set(a,u)},new Map)}function HV(e,t){var r=Array.from(e).reduce(function(n,i){var a=i[0],o=i[1],l=n.get(o)||new Set;return n.set(o,l.add(a))},new Map);return Array.from(r).reduce(function(n,i){var a=i[0],o=Array.from(i[1]);return o.length>1?(o.forEach(function(l){t.add(l)}),n):n.set(a,o[0])},new Map)}function Z_(e,t){var r=new RegExp("a=fmtp:"+t+`.*\r
`,"gm");return e.replace(r,"")}function qV(e,t){var r=new RegExp("a=rtpmap:"+t+`.*\r
`,"gm");return e.replace(r,"")}function GV(e,t,r){return e.endsWith(`\r
`)?e+"a=fmtp:"+t+" apt="+r+`\r
`:e+`\r
a=fmtp:`+t+" apt="+r}var QV=$V,KV=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YV=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},XV=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},JV=hE,Vu=na,ZV=Vu.RTCIceCandidate,eB=Vu.RTCPeerConnection,tB=Vu.RTCSessionDescription,rB=Vu.getStats,_E=rt,Bu=ot,nB=Bu.DEFAULT_ICE_GATHERING_TIMEOUT_MS,iB=Bu.DEFAULT_LOG_LEVEL,aB=Bu.DEFAULT_SESSION_TIMEOUT_SEC,oB=Bu.iceRestartBackoffConfig,Wr=Yt,sB=Wr.addOrRewriteNewTrackIds,lB=Wr.addOrRewriteTrackIds,wE=Wr.createCodecMapForMediaSection,e0=Wr.disableRtx,zl=Wr.enableDtxForOpus,cB=Wr.filterLocalCodecs,ss=Wr.getMediaSections,t0=Wr.removeSSRCAttributes,uB=Wr.revertSimulcast,fB=Wr.setCodecPreferences,dB=Wr.setSimulcast,hB=aa,SE=Ce,ld=SE.MediaClientLocalDescFailedError,cd=SE.MediaClientRemoteDescFailedError,Xs=Pe,pB=Xs.buildLogLevels,vB=Xs.getPlatform,mB=Xs.isChromeScreenShareTrack,gB=Xs.oncePerTick,yB=Xs.defer,_B=vV,wB=_V,SB=xV,kB=AV,bB=co,TB=Ln,EB=jV,r0=QV,qv=_E.guessBrowser(),PB=vB(),CB=/android/.test(PB),xB=qv==="chrome",ji=qv==="firefox",OB=qv==="safari",RB=0,LB={open:["closed","updating"],updating:["closed","open"],closed:[]},AB=function(e){KV(t,e);function t(r,n,i,a){var o=e.call(this,"open",LB)||this;a=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:mB,iceServers:[],logLevel:iB,offerOptions:{},revertSimulcast:uB,sessionTimeout:aB*1e3,setCodecPreferences:fB,setSimulcast:dB,Backoff:JV,IceConnectionMonitor:wB,RTCIceCandidate:ZV,RTCPeerConnection:eB,RTCSessionDescription:tB,Timeout:hB},a);var l=o0(a),u=pB(a.logLevel),f=a.RTCPeerConnection;a.enableDscp===!0&&(a.chromeSpecificConstraints=a.chromeSpecificConstraints||{},a.chromeSpecificConstraints.optional=a.chromeSpecificConstraints.optional||[],a.chromeSpecificConstraints.optional.push({googDscp:!0}));var p=a.log?a.log.createLog("webrtc",o):new TB("webrtc",o,u,a.loggerName),m=new f(l,a.chromeSpecificConstraints);a.dummyAudioMediaStreamTrack&&m.addTrack(a.dummyAudioMediaStreamTrack),Object.defineProperties(o,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:a.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:a.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new a.Timeout(function(){return o._handleIceGatheringTimeout()},nB,!1)},_iceRestartBackoff:{value:new a.Backoff(oB)},_instanceId:{value:++RB},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_log:{value:p},_eventObserver:{value:a.eventObserver},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_rtpNewSenders:{value:new Set},_iceConnectionMonitor:{value:new a.IceConnectionMonitor(m)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:a.offerOptions},_onEncodingParametersChanged:{value:gB(function(){o._needsAnswer||kE(o)})},_peerConnection:{value:m},_preferredAudioCodecs:{value:i.audio},_preferredVideoCodecs:{value:i.video},_shouldApplyDtx:{value:i.audio.every(function(x){var P=x.codec;return P!=="opus"})||i.audio.some(function(x){var P=x.codec,L=x.dtx;return P==="opus"&&L})},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new a.Timeout(function(){p.debug("ICE reconnect timed out"),o.close()},a.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new _B},_setCodecPreferences:{value:ji&&CB&&i.video[0]&&i.video[0].codec.toLowerCase()!=="h264"?function(x){return x}:a.setCodecPreferences},_setSimulcast:{value:a.setSimulcast},_revertSimulcast:{value:a.revertSimulcast},_RTCIceCandidate:{value:a.RTCIceCandidate},_RTCPeerConnection:{value:a.RTCPeerConnection},_RTCSessionDescription:{value:a.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},_mediaTrackSenderToPublisherHints:{value:new Map},id:{enumerable:!0,value:r}}),n.on("changed",o._onEncodingParametersChanged),m.addEventListener("connectionstatechange",o._handleConnectionStateChange.bind(o)),m.addEventListener("datachannel",o._handleDataChannelEvent.bind(o)),m.addEventListener("icecandidate",o._handleIceCandidateEvent.bind(o)),m.addEventListener("iceconnectionstatechange",o._handleIceConnectionStateChange.bind(o)),m.addEventListener("icegatheringstatechange",o._handleIceGatheringStateChange.bind(o)),m.addEventListener("signalingstatechange",o._handleSignalingStateChange.bind(o)),m.addEventListener("track",o._handleTrackEvent.bind(o));var y=o;return o.on("stateChanged",function x(P){P==="closed"&&(y.removeListener("stateChanged",x),y._dataChannels.forEach(function(L,M){y.removeDataTrackSender(M)}))}),o}return t.prototype.toString=function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"},t.prototype.setEffectiveAdaptiveSimulcast=function(r){this._log.debug("Setting setEffectiveAdaptiveSimulcast: ",r),this._preferredVideoCodecs.forEach(function(n){"adaptiveSimulcast"in n&&(n.adaptiveSimulcast=r)})},Object.defineProperty(t.prototype,"_shouldApplySimulcast",{get:function(){if(!xB&&!OB)return!1;var r=this._preferredVideoCodecs.some(function(n){return n.codec.toLowerCase()==="vp8"&&n.simulcast&&n.adaptiveSimulcast!==!1});return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){return this.iceConnectionState==="failed"?"failed":this._peerConnection.connectionState||this.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isIceConnectionInactive&&this._peerConnection.iceConnectionState==="disconnected"||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isApplicationSectionNegotiated",{get:function(){return this._peerConnection.signalingState!=="closed"?this._peerConnection.localDescription?ss(this._peerConnection.localDescription.sdp,"application").length>0:!1:!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isAdaptiveSimulcastEnabled",{get:function(){var r=this._preferredVideoCodecs.find(function(n){return"adaptiveSimulcast"in n});return r&&r.adaptiveSimulcast===!0},enumerable:!1,configurable:!0}),t.prototype._maybeUpdateEncodings=function(r,n,i){if(i===void 0&&(i=!1),r.kind!=="video"||r.readyState==="ended")return!1;var a=r.getSettings(),o=a.height,l=a.width;if(typeof o!="number"||typeof l!="number")return!1;var u=_E.guessBrowser();return u==="safari"||u==="chrome"&&this._isAdaptiveSimulcastEnabled?(this._updateEncodings(r,n,i),!0):!1},t.prototype._updateEncodings=function(r,n,i){if(this._isChromeScreenShareTrack(r)){var a=[{scaleResolutionDownBy:1},{scaleResolutionDownBy:1}];n.forEach(function(x,P){var L=a[P];L?(x.scaleResolutionDownBy=L.scaleResolutionDownBy,i&&delete x.active):(x.active=!1,delete x.scaleResolutionDownBy)})}else{var o=r.getSettings(),l=o.width,u=o.height,f=[{pixels:960*540,maxActiveLayers:3},{pixels:480*270,maxActiveLayers:2},{pixels:0,maxActiveLayers:1}],p=l*u,m=f.find(function(x){return p>=x.pixels}),y=Math.min(n.length,m.maxActiveLayers);n.forEach(function(x,P){var L=P<y;L?(x.scaleResolutionDownBy=1<<y-P-1,i&&(x.active=!0)):(x.active=!1,delete x.scaleResolutionDownBy)})}this._log.debug("_updateEncodings:",n.map(function(x,P){var L=x.active,M=x.scaleResolutionDownBy;return"["+P+": "+L+", "+(M||0)+"]"}).join(", "))},t.prototype._addIceCandidate=function(r){var n=this;return Promise.resolve().then(function(){return r=new n._RTCIceCandidate(r),n._peerConnection.addIceCandidate(r)}).catch(function(i){n._log.warn("Failed to add RTCIceCandidate "+(r?'"'+r.candidate+'"':"null")+": "+i.message)})},t.prototype._addIceCandidates=function(r){return Promise.all(r.map(this._addIceCandidate,this)).then(function(){})},t.prototype._addOrUpdateTransceiver=function(r){var n=this,i=DB(this,r.kind);if(i&&i.sender){var a=i.sender.track?i.sender.track.id:null;return a&&this._log.warn("Reusing transceiver: "+i.mid+"] "+a+" => "+r.id),this._replaceTrackPromises.set(i,i.sender.replaceTrack(r).then(function(){i.direction="sendrecv"},function(){}).finally(function(){n._replaceTrackPromises.delete(i)})),i}return this._peerConnection.addTransceiver(r)},t.prototype._checkIceBox=function(r){var n=a0(r);if(!n)return Promise.resolve();var i=this._remoteCandidates.setUfrag(n);return this._addIceCandidates(i)},t.prototype._answer=function(r){var n=this;return Promise.resolve().then(function(){return n._negotiationRole||(n._negotiationRole="answerer"),n._setRemoteDescription(r)}).catch(function(){throw new cd}).then(function(){return n._peerConnection.createAnswer()}).then(function(i){ji?i=new n._RTCSessionDescription({sdp:e0(i.sdp),type:i.type}):i=r0(i);var a=t0(i.sdp,["mslabel","label"]);if(n._shouldApplySimulcast){var o=a;a=n._setSimulcast(o,n._trackIdsToAttributes),a=n._revertSimulcast(a,o,r.sdp)}return a=a.replace(/42e015/g,"42e01f"),n._setLocalDescription({type:i.type,sdp:a})}).then(function(){return n._checkIceBox(r)}).then(function(){return n._queuedDescription&&n._updateDescription(n._queuedDescription)}).then(function(){return n._queuedDescription=null,n._maybeReoffer(n._peerConnection.localDescription)}).catch(function(i){var a=i instanceof cd?i:new ld;throw n._publishMediaWarning({message:"Failed to _answer",code:a.code,error:i}),a})},t.prototype._close=function(){return this._iceConnectionMonitor.stop(),this._peerConnection.signalingState!=="closed"?(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0):!1},t.prototype._handleConnectionStateChange=function(){this.emit("connectionStateChanged")},t.prototype._handleDataChannelEvent=function(r){var n=this,i=r.channel,a=new SB(i);this._dataTrackReceivers.add(a),i.addEventListener("close",function(){n._dataTrackReceivers.delete(a)}),this.emit("trackAdded",a)},t.prototype._handleGlare=function(r){var n=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then(function(){return n._trackIdsToAttributes=new Map(n._appliedTrackIdsToAttributes),n._setLocalDescription({type:"rollback"})}).then(function(){return n._needsAnswer=!1,n._answer(r)}).then(function(i){return i?Promise.resolve():n._offer()})},t.prototype._publishMediaWarning=function(r){var n=r.message,i=r.code,a=r.error,o=r.sdp;this._eventObserver.emit("event",{level:"warning",name:"error",group:"media",payload:{message:n,code:i,context:JSON.stringify({error:a.message,sdp:o})}})},t.prototype._handleIceCandidateEvent=function(r){r.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(r.candidate));var n={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};r.candidate||(n.ice.complete=!0),this._isIceLite&&r.candidate||(n.ice.revision=this._localCandidatesRevision++,this.emit("candidates",n))},t.prototype._handleIceConnectionStateChange=function(){var r=this,n=this._peerConnection.iceConnectionState,i=["connected","completed"].includes(n),a=this._log;a.debug('ICE connection state is "'+n+'"'),i&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),this._lastIceConnectionState!=="failed"&&n==="failed"&&!this._shouldRestartIce&&!this._isRestartingIce?(a.warn("ICE failed"),this._initiateIceRestartBackoff()):["disconnected","failed"].includes(this._lastIceConnectionState)&&i&&a.debug("ICE reconnected"),n==="connected"?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start(function(){r._iceConnectionMonitor.stop(),!r._shouldRestartIce&&!r._isRestartingIce&&(a.warn("ICE Connection Monitor detected inactivity"),r._isIceConnectionInactive=!0,r._initiateIceRestartBackoff(),r.emit("iceConnectionStateChanged"),r.emit("connectionStateChanged"))})):["disconnected","completed"].includes(n)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=n,this.emit("iceConnectionStateChanged")},t.prototype._handleIceGatheringTimeout=function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")},t.prototype._handleIceGatheringStateChange=function(){var r=this._peerConnection.iceGatheringState,n=this._log;n.debug('ICE gathering state is "'+r+'"');var i=this._iceGatheringTimeout,a=i.delay,o=i.isSet;r==="gathering"&&!this._didGenerateLocalCandidates&&!o&&(n.debug("Starting ICE gathering timeout: "+a),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())},t.prototype._handleSignalingStateChange=function(){this._peerConnection.signalingState==="stable"&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))},t.prototype._handleTrackEvent=function(r){var n=this,i=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher=this._trackMatcher||new EB,this._trackMatcher.update(i);var a=r.track,o=this._trackMatcher.match(r)||a.id,l=new kB(o,a);this._mediaTrackReceivers.forEach(function(u){u.track.id===l.track.id&&n._mediaTrackReceivers.delete(u)}),this._mediaTrackReceivers.add(l),a.addEventListener("ended",function(){return n._mediaTrackReceivers.delete(l)}),this.emit("trackAdded",l)},t.prototype._initiateIceRestart=function(){if(this._peerConnection.signalingState!=="closed"){var r=this._log;r.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var n=this._iceReconnectTimeout,i=n.delay,a=n.isSet;a||(r.debug("Starting ICE reconnect timeout: "+i),this._iceReconnectTimeout.start()),this.offer().catch(function(o){r.error("offer failed in _initiateIceRestart with: "+o.message)})}},t.prototype._initiateIceRestartBackoff=function(){var r=this;this._peerConnection.signalingState==="closed"||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff(function(){return r._initiateIceRestart()}))},t.prototype._maybeReoffer=function(r){var n=this._shouldOffer;if(r&&r.sdp){var i=this._peerConnection.getSenders().filter(function(f){return f.track});n=["audio","video"].reduce(function(f,p){var m=ss(r.sdp,p,"(sendrecv|sendonly)"),y=i.filter(IB.bind(null,p));return f||m.length<y.length},n);var a=this._dataChannels.size>0,o=ss(r.sdp,"application").length>0,l=a&&!o;n=n||l}var u=n?this._offer():Promise.resolve();return u.then(function(){return n})},t.prototype._offer=function(){var r=this,n=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,n.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then(function(){return r._peerConnection.createOffer(n)}).catch(function(i){var a=new ld;throw r._publishMediaWarning({message:"Failed to create offer",code:a.code,error:i}),a}).then(function(i){ji?i=new r._RTCSessionDescription({sdp:e0(i.sdp),type:i.type}):i=r0(i);var a=t0(i.sdp,["mslabel","label"]);a=r._peerConnection.remoteDescription?cB(a,r._peerConnection.remoteDescription.sdp):a;var o=r._setCodecPreferences(a,r._preferredAudioCodecs,r._preferredVideoCodecs);return r._shouldOffer=!1,r._negotiationRole||(r._negotiationRole="offerer"),r._shouldApplySimulcast&&(r._localDescriptionWithoutSimulcast={type:"offer",sdp:o},o=r._setSimulcast(o,r._trackIdsToAttributes)),r._setLocalDescription({type:"offer",sdp:o})})},t.prototype._getMediaTrackSenderId=function(r){var n=Array.from(this._rtpSenders.keys()).find(function(i){var a=i.track.id;return a===r});return n?n.id:r},t.prototype._addOrRewriteLocalTrackIds=function(r){var n=this,i=this._peerConnection.getTransceivers(),a=i.filter(function(y){var x=y.sender,P=y.stopped;return!P&&x&&x.track}),o=a.filter(function(y){var x=y.mid;return x}),l=new Map(o.map(function(y){var x=y.mid,P=y.sender;return[x,n._getMediaTrackSenderId(P.track.id)]})),u=lB(r.sdp,l),f=a.filter(function(y){var x=y.mid;return!x}),p=new Map(["audio","video"].map(function(y){return[y,f.filter(function(x){var P=x.sender;return P.track.kind===y}).map(function(x){var P=x.sender;return n._getMediaTrackSenderId(P.track.id)})]})),m=sB(u,l,p);return new this._RTCSessionDescription({sdp:m,type:r.type})},t.prototype._rollbackAndApplyOffer=function(r){var n=this;return this._setLocalDescription({type:"rollback"}).then(function(){return n._setLocalDescription(r)})},t.prototype._setLocalDescription=function(r){var n=this;return r.type!=="rollback"&&this._shouldApplyDtx&&(r=new this._RTCSessionDescription({sdp:zl(r.sdp),type:r.type})),this._peerConnection.setLocalDescription(r).catch(function(i){n._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+r.type+'" failed with the error "'+i.message+'".',i);var a=new ld,o={message:'Calling setLocalDescription with an RTCSessionDescription of type "'+r.type+'" failed',code:a.code,error:i};throw r.sdp&&(n._log.warn("The SDP was "+r.sdp),o.sdp=r.sdp),n._publishMediaWarning(o),a}).then(function(){r.type!=="rollback"&&(n._localDescription=n._addOrRewriteLocalTrackIds(r),n._shouldApplyDtx&&(n._localDescription=new n._RTCSessionDescription({sdp:zl(n._localDescription.sdp,[]),type:n._localDescription.type})),n._localCandidates=[],r.type==="offer"?n._descriptionRevision++:r.type==="answer"&&(n._lastStableDescriptionRevision=n._descriptionRevision,s0(n)),n._localUfrag=a0(r),n.emit("description",n.getState()))})},t.prototype._setRemoteDescription=function(r){var n=this;return r.sdp&&(r.sdp=this._setCodecPreferences(r.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?r.sdp=zl(r.sdp):r.sdp=zl(r.sdp,[]),ji&&(r.sdp=jB(r.sdp)),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(r.sdp))),r=new this._RTCSessionDescription(r),Promise.resolve().then(function(){if(r.type==="answer"&&n._localDescriptionWithoutSimulcast){var i=n._preferredVideoCodecs.find(function(l){return"adaptiveSimulcast"in l}),a=!!i&&i.adaptiveSimulcast===!1,o=n._revertSimulcast(n._localDescription.sdp,n._localDescriptionWithoutSimulcast.sdp,r.sdp,a);if(n._localDescriptionWithoutSimulcast=null,o!==n._localDescription.sdp)return n._rollbackAndApplyOffer({type:n._localDescription.type,sdp:o})}}).then(function(){return n._peerConnection.setRemoteDescription(r)}).then(function(){r.type==="answer"&&(n._isRestartingIce&&(n._log.debug("An ICE restart was in-progress and is now completed"),n._isRestartingIce=!1),s0(n))},function(i){throw n._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+r.type+'" failed with the error "'+i.message+'".',i),r.sdp&&n._log.warn("The SDP was "+r.sdp),i})},t.prototype._updateDescription=function(r){var n=this;switch(r.type){case"answer":case"pranswer":if(r.revision!==this._descriptionRevision||this._peerConnection.signalingState!=="have-local-offer")return Promise.resolve();this._descriptionRevision=r.revision;break;case"close":return this._close();case"create-offer":return r.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=r,Promise.resolve()):(this._descriptionRevision=r.revision,this._offer());case"offer":return r.revision<=this._lastStableDescriptionRevision||this._peerConnection.signalingState==="closed"?Promise.resolve():this._peerConnection.signalingState==="have-local-offer"?this._needsAnswer&&this._lastStableDescriptionRevision===0?(this._queuedDescription=r,Promise.resolve()):(this._descriptionRevision=r.revision,this._handleGlare(r)):(this._descriptionRevision=r.revision,this._answer(r).then(function(){}))}var i=r.revision;return Promise.resolve().then(function(){return n._setRemoteDescription(r)}).catch(function(a){var o=new cd;throw n._publishMediaWarning({message:'Calling setRemoteDescription with an RTCSessionDescription of type "'+r.type+'" failed',code:o.code,error:a,sdp:r.sdp}),o}).then(function(){return n._lastStableDescriptionRevision=i,n._needsAnswer=!1,n._checkIceBox(r)}).then(function(){return n._queuedDescription&&n._updateDescription(n._queuedDescription)}).then(function(){return n._queuedDescription=null,n._maybeReoffer(n._peerConnection.localDescription).then(function(){})})},t.prototype._updateIce=function(r){var n=this._remoteCandidates.update(r);return this._addIceCandidates(n)},t.prototype.addDataTrackSender=function(r){if(!this._dataChannels.has(r))try{var n={ordered:r.ordered};r.maxPacketLifeTime!==null&&(n.maxPacketLifeTime=r.maxPacketLifeTime),r.maxRetransmits!==null&&(n.maxRetransmits=r.maxRetransmits);var i=this._peerConnection.createDataChannel(r.id,n);r.addDataChannel(i),this._dataChannels.set(r,i)}catch(a){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+r.id+'": '+a.message)}},t.prototype._handleQueuedPublisherHints=function(){var r=this;this._peerConnection.signalingState==="stable"&&this._mediaTrackSenderToPublisherHints.forEach(function(n,i){var a=n.deferred,o=n.encodings;r._mediaTrackSenderToPublisherHints.delete(i),r._setPublisherHint(i,o).then(function(l){return a.resolve(l)}).catch(function(l){return a.reject(l)})})},t.prototype._setPublisherHint=function(r,n){var i=this;if(ji)return Promise.resolve("COULD_NOT_APPLY_HINT");if(this._mediaTrackSenderToPublisherHints.has(r)){var a=this._mediaTrackSenderToPublisherHints.get(r);a.deferred.resolve("REQUEST_SKIPPED"),this._mediaTrackSenderToPublisherHints.delete(r)}var o=this._rtpSenders.get(r);if(!o)return this._log.warn("Could not apply publisher hint because RTCRtpSender was not found"),Promise.resolve("UNKNOWN_TRACK");if(this._peerConnection.signalingState==="closed")return this._log.warn('Could not apply publisher hint because signalingState was "closed"'),Promise.resolve("COULD_NOT_APPLY_HINT");if(this._peerConnection.signalingState!=="stable"){this._log.debug("Queuing up publisher hint because signalingState:",this._peerConnection.signalingState);var l=yB();return this._mediaTrackSenderToPublisherHints.set(r,{deferred:l,encodings:n}),l.promise}var u=o.getParameters();return n!==null&&n.forEach(function(f){var p=f.enabled,m=f.layer_index;u.encodings.length>m?(i._log.debug("layer:"+m+", active:"+u.encodings[m].active+" => "+p),u.encodings[m].active=p):i._log.warn("invalid layer:"+m+", active:"+p)}),this._maybeUpdateEncodings(o.track,u.encodings,n===null),o.setParameters(u).then(function(){return"OK"}).catch(function(f){return i._log.error("Failed to apply publisher hints:",f),"COULD_NOT_APPLY_HINT"})},t.prototype.addMediaTrackSender=function(r){var n=this;if(!(this._peerConnection.signalingState==="closed"||this._rtpSenders.has(r))){var i=this._addOrUpdateTransceiver(r.track),a=i.sender;r.addSender(a,function(o){return n._setPublisherHint(r,o)}),this._rtpNewSenders.add(a),this._rtpSenders.set(r,a)}},t.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},t.prototype.getTrackReceivers=function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))},t.prototype.getState=function(){if(!this._localDescription)return null;var r=this._localDescription.type==="answer"?this._lastStableDescriptionRevision:this._descriptionRevision,n={type:this._localDescription.type,revision:r};return this._localDescription.sdp&&(n.sdp=this._localDescription.sdp),{description:n,id:this.id}},t.prototype.offer=function(){var r=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",function(n){r.transition("updating",n);var i=r._needsAnswer||r._isRestartingIce?Promise.resolve():r._offer();return i.then(function(){r.tryTransition("open",n)},function(a){throw r.tryTransition("open",n),a})})},t.prototype.removeDataTrackSender=function(r){var n=this._dataChannels.get(r);n&&(r.removeDataChannel(n),this._dataChannels.delete(r),n.close())},t.prototype.removeMediaTrackSender=function(r){var n=this._rtpSenders.get(r);if(n){if(this._peerConnection.signalingState!=="closed"&&this._peerConnection.removeTrack(n),r.removeSender(n),this._mediaTrackSenderToPublisherHints.has(r)){var i=this._mediaTrackSenderToPublisherHints.get(r);i.deferred.resolve("UNKNOWN_TRACK"),this._mediaTrackSenderToPublisherHints.delete(r)}this._rtpNewSenders.delete(n),this._rtpSenders.delete(r)}},t.prototype.setConfiguration=function(r){typeof this._peerConnection.setConfiguration=="function"&&this._peerConnection.setConfiguration(o0(r))},t.prototype.setIceReconnectTimeout=function(r){return this._iceReconnectTimeout.setDelay(r),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this},t.prototype.update=function(r){var n=this;return this.bracket("updating",function(i){if(n.state==="closed")return Promise.resolve();n.transition("updating",i);var a=[];return r.ice&&a.push(n._updateIce(r.ice)),r.description&&a.push(n._updateDescription(r.description)),Promise.all(a).then(function(){n.tryTransition("open",i)},function(o){throw n.tryTransition("open",i),o})})},t.prototype.getStats=function(){var r=this;return rB(this._peerConnection).then(function(n){return MB(r,n)})},t}(bB);function n0(e,t){var r=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:r})}function i0(e,t){var r=XV([],YV(e._mediaTrackReceivers)).find(function(i){return i.track.id===t.trackId}),n=r?r.id:null;return Object.assign(t,{trackId:n})}function MB(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map(function(r){return i0(e,r)}),remoteVideoTrackStats:t.remoteVideoTrackStats.map(function(r){return i0(e,r)}),localAudioTrackStats:t.localAudioTrackStats.map(function(r){return n0(e,r)}),localVideoTrackStats:t.localVideoTrackStats.map(function(r){return n0(e,r)})})}function a0(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function o0(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function IB(e,t){var r=t.track;return r&&r.kind===e&&r.readyState!=="ended"}function jB(e){return e.replace(/a=msid:[^ ]+ /g,"a=msid:- ")}function NB(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)}function DB(e,t){var r={audio:e._preferredAudioCodecs.map(function(o){var l=o.codec;return l.toLowerCase()}),video:e._preferredVideoCodecs.map(function(o){var l=o.codec;return l.toLowerCase()})}[t],n=e._recycledTransceivers[t],i=r.find(function(o){return e._localCodecs.has(o)});if(!i)return n.shift();var a=n.find(function(o){var l=e._remoteCodecMaps.get(o.mid);return l&&l.has(i)});return a&&n.splice(n.indexOf(a),1),a}function FB(e){var t=e._peerConnection.localDescription;!t||!t.sdp||ss(t.sdp).forEach(function(r){var n=wE(r);n.forEach(function(i,a){return e._localCodecs.add(a)})})}function $B(e){var t=e._peerConnection.remoteDescription;!t||!t.sdp||ss(t.sdp).forEach(function(r){var n=r.match(/^a=mid:(.+)$/m);if(!(!n||!n[1])){var i=n[1],a=wE(r);e._remoteCodecMaps.set(i,a)}})}function VB(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach(function(t){if(NB(t,e)){var r=t.receiver.track;e._recycledTransceivers[r.kind].push(t)}})}function s0(e){VB(e),FB(e),$B(e),kE(e).then(function(){e._handleQueuedPublisherHints()})}function kE(e){var t=e._encodingParameters,r=t.maxAudioBitrate,n=t.maxVideoBitrate,i=new Map([["audio",r],["video",n]]),a=[];return e._peerConnection.getSenders().filter(function(o){return o.track}).forEach(function(o){var l=i.get(o.track.kind),u=o.getParameters();l===null||l===0?BB(u):e._isChromeScreenShareTrack(o.track)?e._log.warn("Not setting maxBitrate for "+o.track.kind+" Track "+o.track.id+" because it appears to be screen share track: "+o.track.label):UB(u,l),!ji&&u.encodings.length>0&&(o.track.kind==="audio"?u.encodings[0].priority="high":e._isChromeScreenShareTrack(o.track)&&(u.encodings[0].priority="medium"),e._enableDscp&&(u.encodings[0].networkPriority="high"));var f=e._rtpNewSenders.has(o);e._maybeUpdateEncodings(o.track,u.encodings,f),e._rtpNewSenders.delete(o);var p=o.setParameters(u).catch(function(m){e._log.warn("Error while setting encodings parameters for "+o.track.kind+" Track "+o.track.id+": "+(m.message||m.name))});a.push(p)}),Promise.all(a)}function BB(e){Array.isArray(e.encodings)&&e.encodings.forEach(function(t){return delete t.maxBitrate})}function UB(e,t){ji?e.encodings=[{maxBitrate:t}]:e.encodings.forEach(function(r){r.maxBitrate=t})}var zB=AB,WB=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bE=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},TE=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},HB=rt.guessBrowser,qB=zB,GB=Eb,QB=kb,ni=Pe,KB=Ce.MediaConnectionError,YB=HB()==="firefox",XB=function(e){WB(t,e);function t(r,n,i){var a=e.call(this)||this;i=Object.assign({audioContextFactory:YB?Lu():null,PeerConnectionV2:qB},i);var o=i.audioContextFactory?i.audioContextFactory.getOrCreate(a):null,l=o?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(a,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:ni.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:o?new GB(JB(o)):null},_encodingParameters:{value:r},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:l},_peerConnections:{value:new Map},_preferredCodecs:{value:n},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),a}return t.prototype.setEffectiveAdaptiveSimulcast=function(r){this._peerConnections.forEach(function(n){return n.setEffectiveAdaptiveSimulcast(r)}),this._preferredCodecs.video.forEach(function(n){"adaptiveSimulcast"in n&&(n.adaptiveSimulcast=r)})},Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._closeAbsentPeerConnections=function(r){var n=new Set(r.map(function(i){return i.id}));return this._peerConnections.forEach(function(i){n.has(i.id)||i._close()}),this},t.prototype._getConfiguration=function(){return this._configurationDeferred.promise},t.prototype._getOrCreate=function(r,n){var i=this,a=this,o=this._peerConnections.get(r);if(!o){var l=this._PeerConnectionV2,u=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},n);try{o=new l(r,this._encodingParameters,this._preferredCodecs,u)}catch{throw new KB}this._peerConnections.set(o.id,o),o.on("candidates",this.queue.bind(this,"candidates")),o.on("description",this.queue.bind(this,"description")),o.on("trackAdded",this.queue.bind(this,"trackAdded")),o.on("stateChanged",function f(p){p==="closed"&&(o.removeListener("stateChanged",f),a._dataTrackSenders.forEach(function(m){return o.removeDataTrackSender(m)}),a._mediaTrackSenders.forEach(function(m){return o.removeMediaTrackSender(m)}),a._peerConnections.delete(o.id),a._closedPeerConnectionIds.add(o.id),l0(a),Wl(a))}),o.on("connectionStateChanged",function(){return l0(i)}),o.on("iceConnectionStateChanged",function(){return Wl(i)}),this._dataTrackSenders.forEach(o.addDataTrackSender,o),this._mediaTrackSenders.forEach(o.addMediaTrackSender,o),Wl(this)}return o},t.prototype.close=function(){return this._peerConnections.forEach(function(r){r.close()}),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),Wl(this),this},t.prototype.createAndOffer=function(){var r=this;return this._getConfiguration().then(function(n){var i;do i=ni.makeUUID();while(r._peerConnections.has(i));return r._getOrCreate(i,n)}).then(function(n){return n.offer()}).then(function(){return r})},t.prototype.getTrackReceivers=function(){return ni.flatMap(this._peerConnections,function(r){return r.getTrackReceivers()})},t.prototype.getStates=function(){var r=[];return this._peerConnections.forEach(function(n){var i=n.getState();i&&r.push(i)}),r},t.prototype.setConfiguration=function(r){return this._configuration&&(this._configurationDeferred=ni.defer(),this._peerConnections.forEach(function(n){n.setConfiguration(r)})),this._configuration=r,this._configurationDeferred.resolve(r),this},t.prototype.setIceReconnectTimeout=function(r){return this._sessionTimeout===null&&(this._peerConnections.forEach(function(n){n.setIceReconnectTimeout(r)}),this._sessionTimeout=r),this},t.prototype.setTrackSenders=function(r){var n=new Set(r.filter(function(o){return o.kind==="data"})),i=new Set(r.filter(function(o){return o&&(o.kind==="audio"||o.kind==="video")})),a=t8(this,n,i);return this._dataTrackSenders=n,this._mediaTrackSenders=i,ZB(this,a),this},t.prototype.update=function(r,n){var i=this;return n===void 0&&(n=!1),n&&this._closeAbsentPeerConnections(r),this._getConfiguration().then(function(a){return Promise.all(r.map(function(o){if(i._closedPeerConnectionIds.has(o.id))return null;var l=i._getOrCreate(o.id,a);return l.update(o)}))}).then(function(){return i})},t.prototype.getStats=function(){var r=Array.from(this._peerConnections.values());return Promise.all(r.map(function(n){return n.getStats().then(function(i){return[n.id,i]})})).then(function(n){return new Map(n)})},t}(QB);function JB(e){var t=e.createMediaStreamDestination();return t.stream.getAudioTracks()[0]}function ZB(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach(function(r){t.data.remove.forEach(r.removeDataTrackSender,r),t.media.remove.forEach(r.removeMediaTrackSender,r),t.data.add.forEach(r.addDataTrackSender,r),t.media.add.forEach(r.addMediaTrackSender,r),(t.media.add.size||t.media.remove.size||t.data.add.size&&!r.isApplicationSectionNegotiated)&&r.offer()})}function e8(e,t){var r=ni.difference(t,e._dataTrackSenders),n=ni.difference(e._dataTrackSenders,t);return{add:r,remove:n}}function t8(e,t,r){return{data:e8(e,t),media:r8(e,r)}}function r8(e,t){var r=ni.difference(t,e._mediaTrackSenders),n=ni.difference(e._mediaTrackSenders,t);return{add:r,remove:n}}var Kc={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3},ud;function n8(){return Object.keys(Kc).reduce(function(e,t){var r;return Object.assign(e,(r={},r[Kc[t]]=t,r))},{})}function EE(e){return e.length?(ud=ud||n8(),e.reduce(function(t,r){return ud[Math.max(Kc[t],Kc[r])]})):"new"}function Wl(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=EE(TE([],bE(e._peerConnections.values())).map(function(t){return t.iceConnectionState})),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function l0(e){e._lastConnectionState=e.connectionState,e._connectionState=EE(TE([],bE(e._peerConnections.values())).map(function(t){return t.connectionState})),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}var i8=XB,a8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o8=Kt,s8=0,l8=function(e){a8(t,e);function t(r,n,i){var a=e.call(this)||this;return Object.defineProperties(a,{_instanceId:{value:s8++},channel:{value:n},_log:{value:i.log.createLog("default",a)},_getReceiver:{value:r},_receiverPromise:{value:null,writable:!0},_transport:{value:null,writable:!0}}),a}return Object.defineProperty(t.prototype,"isSetup",{get:function(){return!!this._receiverPromise},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[MediaSignaling #"+this._instanceId+":"+this.channel+"]"},t.prototype.setup=function(r){var n=this;this._teardown(),this._log.info("setting up msp transport for id:",r);var i=this._getReceiver(r).then(function(a){if(a.kind!=="data"&&n._log.error("Expected a DataTrackReceiver"),n._receiverPromise===i){try{n._transport=a.toDataTransport(),n.emit("ready",n._transport)}catch(o){n._log.error("Failed to toDataTransport: "+o.message)}a.once("close",function(){return n._teardown()})}});this._receiverPromise=i},t.prototype._teardown=function(){this._transport&&(this._log.info("Tearing down"),this._transport=null,this._receiverPromise=null,this.emit("teardown"))},t}(o8),ho=l8,c8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u8=ho,f8=function(e){c8(t,e);function t(r,n){var i=e.call(this,r,"active_speaker",n)||this;return Object.defineProperties(i,{_loudestParticipantSid:{value:null,writable:!0}}),i.on("ready",function(a){a.on("message",function(o){switch(o.type){case"active_speaker":i._setLoudestParticipantSid(o.participant);break}})}),i}return Object.defineProperty(t.prototype,"loudestParticipantSid",{get:function(){return this._loudestParticipantSid},enumerable:!1,configurable:!0}),t.prototype._setLoudestParticipantSid=function(r){this.loudestParticipantSid!==r&&(this._loudestParticipantSid=r,this.emit("updated"))},t}(u8),d8=f8,h8=function(){function e(t,r,n,i){Object.defineProperties(this,{availableSend:{enumerable:!0,value:n},recv:{enumerable:!0,value:r},rtt:{enumerable:!0,value:i},send:{enumerable:!0,value:t}})}return e.of=function(t,r){var n=(r.timestamp-t.timestamp)/1e3,i=r.bytesSent-t.bytesSent,a=r.bytesReceived-t.bytesReceived,o=n>0?i/n*8:0,l=n>0?a/n*8:0,u=r.availableOutgoingBitrate,f=r.currentRoundTripTime;return new e(o,l,u,f)},e}(),p8=h8,fd=p8,v8=function(){function e(){Object.defineProperties(this,{lastReport:{enumerable:!0,value:new fd(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(t){var r=this.lastStats;if(this.lastStats=t,r){var n=r.id===t.id?fd.of(r,t):new fd(0,0);this.lastReport=n}return this.lastReport},e}(),m8=v8;function g8(e){return e=e.filter(function(t){return typeof t=="number"}),e.length<1?void 0:e.reduce(function(t,r){return r+t})/e.length}var PE=g8,y8=function(){function e(t,r,n){Object.defineProperties(this,{id:{enumerable:!0,value:t},trackId:{enumerable:!0,value:r},bitrate:{enumerable:!0,value:n}})}return e}(),CE=y8;function _8(e){return e.reduce(function(t,r){return typeof r=="number"?r+t:t},0)}var xE=_8,w8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c0=PE,S8=CE,k8=xE,b8=function(e){w8(t,e);function t(r,n,i,a,o,l,u){var f=e.call(this,r,n,i)||this,p=o>0?a/o:0;return Object.defineProperties(f,{deltaPacketsLost:{enumerable:!0,value:a},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:l},jitter:{enumerable:!0,value:u},phonyFractionLost:{enumerable:!0,value:p}}),f}return t.of=function(r,n,i){if(n.id!==i.id)throw new Error("RTCStats IDs must match");var a=(i.timestamp-n.timestamp)/1e3,o=i.bytesReceived-n.bytesReceived,l=a>0?o/a*8:0,u=Math.max(i.packetsLost-n.packetsLost,0),f=i.packetsReceived-n.packetsReceived,p=i.fractionLost,m=i.jitter;return new t(n.id,r,l,u,f,p,m)},t.summarize=function(r){var n=r.map(function(l){return l.summarize()}),i=k8(n.map(function(l){return l.bitrate})),a=c0(n.map(function(l){return l.fractionLost})),o=c0(n.map(function(l){return l.jitter}));return{bitrate:i,fractionLost:a,jitter:o}},t.prototype.summarize=function(){return{bitrate:this.bitrate,fractionLost:typeof this.fractionLost=="number"?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}},t}(S8),OE=b8,T8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E8=PE,P8=CE,C8=xE,x8=function(e){T8(t,e);function t(r,n,i,a){var o=e.call(this,r,n,i)||this;return Object.defineProperties(o,{rtt:{enumerable:!0,value:a}}),o}return t.of=function(r,n,i,a){if(n.id!==i.id)throw new Error("RTCStats IDs must match");var o=(i.timestamp-n.timestamp)/1e3,l=i.bytesSent-n.bytesSent,u=o>0?l/o*8:0,f=a&&typeof a.roundTripTime=="number"?a.roundTripTime/1e3:void 0;return new t(n.id,r,u,f)},t.summarize=function(r){var n=C8(r.map(function(a){return a.bitrate})),i=E8(r.map(function(a){return a.rtt}));return{bitrate:n,rtt:i}},t}(P8),RE=x8,dd=OE,hd=RE,O8=function(){function e(t,r,n){Object.defineProperties(this,{ice:{enumerable:!0,value:t},audio:{enumerable:!0,value:r},video:{enumerable:!0,value:n}})}return e.prototype.summarize=function(){var t=this.audio.send.concat(this.video.send),r=hd.summarize(t),n=this.audio.recv.concat(this.video.recv),i=dd.summarize(n);return{ice:this.ice,send:r,recv:i,audio:{send:hd.summarize(this.audio.send),recv:dd.summarize(this.audio.recv)},video:{send:hd.summarize(this.video.send),recv:dd.summarize(this.video.recv)}}},e}(),R8=O8,L8=function(){function e(t,r,n){Object.defineProperties(this,{id:{enumerable:!0,value:t,writable:!0},trackId:{enumerable:!0,value:r,writable:!0},lastStats:{enumerable:!0,value:n,writable:!0}})}return e}(),LE=L8,A8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M8=OE,I8=LE,j8=function(e){A8(t,e);function t(r,n){var i=e.call(this,n.id,r,n)||this;return Object.defineProperties(i,{lastReport:{enumerable:!0,value:null,writable:!0}}),i}return t.prototype.next=function(r,n){var i=this.lastStats;this.lastStats=n,this.trackId=r;var a=M8.of(r,i,n);return this.lastReport=a,a},t}(I8),N8=j8,D8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F8=LE,$8=RE,V8=function(e){D8(t,e);function t(r,n){var i=e.call(this,n.id,r,n)||this;return Object.defineProperties(i,{lastReport:{enumerable:!0,value:null,writable:!0}}),i}return t.prototype.next=function(r,n,i){var a=this.lastStats;this.lastStats=n,this.trackId=r;var o=$8.of(r,a,n,i);return this.lastReport=o,o},t}(F8),B8=V8,Ko=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Hl=A&&A.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Ms=A&&A.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},AE=rt.guessBrowser,U8=m8,z8=R8,W8=N8,H8=B8,q8=function(){function e(t){Object.defineProperties(this,{pc:{enumerable:!0,value:t},ice:{enumerable:!0,value:new U8},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(){var t=this,r=AE()==="firefox"?K8(this):Y8(this);return r.then(function(){var n=Hl([],Ko(t.audio.send.values())),i=Hl([],Ko(t.video.send.values())),a=Hl([],Ko(t.audio.recv.values())),o=Hl([],Ko(t.video.recv.values())),l=new z8(t.ice.lastReport,{send:n.map(function(u){return u.lastReport}).filter(function(u){return u}),recv:a.map(function(u){return u.lastReport}).filter(function(u){return u})},{send:i.map(function(u){return u.lastReport}).filter(function(u){return u}),recv:o.map(function(u){return u.lastReport}).filter(function(u){return u})});return t.lastReport=l,l})},e}();function u0(e){return Promise.all(e.map(function(t){var r=t.track.id;return t.getStats().then(function(n){var i,a;try{for(var o=Ms(n.values()),l=o.next();!l.done;l=o.next()){var u=l.value;u.type==="inbound-rtp"&&(u.id=r+"-"+u.id)}}catch(f){i={error:f}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return[r,n]})})).then(function(t){return new Map(t)})}function ME(e,t,r,n,i){var a=t[n.mediaType];if(!i){var o=r.get(n.trackId);o&&(i=o.trackIdentifier)}if(a&&i){if(a.has(n.id))return a.get(n.id);var l=new e(i,n);a.set(n.id,l)}return null}function Gv(e){return{audio:e.audio.send,video:e.video.send}}function Qv(e){return{audio:e.audio.recv,video:e.video.recv}}function G8(e,t,r,n){return ME(H8,Gv(e),t,r,n)}function Q8(e,t,r,n){return ME(W8,Qv(e),t,r,n)}function IE(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function jE(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function NE(e,t,r,n){var i,a;try{for(var o=Ms(t.values()),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.type==="outbound-rtp"&&!u.isRemote){if(AE()!=="firefox"&&!u.trackId)continue;var f=r[u.mediaType];f&&f.delete(u.id);var p=G8(e,t,u,n);if(p){var m=t.get(u.remoteId);p.next(n||p.trackId,u,m)}}}}catch(y){i={error:y}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}function DE(e,t,r,n){var i,a;try{for(var o=Ms(t.values()),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.type==="inbound-rtp"&&!u.isRemote){var f=r[u.mediaType];f&&f.delete(u.id);var p=Q8(e,t,u,n);p&&p.next(n||p.trackId,u)}}}catch(m){i={error:m}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}function Yc(e,t){var r=function(i){var a=e[i],o=t[i];o.forEach(function(l){return a.delete(l)})};for(var n in t)r(n)}function FE(e,t){var r,n,i,a,o;try{for(var l=Ms(t.values()),u=l.next();!u.done;u=l.next()){var f=u.value;f.type==="transport"&&(o=t.get(f.selectedCandidatePairId))}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(o){e.next(o);return}try{for(var p=Ms(t.values()),m=p.next();!m.done;m=p.next()){var f=m.value;f.type==="candidate-pair"&&f.nominated&&(!("selected"in f)||f.selected)&&e.next(f)}}catch(y){i={error:y}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}function K8(e){var t=e.pc.getTransceivers().filter(function(n){return n.currentDirection&&n.currentDirection.match(/send/)&&n.sender.track}).map(function(n){return n.sender}),r=e.pc.getTransceivers().filter(function(n){return n.currentDirection&&n.currentDirection.match(/recv/)}).map(function(n){return n.receiver});return Promise.all([u0(t),u0(r),e.pc.getStats()]).then(function(n){var i=Ko(n,3),a=i[0],o=i[1],l=i[2],u=Gv(e),f=IE(e);a.forEach(function(y,x){return NE(e,y,f,x)}),Yc(u,f);var p=Qv(e),m=jE(e);o.forEach(function(y,x){return DE(e,y,m,x)}),Yc(p,m),FE(e.ice,l)})}function Y8(e){return e.pc.getStats().then(function(t){var r=Gv(e),n=IE(e);NE(e,t,n),Yc(r,n);var i=Qv(e),a=jE(e);DE(e,t,a),Yc(i,a),FE(e.ice,t)})}var X8=q8,J8=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z8=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},eU=Kt,tU=X8,rU=function(e){J8(t,e);function t(r,n){var i=e.call(this)||this;return Object.defineProperties(i,{_factories:{value:new WeakMap},_manager:{value:r},_signaling:{value:n}}),n.on("updated",function(){return i.emit("updated")}),i}return Object.defineProperty(t.prototype,"level",{get:function(){return this._signaling.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._signaling.levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._signaling.remoteLevels},enumerable:!1,configurable:!0}),t.prototype.start=function(){var r=this;this.stop();var n=setTimeout(function(){r._timeout===n&&nU(r).then(function(i){if(r._timeout===n){if(i.length){var a=Z8(i,1),o=a[0];r._signaling.put(o)}r.start()}})},200);this._timeout=n},t.prototype.stop=function(){clearTimeout(this._timeout),this._timeout=null},t}(eU);function nU(e){var t=e._manager._peerConnections?Array.from(e._manager._peerConnections.values()):[],r=t.map(function(a){return a._peerConnection}).filter(function(a){return a.signalingState!=="closed"}),n=r.map(function(a){if(e._factories.has(a))return e._factories.get(a);var o=new tU(a);return e._factories.set(a,o),o}),i=n.map(function(a){return a.next().catch(function(){return null})});return Promise.all(i).then(function(a){return a.filter(function(o){return o}).map(function(o){return o.summarize()})})}var iU=rU,aU=Pe.defer,oU=function(){function e(){Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return e.prototype.put=function(t){this._hasValue=!0,this._value=t;var r=this._deferreds.shift();return r&&r.resolve(t),this},e.prototype.take=function(){var t=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var r=aU();return this._deferreds.push(r),r.promise.then(function(n){return t._hasValue=!1,n})},e}(),sU=oU,lU=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cU=ho,uU=sU,fU=aa,f0=5e3,dU=function(e){lU(t,e);function t(r,n,i){var a=e.call(this,r,"network_quality",i)||this;return Object.defineProperties(a,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_networkQualityInputs:{value:new uU},_resendTimer:{value:new fU(function(){a._resendTimer.setDelay(a._resendTimer.delay*1.5),a._sendNetworkQualityInputs()},f0,!1)},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),a.on("ready",function(o){o.on("message",function(l){switch(a._log.debug("Incoming: ",l),l.type){case"network_quality":a._handleNetworkQualityMessage(l);break}})}),a._sendNetworkQualityInputs(),a}return Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._remoteLevels},enumerable:!1,configurable:!0}),t.prototype._handleNetworkQualityMessage=function(r){var n=this,i=!1,a=null,o=r?r.local:null;typeof o=="number"?(a=o,this._levels=null):typeof o=="object"&&o&&(this._levels=o,a=typeof o.level=="number"?o.level:Math.min(o.audio.send,o.audio.recv,o.video.send,o.video.recv)),a!==null&&this.level!==a&&(this._level=a,i=!0),this._remoteLevels=r&&r.remotes?r.remotes.reduce(function(l,u){var f=n._remoteLevels.get(u.sid)||{};return f.level!==u.level&&(i=!0),l.set(u.sid,u)},new Map):this._remoteLevels,i&&this.emit("updated"),this._resendTimer.setDelay(f0),this._resendTimer.isSet&&setTimeout(function(){return n._sendNetworkQualityInputs()},1e3)},t.prototype._sendNetworkQualityInputs=function(){var r=this;return this._resendTimer.clear(),this._networkQualityInputs.take().then(function(n){r._transport&&r._transport.publish(hU(n,r._networkQualityReportLevels))}).finally(function(){r._resendTimer.start()})},t.prototype.put=function(r){this._networkQualityInputs.put(r)},t}(cU);function hU(e,t){return Object.assign({type:"network_quality"},e,t)}var pU=dU,vU=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mU=Kt.EventEmitter,gU=function(e){vU(t,e);function t(){var r=e.call(this)||this;return Object.defineProperties(r,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),r}return t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(r){return r=typeof r=="boolean"?r:!0,this.isEnabled!==r&&(this._isEnabled=r,this.emit("updated")),this},t}(mU),$E=gU,yU=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_U=$E,wU=function(e){yU(t,e);function t(){var r=e.call(this)||this;return Object.defineProperties(r,{_revision:{value:1,writable:!0}}),r}return t.prototype.update=function(r){return r.revision<this._revision?this:(this._revision=r.revision,this.enable(r.is_recording))},t}(_U),SU=wU,kU=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bU=$E,TU=co,EU=aa,PU=Pe.buildLogLevels,CU=ot.DEFAULT_LOG_LEVEL,xU=Ln,Kv=Ce,OU=Kv.MediaConnectionError,RU=Kv.MediaDTLSTransportFailedError,LU=Kv.SignalingConnectionDisconnectedError,AU=0,MU={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},IU=function(e){kU(t,e);function t(r,n,i,a){var o=this;a=Object.assign({logLevel:CU,RecordingSignaling:bU,Timeout:EU},a);var l=PU(a.logLevel);o=e.call(this,"connected",MU)||this;var u=a.RecordingSignaling,f=new a.Timeout(function(){o._disconnect(o._reconnectingError)},a.sessionTimeout,!1);return Object.defineProperties(o,{_instanceId:{value:AU++},_log:{value:a.log?a.log.createLog("default",o):new xU("default",o,l,a.loggerName)},_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:a},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:f},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:r},name:{enumerable:!0,value:i},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new u},sid:{enumerable:!0,value:n}}),o.on("connectionStateChanged",function(){o.connectionState==="failed"&&!["disconnected","failed"].includes(o.iceConnectionState)&&o._disconnect(new RU)}),o.on("iceConnectionStateChanged",function(){return pd(o)}),o.on("signalingConnectionStateChanged",function(){return pd(o)}),setTimeout(function(){return pd(o)}),o}return t.prototype._disconnect=function(r){return this.state!=="disconnected"?(this.preempt("disconnected",null,[r]),!0):!1},t.prototype.toString=function(){return"[RoomSignaling #"+this._instanceId+": "+(this.localParticipant?this.localParticipant.sid:"null")+"]"},t.prototype.connectParticipant=function(r){var n=this;return r.state==="disconnected"||this.participants.has(r.sid)?!1:(this.participants.set(r.sid,r),r.on("stateChanged",function i(a){a==="disconnected"&&(r.removeListener("stateChanged",i),n.participants.delete(r.sid),n.emit("participantDisconnected",r))}),this.emit("participantConnected",r),!0)},t.prototype.disconnect=function(){return this._disconnect()},t.prototype.setDominantSpeaker=function(r){this.dominantSpeakerSid=r,this.emit("dominantSpeakerChanged")},t}(TU);function pd(e){if(e.state==="disconnected"||e.signalingConnectionState==="disconnected"){e._sessionTimeout.clear();return}var t;e.signalingConnectionState==="reconnecting"?t=e.signalingConnectionState:e.iceConnectionState==="failed"?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):e.iceConnectionState==="new"||e.iceConnectionState==="checking"?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&(t==="reconnecting"?(e._reconnectingError=e.signalingConnectionState==="reconnecting"?new LU:new OU,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))}var VE=IU,jU=function(){function e(t){var r=t.actual,n=r===void 0?null:r,i=t.available,a=i===void 0?null:i,o=t.level,l=o===void 0?null:o;Object.defineProperties(this,{actual:{value:n,enumerable:!0},available:{value:a,enumerable:!0},level:{value:l,enumerable:!0}})}return e}(),NU=jU,DU=function(){function e(t){var r=t.fractionLost,n=r===void 0?null:r,i=t.level,a=i===void 0?null:i;Object.defineProperties(this,{fractionLost:{value:n,enumerable:!0},level:{value:a,enumerable:!0}})}return e}(),FU=DU,$U=function(){function e(t){var r=t.jitter,n=r===void 0?null:r,i=t.rtt,a=i===void 0?null:i,o=t.level,l=o===void 0?null:o;Object.defineProperties(this,{jitter:{value:n,enumerable:!0},rtt:{value:a,enumerable:!0},level:{value:l,enumerable:!0}})}return e}(),VU=$U,BU=NU,UU=FU,zU=VU,WU=function(){function e(t){var r=t.bandwidth,n=r===void 0?null:r,i=t.fractionLost,a=i===void 0?null:i,o=t.latency,l=o===void 0?null:o;Object.defineProperties(this,{bandwidth:{value:n?new BU(n):null,enumerable:!0},fractionLost:{value:a?new UU(a):null,enumerable:!0},latency:{value:l?new zU(l):null,enumerable:!0}})}return e}(),BE=WU,HU=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qU=BE,GU=function(e){HU(t,e);function t(r){return e.call(this,r)||this}return t}(qU),QU=GU,KU=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YU=BE,XU=function(e){KU(t,e);function t(r){return e.call(this,r)||this}return t}(YU),JU=XU,ZU=QU,ez=JU,tz=function(){function e(t){var r=t.send,n=t.recv,i=t.sendStats,a=i===void 0?null:i,o=t.recvStats,l=o===void 0?null:o;Object.defineProperties(this,{send:{value:r,enumerable:!0},recv:{value:n,enumerable:!0},sendStats:{value:a?new ZU(a):null,enumerable:!0},recvStats:{value:l?new ez(l):null,enumerable:!0}})}return e}(),UE=tz,rz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nz=UE,iz=function(e){rz(t,e);function t(r){return e.call(this,r)||this}return t}(nz),az=iz,oz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sz=UE,lz=function(e){oz(t,e);function t(r){return e.call(this,r)||this}return t}(sz),cz=lz,uz=az,fz=cz,dz=function(){function e(t){var r=t.level,n=t.audio,i=t.video;Object.defineProperties(this,{level:{value:r,enumerable:!0},audio:{value:n?new uz(n):null,enumerable:!0},video:{value:i?new fz(i):null,enumerable:!0}})}return e}(),hz=dz,pz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vz=co,mz=hz,gz={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},yz=function(e){pz(t,e);function t(){var r=e.call(this,"connecting",gz)||this;return Object.defineProperties(r,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),r}return Object.defineProperty(t.prototype,"networkQualityLevel",{get:function(){return this._networkQualityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkQualityStats",{get:function(){return this._networkQualityStats},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(r){return this.tracks.set(r.id||r.sid,r),this.emit("trackAdded",r),this},t.prototype.disconnect=function(){return this.state!=="disconnected"?(this.preempt("disconnected"),!0):!1},t.prototype.removeTrack=function(r){var n=this.tracks.get(r.id||r.sid);return this.tracks.delete(r.id||r.sid),n&&this.emit("trackRemoved",r),n||null},t.prototype.setNetworkQualityLevel=function(r,n){this._networkQualityLevel!==r&&(this._networkQualityLevel=r,this._networkQualityStats=n&&(n.audio||n.video)?new mz(n):null,this.emit("networkQualityLevelChanged"))},t.prototype.connect=function(r,n){return this.state==="connecting"||this.state==="reconnecting"?(this._sid||(this._sid=r),this._identity||(this._identity=n),this.preempt("connected"),!0):!1},t.prototype.reconnecting=function(){return this.state==="connecting"||this.state==="connected"?(this.preempt("reconnecting"),!0):!1},t}(vz),Yv=yz,_z=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wz=Yv,Sz=function(e){_z(t,e);function t(r,n){var i=e.call(this)||this;return i.connect(r,n),i}return t}(wz),kz=Sz,bz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tz=Kt.EventEmitter,Ez=function(e){bz(t,e);function t(r,n,i,a){var o=e.call(this)||this,l=null;return Object.defineProperties(o,{_error:{value:null,writable:!0},_isEnabled:{value:i,writable:!0},_priority:{value:a,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return l},set:function(u){l===null&&(l=u)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:r}}),o}return Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sid",{get:function(){return this._sid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackTransceiver",{get:function(){return this._trackTransceiver},enumerable:!1,configurable:!0}),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(r){return r=typeof r=="boolean"?r:!0,this.isEnabled!==r&&(this._isEnabled=r,this.emit("updated")),this},t.prototype.setTrackTransceiver=function(r){return r=r||null,this.trackTransceiver!==r&&(this._trackTransceiver=r,this.emit("updated")),this},t.prototype.setSid=function(r){return this.sid===null&&(this._sid=r,this.emit("updated")),this},t}(Tz),zE=Ez,Pz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cz=zE,xz=function(e){Pz(t,e);function t(r,n,i,a,o,l){var u=e.call(this,n,i,a,o)||this;return Object.defineProperties(u,{_isSwitchedOff:{value:l,writable:!0}}),u.setSid(r),u}return Object.defineProperty(t.prototype,"isSubscribed",{get:function(){return!!this.trackTransceiver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSwitchedOff",{get:function(){return this._isSwitchedOff},enumerable:!1,configurable:!0}),t.prototype.subscribeFailed=function(r){return this.error||(this._error=r,this.emit("updated")),this},t.prototype.setPriority=function(r){return this._priority!==r&&(this._priority=r,this.emit("updated")),this},t.prototype.setSwitchedOff=function(r){return this._isSwitchedOff!==r&&(this._isSwitchedOff=r,this.emit("updated")),this},t}(Cz),Oz=xz,Rz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lz=Oz,Az=function(e){Rz(t,e);function t(r,n){return e.call(this,r.sid,r.name,r.kind,r.enabled,r.priority,n)||this}return t.prototype.update=function(r){return this.enable(r.enabled),this.setPriority(r.priority),this},t}(Lz),Mz=Az,Iz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jz=kz,Nz=Mz,Dz=function(e){Iz(t,e);function t(r,n,i,a,o,l){var u=e.call(this,r.sid,r.identity)||this;return l=Object.assign({RemoteTrackPublicationV2:Nz},l),Object.defineProperties(u,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:l.RemoteTrackPublicationV2},_getInitialTrackSwitchOffState:{value:n},updateSubscriberTrackPriority:{value:function(f,p){return i(f,p)}},updateTrackRenderHint:{value:function(f,p){return a(f,p)}},clearTrackHint:{value:function(f){return o(f)}},revision:{enumerable:!0,get:function(){return this._revision}}}),u.update(r)}return t.prototype._getOrCreateTrack=function(r){var n=this._RemoteTrackPublicationV2,i=this.tracks.get(r.sid);if(!i){var a=this._getInitialTrackSwitchOffState(r.sid);i=new n(r,a),this.addTrack(i)}return i},t.prototype.update=function(r){var n=this;if(this.revision!==null&&r.revision<=this.revision)return this;this._revision=r.revision;var i=new Set;switch(r.tracks.forEach(function(a){var o=n._getOrCreateTrack(a);o.update(a),i.add(o)}),this.tracks.forEach(function(a){i.has(a)||n.removeTrack(a)}),r.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity);break}return this},t}(jz),Fz=Dz,$z=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vz=ho,Bz=function(e){$z(t,e);function t(r,n){var i=e.call(this,r,"track_priority",n)||this;return Object.defineProperties(i,{_enqueuedPriorityUpdates:{value:new Map}}),i.on("ready",function(a){Array.from(i._enqueuedPriorityUpdates.keys()).forEach(function(o){a.publish({type:"track_priority",track:o,subscribe:i._enqueuedPriorityUpdates.get(o)})})}),i}return t.prototype.sendTrackPriorityUpdate=function(r,n,i){if(n!=="subscribe")throw new Error("only subscribe priorities are supported, found: "+n);this._enqueuedPriorityUpdates.set(r,i),this._transport&&this._transport.publish({type:"track_priority",track:r,subscribe:i})},t}(Vz),Uz=Bz,zz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wz=ho,Hz=function(e){zz(t,e);function t(r,n){var i=e.call(this,r,"track_switch_off",n)||this;return i.on("ready",function(a){a.on("message",function(o){switch(o.type){case"track_switch_off":i._setTrackSwitchOffUpdates(o.off||[],o.on||[]);break}})}),i}return t.prototype._setTrackSwitchOffUpdates=function(r,n){this.emit("updated",r,n)},t}(Wz),qz=Hz,Gz=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qz=ho,Kz=aa,Yz=Pe.isDeepEqual,d0=2e3,Xz=1,Jz=function(e){Gz(t,e);function t(r,n){var i=e.call(this,r,"render_hints",n)||this;return Object.defineProperties(i,{_trackSidsToRenderHints:{value:new Map},_responseTimer:{value:new Kz(function(){i._sendAllHints(),i._responseTimer.setDelay(i._responseTimer.delay*2)},d0,!1)}}),i.on("ready",function(a){a.on("message",function(o){switch(i._log.debug("Incoming: ",o),o.type){case"render_hints":i._processHintResults(o&&o.subscriber&&o.subscriber.hints||[]);break;default:i._log.warn("Unknown message type: ",o.type);break}}),i._sendAllHints()}),i}return t.prototype._sendAllHints=function(){var r=this;Array.from(this._trackSidsToRenderHints.keys()).forEach(function(n){var i=r._trackSidsToRenderHints.get(n);i.renderDimensions&&(i.isDimensionDirty=!0),"enabled"in i&&(i.isEnabledDirty=!0)}),this._sendHints()},t.prototype._processHintResults=function(r){var n=this;this._responseTimer.clear(),this._responseTimer.setDelay(d0),r.forEach(function(i){i.result!=="OK"&&n._log.debug("Server error processing hint:",i)}),this._sendHints()},t.prototype._sendHints=function(){var r=this;if(!(!this._transport||this._responseTimer.isSet)){var n=[];if(Array.from(this._trackSidsToRenderHints.keys()).forEach(function(a){var o=r._trackSidsToRenderHints.get(a);if(o.isEnabledDirty||o.isDimensionDirty){var l={track:a};o.isEnabledDirty&&(l.enabled=o.enabled,o.isEnabledDirty=!1),o.isDimensionDirty&&(l.render_dimensions=o.renderDimensions,o.isDimensionDirty=!1),n.push(l)}}),n.length>0){var i={type:"render_hints",subscriber:{id:Xz++,hints:n}};this._log.debug("Outgoing: ",i),this._transport.publish(i),this._responseTimer.start()}}},t.prototype.setTrackHint=function(r,n){var i=this._trackSidsToRenderHints.get(r)||{isEnabledDirty:!1,isDimensionDirty:!1};"enabled"in n&&i.enabled!==n.enabled&&(i.enabled=!!n.enabled,i.isEnabledDirty=!0),n.renderDimensions&&!Yz(n.renderDimensions,i.renderDimensions)&&(i.renderDimensions=n.renderDimensions,i.isDimensionDirty=!0),this._trackSidsToRenderHints.set(r,i),this._sendHints()},t.prototype.clearTrackHint=function(r){this._trackSidsToRenderHints.delete(r)},t}(Qz),Zz=Jz,e7=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t7=ho,r7=1,n7=function(e){e7(t,e);function t(r,n){var i=e.call(this,r,"publisher_hints",n)||this;return i.on("ready",function(a){i._log.debug("publisher_hints transport ready:",a),a.on("message",function(o){switch(i._log.debug("Incoming: ",o),o.type){case"publisher_hints":o.publisher&&o.publisher.hints&&o.publisher.id&&i._processPublisherHints(o.publisher.hints,o.publisher.id);break;default:i._log.warn("Unknown message type: ",o.type);break}})}),i}return t.prototype.sendTrackReplaced=function(r){var n=r.trackSid;if(this._transport){var i={type:"client_reset",track:n,id:r7++};this._log.debug("Outgoing: ",i),this._transport.publish(i)}},t.prototype.sendHintResponse=function(r){var n=r.id,i=r.hints;if(this._transport){var a={type:"publisher_hints",id:n,hints:i};this._log.debug("Outgoing: ",a),this._transport.publish(a)}},t.prototype._processPublisherHints=function(r,n){try{this.emit("updated",r,n)}catch(i){this._log.error("error processing hints:",i)}},t}(t7),i7=n7,a7=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WE=A&&A.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},o7=d8,s7=iU,l7=pU,c7=SU,u7=VE,f7=Fz,d7=fE,h7=Uz,p7=qz,v7=Zz,m7=i7,oa=Pe,g7=oa.constants.DEFAULT_SESSION_TIMEOUT_SEC,y7=oa.createBandwidthProfilePayload,_7=oa.defer,w7=oa.difference,vd=oa.filterObject,Xv=oa.flatMap,h0=oa.oncePerTick,Xc=WT,S7=Ce.createTwilioError,k7=1e4,b7=function(e){a7(t,e);function t(r,n,i,a,o){var l=this;n.options=Object.assign({session_timeout:g7},n.options),o=Object.assign({DominantSpeakerSignaling:o7,NetworkQualityMonitor:s7,NetworkQualitySignaling:l7,RecordingSignaling:c7,RemoteParticipantV2:f7,TrackPrioritySignaling:h7,TrackSwitchOffSignaling:p7,bandwidthProfile:null,sessionTimeout:n.options.session_timeout*1e3,statsPublishIntervalMs:k7},o),r.setBandwidthProfile(o.bandwidthProfile);var u=n.options,f=u.signaling_region,p=u.audio_processors,m=p===void 0?[]:p;r.setSignalingRegion(f),m.includes("krisp")&&m.push("rnnoise"),r.setAudioProcessors(m),a.setIceReconnectTimeout(o.sessionTimeout),l=e.call(this,r,n.sid,n.name,o)||this;var y=function(P){return l._getTrackReceiver(P)},x=l._log;return Object.defineProperties(l,{_disconnectedParticipantRevisions:{value:new Map},_NetworkQualityMonitor:{value:o.NetworkQualityMonitor},_lastBandwidthProfileRevision:{value:r.bandwidthProfileRevision,writable:!0},_mediaStatesWarningsRevision:{value:0,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityConfiguration:{value:r.networkQualityConfiguration},_peerConnectionManager:{value:a},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:o.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_dominantSpeakerSignaling:{value:new o.DominantSpeakerSignaling(y,{log:x})},_networkQualitySignaling:{value:new o.NetworkQualitySignaling(y,r.networkQualityConfiguration,{log:x})},_renderHintsSignaling:{value:new v7(y,{log:x})},_publisherHintsSignaling:{value:new m7(y,{log:x})},_trackPrioritySignaling:{value:new o.TrackPrioritySignaling(y,{log:x})},_trackSwitchOffSignaling:{value:new o.TrackSwitchOffSignaling(y,{log:x})},_pendingSwitchOffStates:{value:new Map},_transport:{value:i},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),l._initTrackSwitchOffSignaling(),l._initDominantSpeakerSignaling(),l._initNetworkQualityMonitorSignaling(),l._initPublisherHintSignaling(),T7(l,r),E7(l,a),P7(l,i),C7(l,i,o.statsPublishIntervalMs),l._update(n),l._peerConnectionManager.setEffectiveAdaptiveSimulcast(l._publisherHintsSignaling.isSetup),l}return Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._peerConnectionManager.connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingConnectionState",{get:function(){return this._transport.state==="syncing"?"reconnecting":this._transport.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._peerConnectionManager.iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._deleteTrackReceiverDeferred=function(r){return this._trackReceiverDeferreds.delete(r)},t.prototype._getOrCreateTrackReceiverDeferred=function(r){var n=this._trackReceiverDeferreds.get(r)||_7(),i=this._peerConnectionManager.getTrackReceivers(),a=i.find(function(o){return o.id===r&&o.readyState!=="ended"});return a?n.resolve(a):this._trackReceiverDeferreds.set(r,n),n},t.prototype._addTrackReceiver=function(r){var n=this._getOrCreateTrackReceiverDeferred(r.id);return n.resolve(r),this},t.prototype._disconnect=function(r){var n=e.prototype._disconnect.call(this,r);return n&&(this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach(function(i){i.publishFailed(r||new Error("LocalParticipant disconnected"))}),n},t.prototype._getTrackReceiver=function(r){var n=this;return this._getOrCreateTrackReceiverDeferred(r).promise.then(function(i){return n._deleteTrackReceiverDeferred(r),i})},t.prototype._getInitialTrackSwitchOffState=function(r){var n=this._pendingSwitchOffStates.get(r)||!1;return this._pendingSwitchOffStates.delete(r),n&&this._log.warn("["+r+"] was initially switched off! "),n},t.prototype._getTrackSidsToTrackSignalings=function(){var r=Xv(this.participants,function(n){return Array.from(n.tracks)});return new Map(r)},t.prototype._getOrCreateRemoteParticipant=function(r){var n=this,i=this._RemoteParticipantV2,a=this.participants.get(r.sid),o=this;return a||(a=new i(r,function(l){return n._getInitialTrackSwitchOffState(l)},function(l,u){return n._trackPrioritySignaling.sendTrackPriorityUpdate(l,"subscribe",u)},function(l,u){return n._renderHintsSignaling.setTrackHint(l,u)},function(l){return n._renderHintsSignaling.clearTrackHint(l)}),a.on("stateChanged",function l(u){u==="disconnected"&&(a.removeListener("stateChanged",l),o.participants.delete(a.sid),o._disconnectedParticipantRevisions.set(a.sid,a.revision))}),this.connectParticipant(a)),a},t.prototype._getState=function(){return{participant:this.localParticipant.getState()}},t.prototype._maybeAddBandwidthProfile=function(r){var n=this.localParticipant,i=n.bandwidthProfile,a=n.bandwidthProfileRevision;return i&&this._lastBandwidthProfileRevision<a?(this._lastBandwidthProfileRevision=a,Object.assign({bandwidth_profile:y7(i)},r)):r},t.prototype._publishNewLocalParticipantState=function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))},t.prototype._publishPeerConnectionState=function(r){this._transport.publish(Object.assign({peer_connections:[r]},this._getState()))},t.prototype._update=function(r){var n=this;if(r.subscribed&&r.subscribed.revision>this._subscribedRevision){this._subscribedRevision=r.subscribed.revision,r.subscribed.tracks.forEach(function(o){o.id?(n._subscriptionFailures.delete(o.sid),n._subscribed.set(o.sid,o.id)):o.error&&!n._subscriptionFailures.has(o.sid)&&n._subscriptionFailures.set(o.sid,o.error)});var i=new Set(r.subscribed.tracks.filter(function(o){return!!o.id}).map(function(o){return o.sid}));this._subscribed.forEach(function(o,l){i.has(l)||n._subscribed.delete(l)})}var a=new Set;return(r.participants||[]).forEach(function(o){if(o.sid!==n.localParticipant.sid){var l=n._disconnectedParticipantRevisions.get(o.sid);if(!(l&&o.revision<=l)){l&&n._disconnectedParticipantRevisions.delete(o.sid);var u=n._getOrCreateRemoteParticipant(o);u.update(o),a.add(u)}}}),r.type==="synced"&&this.participants.forEach(function(o){a.has(o)||o.disconnect()}),x7(this),r.peer_connections&&this._peerConnectionManager.update(r.peer_connections,r.type==="synced"),r.recording&&this.recording.update(r.recording),r.published&&r.published.revision>this._publishedRevision&&(this._publishedRevision=r.published.revision,r.published.tracks.forEach(function(o){o.sid&&n._published.set(o.id,o.sid)}),this.localParticipant.update(r.published)),r.participant&&this.localParticipant.connect(r.participant.sid,r.participant.identity),[this._dominantSpeakerSignaling,this._networkQualitySignaling,this._trackPrioritySignaling,this._trackSwitchOffSignaling,this._renderHintsSignaling,this._publisherHintsSignaling].forEach(function(o){var l=o.channel;!o.isSetup&&r.media_signaling&&r.media_signaling[l]&&r.media_signaling[l].transport&&r.media_signaling[l].transport.type==="data-channel"&&o.setup(r.media_signaling[l].transport.label)}),r.type==="warning"&&r.states&&r.states.revision>this._mediaStatesWarningsRevision&&(this._mediaStatesWarningsRevision=r.states.revision,this.localParticipant.updateMediaStates(r.states)),this},t.prototype._initPublisherHintSignaling=function(){var r=this;this._publisherHintsSignaling.on("updated",function(i,a){Promise.all(i.map(function(o){return r.localParticipant.setPublisherHint(o.track,o.encodings).then(function(l){return{track:o.track,result:l}})})).then(function(o){r._publisherHintsSignaling.sendHintResponse({id:a,hints:o})})});var n=function(i){i.kind==="video"&&i.trackTransceiver.on("replaced",function(){r._publisherHintsSignaling.sendTrackReplaced({trackSid:i.sid})})};Array.from(this.localParticipant.tracks.values()).forEach(function(i){return n(i)}),this.localParticipant.on("trackAdded",function(i){return n(i)})},t.prototype._initTrackSwitchOffSignaling=function(){var r=this;this._trackSwitchOffSignaling.on("updated",function(n,i){try{r._log.debug("received trackSwitch: ",{tracksOn:i,tracksOff:n});var a=new Map;i.forEach(function(o){return a.set(o,!0)}),n.forEach(function(o){a.get(o)&&r._log.warn(o+" is DUPLICATED in both tracksOff and tracksOn list"),a.set(o,!1)}),r.participants.forEach(function(o){o.tracks.forEach(function(l){var u=a.get(l.sid);typeof u<"u"&&(l.setSwitchedOff(!u),a.delete(l.sid))})}),a.forEach(function(o,l){return r._pendingSwitchOffStates.set(l,!o)})}catch(o){r._log.error("error processing track switch off:",o)}})},t.prototype._initDominantSpeakerSignaling=function(){var r=this;this._dominantSpeakerSignaling.on("updated",function(){return r.setDominantSpeaker(r._dominantSpeakerSignaling.loudestParticipantSid)})},t.prototype._initNetworkQualityMonitorSignaling=function(){var r=this;this._networkQualitySignaling.on("ready",function(){var n=new r._NetworkQualityMonitor(r._peerConnectionManager,r._networkQualitySignaling);r._networkQualityMonitor=n,n.on("updated",function(){r.iceConnectionState!=="failed"&&(r.localParticipant.setNetworkQualityLevel(n.level,n.levels),r.participants.forEach(function(i){var a=n.remoteLevels.get(i.sid);a&&i.setNetworkQualityLevel(a.level,a)}))}),n.start()}),this._networkQualitySignaling.on("teardown",function(){return r._teardownNetworkQualityMonitor()})},t.prototype._teardownNetworkQualityMonitor=function(){this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)},t.prototype.getStats=function(){var r=this;return this._peerConnectionManager.getStats().then(function(n){return new Map(Array.from(n).map(function(i){var a=WE(i,2),o=a[0],l=a[1];return[o,Object.assign({},l,{localAudioTrackStats:p0(r,l.localAudioTrackStats),localVideoTrackStats:p0(r,l.localVideoTrackStats),remoteAudioTrackStats:v0(r,l.remoteAudioTrackStats),remoteVideoTrackStats:v0(r,l.remoteVideoTrackStats)})]}))})},t}(u7);function HE(e,t){return t.reduce(function(r,n){var i=e.get(n.trackId);return i?[Object.assign({},n,{trackSid:i})].concat(r):r},[])}function p0(e,t){return HE(e._published,t)}function v0(e,t){var r=new Map(Array.from(e._subscribed.entries()).map(function(n){var i=WE(n,2),a=i[0],o=i[1];return[o,a]}));return HE(r,t)}function T7(e,t){var r=h0(function(){e._publishNewLocalParticipantState()}),n=h0(function(){var i=Xv(t.tracks,function(a){return a.trackTransceiver});e._peerConnectionManager.setTrackSenders(i)});t.on("trackAdded",n),t.on("trackRemoved",n),t.on("updated",r),e.on("stateChanged",function i(a){a==="disconnected"&&(t.removeListener("trackAdded",n),t.removeListener("trackRemoved",n),t.removeListener("updated",r),e.removeListener("stateChanged",i),t.disconnect())}),e.on("signalingConnectionStateChanged",function(){var i=e.localParticipant,a=e.signalingConnectionState,o=i.identity,l=i.sid;switch(a){case"connected":i.connect(l,o);break;case"reconnecting":i.reconnecting();break}})}function E7(e,t){t.on("description",function(n){e._publishPeerConnectionState(n)}),t.dequeue("description"),t.on("candidates",function(n){e._publishPeerConnectionState(n)}),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",function(){e.emit("connectionStateChanged")}),t.on("iceConnectionStateChanged",function(){e.emit("iceConnectionStateChanged"),e.iceConnectionState==="failed"&&(e.localParticipant.networkQualityLevel!==null&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach(function(r){r.networkQualityLevel!==null&&r.setNetworkQualityLevel(0)}))})}function P7(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",function r(n,i){n==="disconnected"&&(e.state!=="disconnected"&&e._disconnect(i),t.removeListener("stateChanged",r)),e.emit("signalingConnectionStateChanged")})}function C7(e,t,r){var n=new Map,i=!1,a=setInterval(function(){e.getStats().then(function(o){i=!i,o.forEach(function(l,u){var f=new d7(u,l,!0);t.publishEvent("quality","stats-report","info",{audioTrackStats:f.remoteAudioTrackStats.map(function(x,P){return g0(x,l.remoteAudioTrackStats[P],n)}),localAudioTrackStats:f.localAudioTrackStats.map(function(x,P){return m0(x,l.localAudioTrackStats[P],n)}),localVideoTrackStats:f.localVideoTrackStats.map(function(x,P){return m0(x,l.localVideoTrackStats[P],n)}),peerConnectionId:f.peerConnectionId,videoTrackStats:f.remoteVideoTrackStats.map(function(x,P){return g0(x,l.remoteVideoTrackStats[P],n)})});var p=Xv(["localAudioTrackStats","localVideoTrackStats","remoteAudioTrackStats","remoteVideoTrackStats"],function(x){return f[x].map(function(P){var L=P.ssrc,M=P.trackSid;return M+"+"+L})}),m=w7(Array.from(n.keys()),p);if(m.forEach(function(x){return n.delete(x)}),i){var y=O7(l.activeIceCandidatePair,f.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair","info",y)}})},function(){})},r);e.on("stateChanged",function o(l){l==="disconnected"&&(clearInterval(a),e.removeListener("stateChanged",o))})}function x7(e){var t=e._getTrackSidsToTrackSignalings();e._subscriptionFailures.forEach(function(r,n){var i=t.get(n);i&&(e._subscriptionFailures.delete(n),i.subscribeFailed(S7(r.code,r.message)))}),t.forEach(function(r){var n=e._subscribed.get(r.sid);(!n||r.isSubscribed&&r.trackTransceiver.id!==n)&&r.setTrackTransceiver(null),n&&e._getTrackReceiver(n).then(function(i){return r.setTrackTransceiver(i)})})}function m0(e,t,r){var n=t.framesEncoded,i=t.packetsSent,a=t.totalEncodeTime,o=t.totalPacketSendDelay,l=Object.assign({},e),u=e.trackSid+"+"+e.ssrc,f=r.get(u)||new Map;if(typeof a=="number"&&typeof n=="number"){var p=f.get("avgEncodeDelay")||new Xc;p.putSample(a*1e3,n),l.avgEncodeDelay=Math.round(p.get()),f.set("avgEncodeDelay",p)}if(typeof o=="number"&&typeof i=="number"){var m=f.get("avgPacketSendDelay")||new Xc;m.putSample(o*1e3,i),l.avgPacketSendDelay=Math.round(m.get()),f.set("avgPacketSendDelay",m)}return r.set(u,f),l}function g0(e,t,r){var n=t.estimatedPlayoutTimestamp,i=t.framesDecoded,a=t.jitterBufferDelay,o=t.jitterBufferEmittedCount,l=t.totalDecodeTime,u=Object.assign({},e),f=e.trackSid+"+"+e.ssrc,p=r.get(f)||new Map;if(typeof n=="number"&&(u.estimatedPlayoutTimestamp=n),typeof i=="number"&&typeof l=="number"){var m=p.get("avgDecodeDelay")||new Xc;m.putSample(l*1e3,i),u.avgDecodeDelay=Math.round(m.get()),p.set("avgDecodeDelay",m)}if(typeof a=="number"&&typeof o=="number"){var y=p.get("avgJitterBufferDelay")||new Xc;y.putSample(a*1e3,o),u.avgJitterBufferDelay=Math.round(y.get()),p.set("avgJitterBufferDelay",y)}return r.set(f,p),u}function O7(e,t){return e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},vd(e||{},null)),e.localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",url:""},vd(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},vd(e.remoteCandidate||{},null)),e}var R7=b7,L7=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A7=co,qE=Bb,M7=hE,I7=ot.reconnectBackoffConfig,j7=aa,Jv=ot,N7=Jv.SDK_NAME,D7=Jv.SDK_VERSION,F7=Jv.SDP_FORMAT,po=Pe,$7=po.createBandwidthProfilePayload,V7=po.createMediaSignalingPayload,B7=po.createMediaWarningsPayload,U7=po.createSubscribePayload,z7=po.getUserAgent,W7=po.isNonArrayObject,Uu=Ce,H7=Uu.createTwilioError,md=Uu.RoomCompletedError,q7=Uu.SignalingConnectionError,G7=Uu.SignalingServerBusyError,Q7=1,gd=2,K7={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},Y7=function(e){L7(t,e);function t(r,n,i,a,o,l){var u=this;return l=Object.assign({Backoff:M7,TwilioConnection:qE,iceServers:null,trackPriority:!0,trackSwitchOff:!0,renderHints:!0,userAgent:z7()},l),u=e.call(this,"connecting",K7)||this,Object.defineProperties(u,{_accessToken:{value:n},_automaticSubscription:{value:l.automaticSubscription},_bandwidthProfile:{value:l.bandwidthProfile},_dominantSpeaker:{value:l.dominantSpeaker},_adaptiveSimulcast:{value:l.adaptiveSimulcast},_eventObserver:{value:l.eventObserver,writable:!1},_renderHints:{value:l.renderHints},_iceServersStatus:{value:Array.isArray(l.iceServers)?"overrode":"acquire"},_localParticipant:{value:i},_name:{value:r},_networkQuality:{value:W7(l.networkQuality)||l.networkQuality},_notifyWarnings:{value:l.notifyWarnings},_options:{value:l},_peerConnectionManager:{value:a},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:new l.Backoff(I7)},_session:{value:null,writable:!0},_trackPriority:{value:l.trackPriority},_trackSwitchOff:{value:l.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:l.userAgent},_wsServer:{value:o}}),J7(u),u}return t.prototype._createConnectOrSyncOrDisconnectMessage=function(){if(this.state==="connected")return null;if(this.state==="disconnected")return{session:this._session,type:"disconnect",version:gd};var r={connecting:"connect",syncing:"sync"}[this.state],n={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:r,version:gd};return n.type==="connect"?(n.ice_servers=this._iceServersStatus,n.publisher={name:N7,sdk_version:D7,user_agent:this._userAgent},this._bandwidthProfile&&(n.bandwidth_profile=$7(this._bandwidthProfile)),this._notifyWarnings&&(n.participant.media_warnings=B7(this._notifyWarnings)),n.media_signaling=V7(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff,this._adaptiveSimulcast,this._renderHints),n.subscribe=U7(this._automaticSubscription),n.format=F7,n.token=this._accessToken):n.type==="sync"?(n.session=this._session,n.token=this._accessToken):n.type==="update"&&(n.session=this._session),n},t.prototype._createIceMessage=function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:Q7}},t.prototype._sendConnectOrSyncOrDisconnectMessage=function(){var r=this._createConnectOrSyncOrDisconnectMessage();r&&this._twilioConnection.sendMessage(r)},t.prototype.disconnect=function(r){return this.state!=="disconnected"?(this.preempt("disconnected",null,[r]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),!0):!1},t.prototype.publish=function(r){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:gd},r)),!0;case"connecting":case"syncing":return this._updatesToSend.push(r),!0;case"disconnected":default:return!1}},t.prototype.publishEvent=function(r,n,i,a){this._eventObserver.emit("event",{group:r,name:n,level:i,payload:a})},t.prototype.sync=function(){return this.state==="connected"?(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0):!1},t.prototype._setSession=function(r,n){this._session=r,this._sessionTimeoutMS=n*1e3},t.prototype._getReconnectTimer=function(){var r=this;return this._sessionTimeoutMS===0?null:(this._sessionTimer||(this._sessionTimer=new j7(function(){r._sessionTimer&&(r._sessionTimeoutMS=0)},this._sessionTimeoutMS)),new Promise(function(n){r._reconnectBackoff.backoff(n)}))},t.prototype._clearReconnectTimer=function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)},t}(A7);function y0(e){return Array.from(e.reduce(function(t,r){var n=t.get(r.id)||r;return(!n.description&&r.description||n.description&&r.description&&r.description.revision>n.description.revision)&&(n.description=r.description),(!n.ice&&r.ice||n.ice&&r.ice&&r.ice.revision>n.ice.revision)&&(n.ice=r.ice),t.set(n.id,n),t},new Map).values())}function X7(e){return e.reduce(function(t,r){return(!t.participant&&r.participant||t.participant&&r.participant&&r.participant.revision>t.participant.revision)&&(t.participant=r.participant),!t.peer_connections&&r.peer_connections?t.peer_connections=y0(r.peer_connections):t.peer_connections&&r.peer_connections&&(t.peer_connections=y0(t.peer_connections.concat(r.peer_connections))),t},{})}function J7(e){function t(){if(e.state!=="disconnected"){e._twilioConnection&&e._twilioConnection.removeListener("message",n);var u=e._iceServersStatus,f=e._options,p=e._wsServer,m=e.state,y=f.TwilioConnection,x=new y(p,Object.assign({helloBody:m==="connecting"&&u==="acquire"?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},f));x.once("close",function(P){P===y.CloseReason.LOCAL?r():r(new Error(P))}),x.on("message",n),e._twilioConnection=x}}function r(u){if(e.state!=="disconnected"){if(!u){e.disconnect();return}var f=e._getReconnectTimer();if(!f){var p=u.message===qE.CloseReason.BUSY?new G7:new q7;e.disconnect(p);return}e.state==="connected"&&e.preempt("syncing"),f.then(t)}}function n(u){if(e.state!=="disconnected"){if(u.type==="error"){e.disconnect(H7(u.code,u.message));return}switch(e.state){case"connected":switch(u.type){case"connected":case"synced":case"update":case"warning":e.emit("message",u);return;case"disconnected":e.disconnect(u.status==="completed"?new md:null);return;default:return}case"connecting":switch(u.type){case"iced":e._options.onIced(u.ice_servers).then(function(){e._sendConnectOrSyncOrDisconnectMessage()});return;case"connected":e._setSession(u.session,u.options.session_timeout),e.emit("connected",u),e.preempt("connected");return;case"synced":case"update":e._updatesReceived.push(u);return;case"disconnected":e.disconnect(u.status==="completed"?new md:null);return;default:return}case"syncing":switch(u.type){case"connected":case"update":e._updatesReceived.push(u);return;case"synced":e._clearReconnectTimer(),e.emit("message",u),e.preempt("connected");return;case"disconnected":e.disconnect(u.status==="completed"?new md:null);return;default:return}default:return}}}e.on("stateChanged",function u(f){switch(f){case"connected":{var p=e._updatesToSend.splice(0);p.length&&e.publish(X7(p)),e._updatesReceived.splice(0).forEach(function(m){return e.emit("message",m)});return}case"disconnected":e._twilioConnection.removeListener("message",n),e.removeListener("stateChanged",u);return;case"syncing":return;default:return}});var i=e._options,a=e._iceServersStatus,o=i.iceServers,l=i.onIced;a==="overrode"?l(o).then(t):t()}var Z7=Y7,e9=Fv,t9=i8,r9=R7,n9=Z7,GE=Ce,i9=GE.SignalingConnectionDisconnectedError,a9=GE.SignalingIncomingMessageInvalidError,QE=Pe,o9=QE.flatMap,s9=QE.createRoomConnectEventPayload;function l9(e,t,r,n,i,a){a=Object.assign({PeerConnectionManager:t9,RoomV2:r9,Transport:n9},a);var o=i.video[0]&&i.video[0].adaptiveSimulcast===!0,l=a.PeerConnectionManager,u=a.RoomV2,f=a.Transport,p=a.iceServers,m=a.log,y=new l(n,i,a),x=o9(r.tracks,function(R){return[R.trackTransceiver]});y.setTrackSenders(x);var P=new Error("Canceled"),L,M=new e9(function(R,_,b){var N=function(Ke){return b()?(_(P),Promise.reject(P)):(m.debug("Got ICE servers:",Ke),a.iceServers=Ke,y.setConfiguration(a),y.createAndOffer().then(function(){if(b())throw _(P),P;m.debug("createAndOffer() succeeded."),y.dequeue("description")}).catch(function(Ue){throw m.error("createAndOffer() failed:",Ue),_(Ue),Ue}))},W=a.automaticSubscription,H=a.bandwidthProfile,Y=a.dominantSpeaker,ie=a.environment,ae=a.eventObserver,ce=a.loggerName,_e=a.logLevel,ue=a.name,pe=a.networkMonitor,le=a.networkQuality,ge=a.notifyWarnings,fe=a.realm,we=a.sdpSemantics,oe=!!H,ke=!!H,Te=!!H&&(a.clientTrackSwitchOffControl!=="disabled"||a.contentPreferencesMode!=="disabled"),je=Object.assign({adaptiveSimulcast:o,automaticSubscription:W,dominantSpeaker:Y,environment:ie,eventObserver:ae,loggerName:ce,logLevel:_e,networkMonitor:pe,networkQuality:le,notifyWarnings:ge,iceServers:p,onIced:N,realm:fe,renderHints:Te,sdpSemantics:we,trackPriority:oe,trackSwitchOff:ke},H?{bandwidthProfile:H}:{});L=new f(ue,e,r,y,t,je);var qe=s9(a);ae.emit("event",qe),L.once("connected",function(Ke){if(m.debug("Transport connected:",Ke),b()){_(P);return}var Ue=Ke.participant;if(!Ue){_(new a9);return}R(new u(r,Ke,L,y,a))}),L.once("stateChanged",function(Ke,Ue){Ke==="disconnected"?(L=null,_(Ue||new i9)):m.debug("Transport state changed:",Ke)})},function(){L&&(L.disconnect(),L=null)});return M.catch(function(){L&&(L.disconnect(),L=null),y.close()}),M}var c9=l9,u9=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f9=Yv,d9=function(e){u9(t,e);function t(){var r=e.call(this)||this;return Object.defineProperties(r,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),r}return t.prototype.addTrack=function(r,n,i,a){a===void 0&&(a=null);var o=this._createLocalTrackPublicationSignaling(r,n,i,a);return this._trackSendersToPublications.set(r,o),this._publicationsToTrackSenders.set(o,r),e.prototype.addTrack.call(this,o),this},t.prototype.getPublication=function(r){return this._trackSendersToPublications.get(r)||null},t.prototype.getSender=function(r){return this._publicationsToTrackSenders.get(r)||null},t.prototype.removeTrack=function(r){var n=this._trackSendersToPublications.get(r);if(!n)return null;this._trackSendersToPublications.delete(r),this._publicationsToTrackSenders.delete(n);var i=e.prototype.removeTrack.call(this,n);return i&&n.stop(),n},t}(f9),h9=d9,p9=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v9=zE,m9=function(e){p9(t,e);function t(r,n,i){var a=this,o=r.clone();r.kind!=="data"&&(o.track.enabled=r.track.enabled),r=o;var l=r.kind==="data"?!0:r.track.enabled;return a=e.call(this,n,r.kind,l,i)||this,a.setTrackTransceiver(r),Object.defineProperties(a,{_updatedPriority:{value:i,writable:!0},id:{enumerable:!0,value:r.id}}),a}return Object.defineProperty(t.prototype,"updatedPriority",{get:function(){return this._updatedPriority},enumerable:!1,configurable:!0}),t.prototype.enable=function(r){return r=typeof r=="boolean"?r:!0,this.trackTransceiver.track.enabled=r,e.prototype.enable.call(this,r)},t.prototype.publishFailed=function(r){return g9(this,r)&&this.emit("updated"),this},t.prototype.setPriority=function(r){return this._updatedPriority!==r&&(this._updatedPriority=r,this.emit("updated")),this},t.prototype.setSid=function(r){return this._error?this:e.prototype.setSid.call(this,r)},t.prototype.stop=function(){this.trackTransceiver.stop()},t}(v9);function g9(e,t){return e._sid!==null||e._error?!1:(e._error=t,!0)}var y9=m9,_9=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w9=y9,S9=Mk,k9=Ce.createTwilioError,b9=function(e){_9(t,e);function t(r,n,i,a,o){var l=e.call(this,r,n,i)||this;return Object.defineProperties(l,{_log:{value:o.log.createLog("default",l)},_mediaStates:{value:{recordings:null},writable:!0},_noiseCancellationVendor:{value:a}}),l}return t.prototype.getState=function(){var r={enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority};return this._noiseCancellationVendor&&(r.audio_processor=this._noiseCancellationVendor),r},t.prototype.toString=function(){return"[LocalTrackPublicationV2: "+this.sid+"]"},t.prototype.update=function(r){switch(r.state){case"ready":this.setSid(r.sid);break;case"failed":{var n=r.error;this.publishFailed(k9(n.code,n.message));break}}return this},t.prototype.updateMediaStates=function(r){if(!r||!r.recordings||this._mediaStates.recordings===r.recordings)return this;switch(this._mediaStates.recordings=r.recordings,this._mediaStates.recordings){case"OK":this._log.info("Warnings have cleared."),this.emit("warningsCleared");break;case"NO_MEDIA":this._log.warn("Recording media lost."),this.emit("warning",S9.recordingMediaLost);break;default:this._log.warn("Unknown media state detected: "+this._mediaStates.recordings);break}return this},t}(w9),T9=b9,E9=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P9=h9,C9=T9,x9=ot.DEFAULT_LOG_LEVEL,O9=Ln,KE=Pe,R9=KE.buildLogLevels,L9=KE.isDeepEqual,A9=function(e){E9(t,e);function t(r,n,i){var a=this;i=Object.assign({logLevel:x9,LocalTrackPublicationV2:C9},i),a=e.call(this)||this;var o=R9(i.logLevel);return Object.defineProperties(a,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:r},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:i.LocalTrackPublicationV2},_log:{value:i.log?i.log.createLog("default",a):new O9("default",a,o,i.loggerName)},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},audioProcessors:{value:[],writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),a}return t.prototype.toString=function(){return"[LocalParticipantSignaling: "+this.sid+"]"},t.prototype.setSignalingRegion=function(r){this._signalingRegion||(this._signalingRegion=r)},t.prototype.setBandwidthProfile=function(r){L9(this._bandwidthProfile,r)||(this._bandwidthProfile=JSON.parse(JSON.stringify(r)),this._bandwidthProfileRevision++,this.didUpdate())},t.prototype.setAudioProcessors=function(r){this.audioProcessors=r},t.prototype.getParameters=function(){return this._encodingParameters},t.prototype.setParameters=function(r){return this._encodingParameters.update(r),this},t.prototype.update=function(r){return this._publishedRevision>=r.revision?this:(this._publishedRevision=r.revision,r.tracks.forEach(function(n){var i=this.tracks.get(n.id);i&&i.update(n)},this),this)},t.prototype.updateMediaStates=function(r){return!r||!r.tracks?this:(Array.from(this.tracks.values()).forEach(function(n){var i=r.tracks[n.sid];i&&n.updateMediaStates(i)}),this)},t.prototype._createLocalTrackPublicationSignaling=function(r,n,i,a){return new this._LocalTrackPublicationV2(r,n,i,a,{log:this._log})},t.prototype.addTrack=function(r,n,i,a){var o=this;e.prototype.addTrack.call(this,r,n,i,a);var l=this.getPublication(r),u=l.isEnabled,f=l.updatedPriority,p=function(){(u!==l.isEnabled||f!==l.updatedPriority)&&(o.didUpdate(),u=l.isEnabled,f=l.updatedPriority)};return l.on("updated",p),this._removeListener(l),this._removeListeners.set(l,function(){return l.removeListener("updated",p)}),this.didUpdate(),this},t.prototype._removeListener=function(r){var n=this._removeListeners.get(r);n&&n()},t.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(function(r){return r.getState()})}},t.prototype.didUpdate=function(){this._revision++,this.emit("updated")},t.prototype.removeTrack=function(r){var n=e.prototype.removeTrack.call(this,r);return n&&(r.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n},t.prototype.setNetworkQualityConfiguration=function(r){this.networkQualityConfiguration.update(r)},t.prototype.setPublisherHint=function(r,n){var i=Array.from(this.tracks.values()).find(function(a){return a.sid===r});return i?i.trackTransceiver.setPublisherHint(n):(this._log.warn("track:"+r+" not found"),Promise.resolve("UNKNOWN_TRACK"))},t}(P9),M9=A9,I9=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j9=Yv,N9=VE,D9=co,F9={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},$9=function(e){I9(t,e);function t(){return e.call(this,"closed",F9)||this}return t.prototype._close=function(r){return this.transition("closing",r),this.transition("closed",r),Promise.resolve(this)},t.prototype._connect=function(r,n,i,a,o){r.connect("PA00000000000000000000000000000000","test");var l="RM00000000000000000000000000000000",u=Promise.resolve(new N9(r,l,o));return u.cancel=function(){},u},t.prototype._open=function(r){return this.transition("opening",r),this.transition("open",r),Promise.resolve(this)},t.prototype.close=function(){var r=this;return this.bracket("close",function(n){switch(r.state){case"closed":return r;case"open":return r._close(n);default:throw new Error('Unexpected Signaling state "'+r.state+'"')}})},t.prototype.connect=function(r,n,i,a,o){var l=this;return this.bracket("connect",function u(f){switch(l.state){case"closed":return l._open(f).then(u.bind(null,f));case"open":return l.releaseLockCompletely(f),l._connect(r,n,i,a,o);default:throw new Error('Unexpected Signaling state "'+l.state+'"')}})},t.prototype.createLocalParticipantSignaling=function(){return new j9},t.prototype.open=function(){var r=this;return this.bracket("open",function(n){switch(r.state){case"closed":return r._open(n);case"open":return r;default:throw new Error('Unexpected Signaling state "'+r.state+'"')}})},t}(D9),V9=$9,B9=A&&A.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U9=c9,z9=M9,W9=V9,H9=function(e){B9(t,e);function t(r,n){var i=this;return n=Object.assign({createCancelableRoomSignalingPromise:U9},n),i=e.call(this)||this,Object.defineProperties(i,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:r}}),i}return t.prototype._connect=function(r,n,i,a,o){return o=Object.assign({},this._options,o),this._createCancelableRoomSignalingPromise.bind(null,n,this._wsServer,r,i,a,o)},t.prototype.createLocalParticipantSignaling=function(r,n){return new z9(r,n)},t}(W9),q9=H9,G9=na.MediaStreamTrack,Zv=rt,Q9=Zv.guessBrowser,K9=Zv.guessBrowserVersion,Y9=Zv.isCodecSupported,X9=I4,J9=F4,Z9=U$,eW=GT,tW=W$,em=Wa,rW=em.LocalAudioTrack,nW=em.LocalDataTrack,iW=em.LocalVideoTrack,aW=K$,oW=B6,sW=q9,zu=Pe,lW=zu.asLocalTrack,cW=zu.buildLogLevels,uW=zu.filterObject,_0=zu.isNonArrayObject,An=ot,fW=An.DEFAULT_ENVIRONMENT,dW=An.DEFAULT_LOG_LEVEL,hW=An.DEFAULT_LOGGER_NAME,pW=An.DEFAULT_REALM,vW=An.DEFAULT_REGION,mW=An.WS_SERVER,gW=An.SDK_NAME,yW=An.SDK_VERSION,ql=An.typeErrors,Li=Fv,_W=HT,wW=Ln,SW=Qs.validateBandwidthProfile,yd=Q9()==="safari"&&K9(),kW=0,w0=!1,YE=!1;if(yd){var S0=yd.major,bW=yd.minor;YE=S0<12||S0===12&&bW<1}var TW=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]),EW=new Set([{didWarn:!1,shouldDelete:!1,name:"maxTracks",newName:"bandwidthProfile.video.clientTrackSwitchOffControl"},{didWarn:!1,shouldDelete:!1,name:"renderDimensions",newName:"bandwidthProfile.video.contentPreferencesMode"}]);function PW(e,t){if(typeof t>"u"&&(t={}),!_0(t))return Li.reject(ql.INVALID_TYPE("options","object"));var r=t.Log||wW,n=t.loggerName||hW,i=t.logLevel||dW,a=cW(i),o="[connect #"+ ++kW+"]",l;try{l=new r("default",o,a,n)}catch(H){return Li.reject(H)}k0(t,l,TW);var u=t.preferredVideoCodecs==="auto";if(u&&(t.preferredVideoCodecs=[{codec:"VP8",simulcast:!0,adaptiveSimulcast:!0}]),t.maxVideoBitrate&&u)return l.error('ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'),Li.reject(ql.ILLEGAL_INVOKE("connect",'ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'));t=Object.assign({automaticSubscription:!0,dominantSpeaker:!1,enableDscp:!1,environment:fW,eventListener:null,insights:!0,LocalAudioTrack:rW,LocalDataTrack:nW,LocalParticipant:Z9,LocalVideoTrack:iW,Log:r,MediaStreamTrack:G9,loggerName:n,logLevel:i,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:pW,region:vW,signaling:sW},uW(t));var f={};typeof t.wsServerInsights=="string"&&(f.gateway=t.wsServerInsights);var p=t.insights?eW:tW,m=new p(e,gW,yW,t.environment,t.realm,f),y=mW(t.environment,t.region),x=new _W(m,Date.now(),l,t.eventListener);if(t=Object.assign({eventObserver:x,wsServer:y},t),t.log=l,YE&&!w0&&l.logLevel!=="error"&&l.logLevel!=="off"&&(w0=!0,l.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),typeof e!="string")return Li.reject(ql.INVALID_TYPE("token","string"));var P=Object.assign({},t);if(delete P.name,"tracks"in t){if(!Array.isArray(t.tracks))return Li.reject(ql.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map(function(H){return lW(H,P)})}catch(H){return Li.reject(H)}}var L=SW(t.bandwidthProfile);if(L)return Li.reject(L);t.clientTrackSwitchOffControl="disabled",t.contentPreferencesMode="disabled",t.bandwidthProfile&&(t.clientTrackSwitchOffControl="auto",t.contentPreferencesMode="auto",t.bandwidthProfile.video&&(k0(t.bandwidthProfile.video,l,EW),"maxTracks"in t.bandwidthProfile.video?t.clientTrackSwitchOffControl="disabled":t.bandwidthProfile.video.clientTrackSwitchOffControl==="manual"?t.clientTrackSwitchOffControl="manual":t.clientTrackSwitchOffControl="auto","renderDimensions"in t.bandwidthProfile.video?t.contentPreferencesMode="disabled":t.bandwidthProfile.video.contentPreferencesMode==="manual"?t.contentPreferencesMode="manual":t.contentPreferencesMode="auto"));var M=t.signaling,R=new M(t.wsServer,t);l.info("Connecting to a Room"),l.debug("Options:",t);var _=new J9({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate},u),b={audio:t.preferredAudioCodecs.map(b0),video:t.preferredVideoCodecs.map(b0)},N=new aW(_0(t.networkQuality)?t.networkQuality:{});["audio","video"].forEach(function(H){return b[H].forEach(function(Y){var ie=Y.codec;return Y9(ie,H).then(function(ae){return!ae&&l.warn("The preferred "+H+' codec "'+ie+'" will be ignored as it is not supported by the browser.')})})});var W=X9(RW.bind(null,t),CW.bind(null,R,l,_,N,t),OW.bind(null,e,t,R,_,b),xW.bind(null,t));return W.then(function(H){return m.connect(H.sid,H.localParticipant.sid),l.info("Connected to Room:",H.toString()),l.info("Room name:",H.name),l.debug("Room:",H),H.once("disconnected",function(){return m.disconnect()}),H},function(H){m.disconnect(),W._isCanceled?l.info("Attempt to connect to a Room was canceled"):l.info("Error while connecting to a Room:",H)}),W}function k0(e,t,r){r.forEach(function(n){var i=n.didWarn,a=n.name,o=n.newName,l=n.shouldDelete;a in e&&typeof e[a]<"u"&&(o&&l&&(e[o]=e[a]),l&&delete e[a],!i&&!["error","off"].includes(t.level)&&(t.warn('The ConnectOptions "'+a+'" is '+(o?'deprecated and scheduled for removal. Please use "'+o+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))})}function CW(e,t,r,n,i,a){var o=e.createLocalParticipantSignaling(r,n);return t.debug("Creating a new LocalParticipant:",o),new i.LocalParticipant(o,a,i)}function xW(e,t,r){var n=new oW(t,r,e),i=e.log;return i.debug("Creating a new Room:",n),r.on("stateChanged",function a(o){o==="disconnected"&&(i.info("Disconnected from Room:",n.toString()),r.removeListener("stateChanged",a))}),n}function OW(e,t,r,n,i,a){return t.log.debug("Creating a new RoomSignaling"),r.connect(a._signaling,e,n,i,t)}function RW(e,t){var r=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?r.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(r.info("Getting LocalTracks"),r.debug("Options:",e)),e.createLocalTracks(e).then(function(i){var a=t(i);return a.catch(function(){e.shouldStopLocalTracks&&(r.info("The automatically acquired LocalTracks will now be stopped"),i.forEach(function(l){l.stop()}))}),a})}function b0(e){var t=typeof e=="string"?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}var LW=PW,XE=ot,AW=XE.DEFAULT_LOG_LEVEL,MW=XE.DEFAULT_LOGGER_NAME;function JE(e,t){t=Object.assign({loggerName:MW,logLevel:AW},t);var r={};r.loggerName=t.loggerName,r.logLevel=t.logLevel,delete t.loggerName,delete t.logLevel;var n=t.createLocalTracks;return delete t.createLocalTracks,r[e]=Object.keys(t).length>0?t:!0,n(r).then(function(i){return i[0]})}function IW(e){return JE("audio",e)}function jW(e){return JE("video",e)}var T0={audio:IW,video:jW},ZE=rt,NW=ZE.guessBrowser,DW=ZE.support,FW=cr.getSdpFormat,Js=ia,$W=Js.isAndroid,VW=Js.isMobile,BW=Js.isNonChromiumEdge,UW=Js.rebrandedChromeBrowser,zW=Js.mobileWebKitBrowser,WW=["crios","edg","edge","electron","headlesschrome"],HW=["chrome","firefox"],qW=["chrome","safari"],GW=[];function QW(){var e=NW();if(!e)return!1;var t=UW(e),r=zW(e),n=$W()?HW:qW;return!!e&&DW()&&FW()==="unified"&&(!t||WW.includes(t))&&!BW(e)&&(!r||GW.includes(r))&&(!VW()||n.includes(e))}var KW=QW,YW=yv.exports,Is=A&&A.__assign||function(){return Is=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Is.apply(this,arguments)};Object.defineProperty(YW,"__esModule",{value:!0});var Wu=Eu,XW=eo,Mn={connect:LW,createLocalAudioTrack:T0.audio,createLocalVideoTrack:T0.video,isSupported:KW(),version:bk.version,Logger:kk,LocalAudioTrack:Wa.LocalAudioTrack,LocalDataTrack:Wa.LocalDataTrack,LocalVideoTrack:Wa.LocalVideoTrack};function JW(e,t){var r=Is({createLocalTracks:Wu.createLocalTracks},t);return Mn.connect(e,r)}function ZW(e){var t=Is({createLocalTracks:Wu.createLocalTracks},e);return Mn.createLocalAudioTrack(t)}function eH(e){var t=Is({createLocalTracks:Wu.createLocalTracks},e);return Mn.createLocalVideoTrack(t)}var tH=Mn.isSupported,rH=Mn.version,nH=Mn.Logger,iH=Mn.LocalAudioTrack,aH=Mn.LocalVideoTrack,oH=Mn.LocalDataTrack;yv.exports={connect:JW,createLocalAudioTrack:ZW,createLocalVideoTrack:eH,createLocalTracks:Wu.createLocalTracks,runPreflight:XW.runPreflight,isSupported:tH,version:rH,Logger:nH,LocalAudioTrack:iH,LocalVideoTrack:aH,LocalDataTrack:oH};var eP=yv.exports;const Zs="http://localhost:5001",tP=async(e,t)=>{try{return(await Ze.post(`${Zs}/api/room/join-room`,{roomName:e,role:t})).data.token}catch(r){throw console.error("Error in video service:",r),r}},sH=async(e,t)=>{try{return(await Ze.post(`${Zs}/api/room/end-room`,{roomName:e,role:t})).data.token}catch(r){throw console.error("Error in video service:",r),r}},E0=async e=>{try{const t=`${Zs}/api/detection/detect-emotion`;return(await Ze.post(t,e,{headers:{"Content-Type":"multipart/form-data"}})).data.emotion}catch(t){throw console.error("Error detecting emotion:",t),t}},lH=async e=>{try{const t=new FormData;t.append("audio",e,"audio.webm");const r=`${Zs}/api/deepgram/transcribe`;return(await Ze.post(r,t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Token undefined"}})).data.conversationContext}catch(t){throw console.error("Error during transcription:",t),t}},cH=async e=>{try{const t=`${Zs}/api/suggestions/generate`;return(await Ze.post(t,{conversationContext:e})).data.suggestion}catch(t){throw console.error("Error generating suggestion:",t),t}};function uH({onClose:e,gameImage:t,fetchNewImage:r,childId:n}){const[i,a]=ee.useState(null),[o,l]=ee.useState(""),[u,f]=ee.useState(!1),[p,m]=ee.useState(0),[y,x]=ee.useState([]),[P,L]=ee.useState(0),[M,R]=ee.useState(0),[_,b]=ee.useState(0),[N,W]=ee.useState(!1),[H,Y]=ee.useState(null),[ie,ae]=ee.useState(!1),ce={happy:"😊",sad:"😢",angry:"😠",neutral:"😐",surprise:"😲"},_e=()=>{if(!t||!t.result||!ce[t.result])return[];const we=Object.keys(ce).filter(oe=>oe!==t.result).sort(()=>.5-Math.random());return[ce[t.result],ce[we[0]],ce[we[1]]].sort(()=>.5-Math.random())};ee.useEffect(()=>{t&&(l(""),a(null),f(!1),m(0),t.result&&ce[t.result]?x(_e()):pe())},[t]);const ue=fe=>{let we=3;L(we);const oe=setInterval(()=>{we-=1,L(we),we===0&&(clearInterval(oe),L(0),fe&&fe())},1e3)},pe=()=>{l("No emotion detected. Skipping to the next question..."),f(!0),setTimeout(()=>{f(!1),r()},2e3)},le=fe=>{if(!t.result){pe();return}a(fe);const we=fe===ce[t.result];l(we?"Correct!":"Wrong!"),f(!0),b(oe=>oe+1),we?(R(oe=>oe+1),ae(!0),setTimeout(()=>{ae(!1),f(!1),ue(r)},3e3)):(m(oe=>oe+1),p+1>=2&&setTimeout(()=>{f(!1),r()},2e3))},ge=async()=>{W(!0),await saveScoreToBackend()};return N?T.jsx("div",{className:"game-modal",children:T.jsxs("div",{className:"game-modal-content",children:[T.jsx("h3",{children:"Good job!"}),T.jsxs("p",{children:["You answered ",M," out of ",_," correctly!"]}),T.jsx("button",{onClick:e,className:"end-game-button",children:"Close"})]})}):!t||!t.blob?T.jsx("div",{className:"game-modal",children:T.jsx("div",{className:"game-modal-content",children:T.jsx("p",{children:"Please wait until the image appears..."})})}):T.jsxs("div",{className:"game-modal",children:[T.jsxs("div",{className:"game-modal-content",children:[P>0?T.jsx("div",{className:"countdown-circle",children:T.jsx("span",{children:P})}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"game-image",children:T.jsx("img",{src:t.blob,alt:"Question"})}),y.length>0?T.jsx("div",{className:"emoji-buttons",children:y.map((fe,we)=>T.jsx("button",{onClick:()=>le(fe),className:`emoji-btn ${i===fe?o==="Correct!"?"selected-correct":"selected-wrong":""}`,children:fe},we))}):T.jsx("p",{children:"No valid emotion detected. Skipping..."}),u&&T.jsx("p",{className:"feedback",children:o}),T.jsxs("p",{children:["Score: ",M," / ",_]})]}),T.jsx("button",{onClick:ge,className:"end-game-button",children:"End Game"}),H&&T.jsx("p",{className:"error",children:H})]}),ie&&T.jsx("div",{className:"celebration-effect",children:[...Array(50)].map((fe,we)=>T.jsx("lord-icon",{src:"https://cdn.lordicon.com/fkmafinl.json",trigger:"loop",colors:"primary:#e8b730,secondary:#eeca66,tertiary:#66d7ee,quaternary:#66d7ee",style:{position:"absolute",width:"80px",height:"80px",top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animation:"fall 3s ease-in-out infinite"}},we))})]})}const fH=()=>{const e=ee.useRef(null),[t,r]=ee.useState("inactive"),[n,i]=ee.useState(null),[a,o]=ee.useState(null),[l,u]=ee.useState(null),[f,p]=ee.useState(!1),[m,y]=ee.useState(!1),[x,P]=ee.useState(!1);let L="audio/webm";MediaRecorder.isTypeSupported(L)||(L="audio/ogg",MediaRecorder.isTypeSupported(L)||(L="audio/wav")),ee.useEffect(()=>{(async()=>{try{const H=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});i(H)}catch(H){console.error("Error accessing microphone:",H)}})()},[]),ee.useEffect(()=>{n&&!f&&M()},[n,f]);const M=()=>{r("recording");const W=new MediaRecorder(n,{mimeType:L});e.current=W;const H=[];e.current.start(),e.current.ondataavailable=Y=>{Y.data.size>0&&H.push(Y.data)},e.current.onstop=()=>{const Y=new Blob(H,{type:L}),ie=URL.createObjectURL(Y);o(ie),N(Y)}},R=()=>{r("inactive"),e.current&&e.current.state!=="inactive"&&e.current.stop()},_=()=>{P(!0),R(),p(!0)},b=()=>{y(!1)},N=async W=>{try{const H=await lH(W),Y=await cH(H);u(Y),P(!1),y(!0),p(!1)}catch(H){console.error("Error during transcription or suggestion generation:",H),u("Oops, I cannot help you now."),P(!1),y(!0),p(!1)}};return T.jsxs("div",{children:[T.jsx("button",{onClick:_,disabled:x,children:x?T.jsx(Tr,{icon:UM,spin:!0}):T.jsxs(T.Fragment,{children:[T.jsx("b",{children:"Help"}),T.jsx(Tr,{icon:BM,style:{marginLeft:"10px"}})]})}),m&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("p",{children:l}),T.jsx("button",{onClick:b,children:T.jsx("b",{children:"Close"})})]})})]})},ip=({token:e,roomName:t,role:r})=>{const[n,i]=ee.useState(null),[a,o]=ee.useState(e),[l,u]=ee.useState(t),[f,p]=ee.useState(null),[m,y]=ee.useState(!1),[x,P]=ee.useState(""),[L,M]=ee.useState(null),[R,_]=ee.useState(0);Or();const b=ae=>({happy:"😊",sad:"😢",angry:"😠",neutral:"😐",surprise:"😲"})[ae];ee.useEffect(()=>((async()=>{if(!(!a||!l))try{const ce=await eP.connect(a,{name:l,region:"gll",audio:!0,video:!0});if(i(ce),console.log("Connected to room:",ce),r==="host"){const _e=document.getElementById("local-video"),ue=document.getElementById("local-audio");_e.innerHTML="",ce.localParticipant.videoTracks.forEach(pe=>{const le=pe.track;_e.appendChild(le.attach())}),ue.innerHTML="",ce.localParticipant.audioTracks.forEach(pe=>{const ge=pe.track.attach();ue.appendChild(ge)})}ce.participants.forEach(_e=>{_e.tracks.forEach(ue=>{ue.on("subscribed",pe=>{const le=document.getElementById("remote-video"),ge=document.getElementById("remote-audio");if(pe.kind==="video")le.innerHTML="",le.appendChild(pe.attach());else if(pe.kind==="audio"){ge.innerHTML="";const fe=pe.attach();ge.appendChild(fe)}})})}),ce.on("participantConnected",_e=>{console.log(`${_e.identity} connected.`),_e.tracks.forEach(ue=>{ue.on("subscribed",pe=>{const le=document.getElementById("remote-video"),ge=document.getElementById("remote-audio");if(pe.kind==="video")le.innerHTML="",le.appendChild(pe.attach());else if(pe.kind==="audio"){ge.innerHTML="";const fe=pe.attach();ge.appendChild(fe)}})})}),ce.on("participantDisconnected",_e=>{console.log(`${_e.identity} disconnected.`),N([..._e.videoTracks.values(),..._e.audioTracks.values()])})}catch(ce){console.error("Error connecting to room:",ce)}})(),()=>{n&&(N([...n.localParticipant.tracks.values()]),n.disconnect(),i(null))}),[a,l,r]);const N=ae=>{ae.forEach(ce=>{ce.stop(),ce.detach().forEach(ue=>ue.remove())})},W=async()=>{var ce;const ae=(ce=document.getElementById("remote-video"))==null?void 0:ce.getElementsByTagName("video");if((ae==null?void 0:ae.length)>0){const _e=ae[0];if(_e.readyState>=2){const ue=document.createElement("canvas");ue.width=_e.videoWidth,ue.height=_e.videoHeight,ue.getContext("2d").drawImage(_e,0,0,_e.videoWidth,_e.videoHeight),ue.toBlob(async le=>{if(le){const ge=new FormData;ge.append("image",le,"frame.jpg");try{const fe=await E0(ge);fe&&p(b(fe))}catch(fe){console.error("Error detecting emotion:",fe)}}},"image/jpeg")}}},H=async(ae=0)=>{var _e;const ce=(_e=document.getElementById("remote-video"))==null?void 0:_e.getElementsByTagName("video");if((ce==null?void 0:ce.length)>0){const ue=ce[0];if(ue.readyState>=2){const pe=document.createElement("canvas");pe.width=ue.videoWidth,pe.height=ue.videoHeight,pe.getContext("2d").drawImage(ue,0,0,ue.videoWidth,ue.videoHeight),pe.toBlob(async ge=>{if(ge){const fe=new FormData;fe.append("image",ge,"frame.jpg");try{const we=await E0(fe);we?(console.log("Game photo emotion detected:",we),M({blob:URL.createObjectURL(ge),result:we})):ae<1?(console.log(`Retrying game photo capture... Attempt ${ae+1}`),Y(()=>H(ae+1))):console.error("Failed to detect emotion after 3 attempts.")}catch(we){console.error("Error detecting emotion:",we)}}},"image/jpeg")}}},Y=ae=>{let ce=3;_(ce);const _e=setInterval(()=>{ce-=1,_(ce),ce===0&&(clearInterval(_e),_(0),ae&&ae())},1e3)},ie=()=>{const ae="Game Start: Guest has started the game!";localStorage.setItem("gameStartMessage",ae),P(ae);let ce=3;_(ce);const _e=setInterval(()=>{ce-=1,_(ce),ce===0&&(clearInterval(_e),_(0),H(),y(!0))},1e3)};return ee.useEffect(()=>{const ae=()=>{const ce=localStorage.getItem("gameStartMessage");if(ce&&ce.startsWith("Game Start:")){P(ce);let _e=3;_(_e);const ue=setInterval(()=>{_e-=1,_(_e),_e===0&&(clearInterval(ue),_(0),console.log("Host detected game start by the guest."))},1e3)}};return window.addEventListener("storage",ae),()=>{window.removeEventListener("storage",ae)}},[]),ee.useEffect(()=>{if(r==="guest"){const ae=setInterval(W,15e3);return()=>clearInterval(ae)}},[r]),T.jsxs("div",{className:"video-room",children:[T.jsxs("div",{className:"video-container",children:[r==="host"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{id:"local-video",className:"video-section"}),T.jsx("div",{id:"local-audio",style:{display:"none"}})]}),T.jsx("div",{id:"remote-video",className:"video-section"}),T.jsx("div",{id:"remote-audio",style:{display:"none"}})]}),r==="guest"&&f&&T.jsx("div",{className:"emoji-display",children:T.jsx("span",{children:f})}),r==="guest"&&T.jsxs("div",{className:"control",children:[T.jsx(fH,{}),T.jsxs("button",{onClick:()=>{M(null),ie(),y(!0)},className:"control-button game",children:[T.jsx("b",{children:"Game"}),T.jsx(Tr,{icon:FM,style:{marginLeft:"10px"}})]}),m&&T.jsx(uH,{gameImage:L,onClose:()=>{y(!1),M(null)},fetchNewImage:()=>{M(null),H()},onAnswer:ae=>{ae&&(M(null),H())}})]}),R>0&&T.jsx("div",{className:"countdown-overlay",children:T.jsx("div",{className:"countdown-circle",children:T.jsx("span",{children:R})})}),r==="host"&&x&&T.jsx("div",{className:"game-start-message",children:T.jsx("p",{children:x})})]})},dH=()=>{const[e,t]=ee.useState(""),[r,n]=ee.useState(null),[i,a]=ee.useState(null),[o,l]=ee.useState(!0),[u,f]=ee.useState(!0),[p,m]=ee.useState(""),y=Or();ee.useEffect(()=>{const _=localStorage.getItem("roomName"),b=localStorage.getItem("meetingToken");_&&b&&(t(_),n(b))},[]),ee.useEffect(()=>{const _=document.createElement("script");_.src="https://cdn.lordicon.com/lordicon.js",_.async=!0,document.body.appendChild(_)},[]);const x=async()=>{const _=yA();t(_);try{const b=await tP(_,"host");n(b),localStorage.setItem("roomName",_),localStorage.setItem("meetingToken",b)}catch(b){console.error("Error starting the meeting:",b)}},P=async()=>{try{i&&(i.localParticipant.tracks.forEach(_=>{_.track.stop(),_.unpublish()}),i.disconnect(),console.log("Room disconnected locally.")),await sH(e,"host"),a(null),t(""),n(null),localStorage.removeItem("roomName"),localStorage.removeItem("meetingToken"),y("/")}catch(_){console.error("Error ending meeting:",_)}},L=()=>{i&&(i.localParticipant.videoTracks.forEach(_=>{const b=_.track;o?b.disable():b.enable()}),l(!o))},M=()=>{i&&(i.localParticipant.audioTracks.forEach(_=>{const b=_.track;u?b.disable():b.enable()}),f(!u))},R=()=>{navigator.clipboard.writeText(e).then(()=>m("Room name copied to clipboard!")).catch(()=>m("Failed to copy room name.")),setTimeout(()=>m(""),2e3)};return r&&e?T.jsxs("div",{className:"meeting-container",children:[T.jsx(ip,{token:r,roomName:e,role:"host",setRoom:a}),T.jsxs("div",{className:"host-control-panel",children:[T.jsxs("button",{onClick:P,className:"control-button leave-call",children:[T.jsx(Tr,{icon:mk})," End Meeting"]}),T.jsxs("button",{onClick:L,className:"control-button video",children:[T.jsx(Tr,{icon:o?yk:gk}),o?"Turn Off Camera":"Turn On Camera"]}),T.jsxs("button",{onClick:M,className:"control-button microphone",children:[T.jsx(Tr,{icon:u?vk:pk}),u?"Mute Mic":"Unmute Mic"]}),T.jsxs("button",{onClick:R,className:"control-button copy-room",children:[T.jsx(Tr,{icon:$M})," Copy Room Name"]}),p&&T.jsx("p",{className:"copy-success",children:p})]})]}):T.jsx("div",{className:"meeting-container",children:r?T.jsx(ip,{token:r,roomName:e,role:"host"}):T.jsx("div",{className:"overlay",children:T.jsxs("div",{className:"modal",children:[T.jsx("button",{className:"close-button",onClick:()=>y("/"),children:"X"}),T.jsx("div",{className:"icon-container",children:T.jsx("lord-icon",{src:"https://cdn.lordicon.com/jikbqoam.json",trigger:"loop",delay:"2000",stroke:"bold",state:"morph-turn-on",style:{width:"100px",height:"100px"}})}),T.jsx("h2",{className:"modal-header",children:"Quick Tips Before you start!"}),T.jsxs("ol",{className:"tips-list",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Create & Share the Meeting Link:"})," Start the meeting and share the link with the child or their caregiver."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Emotion Detection:"})," Emotions will appear as icons based on your expressions; encourage the child to observe and relate these icons."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Guided Help:"})," If the child is struggling, remind them to use the Help button for response suggestions."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Emotion Game:"})," The child can start an emotion-identification game, providing a fun, interactive learning experience."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"For the Best Experience:"})," Use Google Chrome or Firefox as your browser."]})]}),T.jsx("button",{className:"start-button",onClick:x,children:"Start Meeting"})]})})})},hH=()=>{const[e,t]=ee.useState(""),[r,n]=ee.useState(null),[i,a]=ee.useState(null),[o,l]=ee.useState(""),[u,f]=ee.useState(!0),[p,m]=ee.useState(!0);ee.useState("");const y=Or();ee.useEffect(()=>{const _=localStorage.getItem("roomName"),b=localStorage.getItem("token"),N=localStorage.getItem("isCameraOn"),W=localStorage.getItem("isMicOn");b&&_&&(n(b),t(_),P(b,_)),N&&f(N==="true"),W&&m(W==="true");const H=document.createElement("script");H.src="https://cdn.lordicon.com/lordicon.js",H.async=!0,document.body.appendChild(H)},[]),ee.useEffect(()=>{e&&localStorage.setItem("roomName",e)},[e]),ee.useEffect(()=>{localStorage.setItem("isCameraOn",u)},[u]),ee.useEffect(()=>{localStorage.setItem("isMicOn",p)},[p]);const x=async()=>{try{const _=await tP(e,"guest");n(_),localStorage.setItem("token",_),l(""),P(_,e)}catch(_){_.response&&_.response.status===404?l("Room does not exist. Please check the room link."):(console.error("Error joining meeting:",_),l("An error occurred. Please try again."))}},P=async(_,b)=>{try{const N=await eP.connect(_,{name:b,region:"gll",audio:!0,video:!0});a(N),console.log("Reconnected to room:",N)}catch(N){console.error("Error reconnecting to room:",N)}},L=()=>{i&&(i.disconnect(),a(null)),localStorage.removeItem("roomName"),localStorage.removeItem("token"),localStorage.removeItem("isCameraOn"),localStorage.removeItem("isMicOn"),t(""),n(null),l(""),y("/")},M=()=>{i&&(i.localParticipant.videoTracks.forEach(_=>{const b=_.track;u?b.disable():b.enable()}),f(!u))},R=()=>{i&&(i.localParticipant.audioTracks.forEach(_=>{const b=_.track;p?b.disable():b.enable()}),m(!p))};return T.jsx("div",{className:"meeting-container",children:r?T.jsxs(T.Fragment,{children:[T.jsx(ip,{token:r,roomName:e,role:"guest",setRoom:a}),T.jsxs("div",{className:"guest-control-panel",children:[T.jsxs("button",{onClick:L,className:"control-button leave-call",children:[T.jsx(Tr,{icon:mk})," Leave Meeting"]}),T.jsxs("button",{onClick:M,className:"control-button video",children:[T.jsx(Tr,{icon:u?yk:gk}),u?"Turn Off Camera":"Turn On Camera"]}),T.jsxs("button",{onClick:R,className:"control-button microphone",children:[T.jsx(Tr,{icon:p?vk:pk}),p?"Mute Mic":"Unmute Mic"]})]})]}):T.jsx("div",{className:"overlay",children:T.jsxs("div",{className:"modal",children:[T.jsx("button",{className:"close-button",onClick:()=>y(-1),children:"X"}),T.jsx("div",{className:"icon-container",children:T.jsx("lord-icon",{src:"https://cdn.lordicon.com/jikbqoam.json",trigger:"loop",delay:"2000",stroke:"bold",state:"morph-turn-on",style:{width:"100px",height:"100px"}})}),T.jsx("h2",{className:"modal-header",children:"Quick Tips Before you start!"}),T.jsxs("ol",{className:"tips-list",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Join the Meeting:"})," Paste in the room name shared by the therapist, then click (Join Meeting) to enter."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Watch for Emotions:"})," Icons will appear that show how the therapist is feeling. Try to pay attention to these icons to understand different emotions."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Need Help?"})," If you’re not sure what to say, click the Help button for some ideas."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Play the Emotion Game:"})," You can start a game to practice recognizing emotions. It’s fun and helps you learn!"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"For the Best Experience:"})," Use Google Chrome or Firefox as your browser."]})]}),T.jsx("input",{type:"text",value:e,onChange:_=>t(_.target.value),placeholder:"Enter the invitation's link",className:"input-field"}),T.jsx("button",{className:"start-button",onClick:x,children:"Join Meeting"}),o&&T.jsx("p",{style:{color:"red"},children:o})]})})})};class P0 extends Er.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught in ErrorBoundary:",t,r)}render(){return this.state.hasError?T.jsx("h2",{children:"Something went wrong. Please try reloading the page."}):this.props.children}}const _d=({children:e})=>!!localStorage.getItem("token")?e:T.jsx(fR,{to:"/",replace:!0});function pH(){return T.jsx(mR,{children:T.jsxs(hR,{children:[T.jsx(jr,{path:"/",element:T.jsx(oA,{})}),T.jsx(jr,{path:"/sign-up",element:T.jsx(TS,{})}),T.jsx(jr,{path:"/login",element:T.jsx(PS,{})}),T.jsx(jr,{path:"/about-us",element:T.jsx(dA,{})}),T.jsx(jr,{path:"/forget-password",element:T.jsx(ES,{})}),T.jsx(jr,{path:"/reset-password/:token",element:T.jsx(hA,{})}),T.jsx(jr,{path:"/host",element:T.jsxs(P0,{children:[T.jsx(dH,{})," "]})}),T.jsx(jr,{path:"/home",element:T.jsxs(_d,{children:[" ",T.jsx(fA,{})," "]})}),T.jsx(jr,{path:"/child-profile/:childId",element:T.jsxs(_d,{children:[" ",T.jsx(xS,{})," "]})}),T.jsx(jr,{path:"/guest",element:T.jsxs(_d,{children:[" ",T.jsxs(P0,{children:[" ",T.jsx(hH,{})," "]})," "]})})]})})}wd.createRoot(document.getElementById("root")).render(T.jsx(Er.StrictMode,{children:T.jsx(pH,{})}));
